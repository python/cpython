void
emit_shim(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // shim.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // 7: 8b 01                         movl    (%rcx), %eax
    // 9: 85 c0                         testl   %eax, %eax
    // b: 78 04                         js      0x11 <__JIT_ENTRY+0x11>
    // d: ff c0                         incl    %eax
    // f: 89 01                         movl    %eax, (%rcx)
    // 11: 55                            pushq   %rbp
    // 12: 48 89 e5                      movq    %rsp, %rbp
    // 15: 41 57                         pushq   %r15
    // 17: 41 56                         pushq   %r14
    // 19: 41 55                         pushq   %r13
    // 1b: 41 54                         pushq   %r12
    // 1d: 53                            pushq   %rbx
    // 1e: 50                            pushq   %rax
    // 1f: 49 89 fc                      movq    %rdi, %r12
    // 22: 49 89 f5                      movq    %rsi, %r13
    // 25: 49 89 d6                      movq    %rdx, %r14
    // 28: 48 89 55 d0                   movq    %rdx, -0x30(%rbp)
    // 2c: e8 00 00 00 00                callq   0x31 <__JIT_ENTRY+0x31>
    // 000000000000002d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 31: 48 8b 4d d0                   movq    -0x30(%rbp), %rcx
    // 35: 48 8b b9 10 01 00 00          movq    0x110(%rcx), %rdi
    // 3c: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // 43: 48 89 91 10 01 00 00          movq    %rdx, 0x110(%rcx)
    // 4a: 8b 0f                         movl    (%rdi), %ecx
    // 4c: 85 c9                         testl   %ecx, %ecx
    // 4e: 78 12                         js      0x62 <__JIT_ENTRY+0x62>
    // 50: ff c9                         decl    %ecx
    // 52: 89 0f                         movl    %ecx, (%rdi)
    // 54: 75 0c                         jne     0x62 <__JIT_ENTRY+0x62>
    // 56: 48 89 c3                      movq    %rax, %rbx
    // 59: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5f <__JIT_ENTRY+0x5f>
    // 000000000000005b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5f: 48 89 d8                      movq    %rbx, %rax
    // 62: 48 83 c4 08                   addq    $0x8, %rsp
    // 66: 5b                            popq    %rbx
    // 67: 41 5c                         popq    %r12
    // 69: 41 5d                         popq    %r13
    // 6b: 41 5e                         popq    %r14
    // 6d: 41 5f                         popq    %r15
    // 6f: 5d                            popq    %rbp
    // 70: c3                            retq
    const unsigned char code_body[113] = {
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x01, 0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0, 0x89,
        0x01, 0x55, 0x48, 0x89, 0xe5, 0x41, 0x57, 0x41,
        0x56, 0x41, 0x55, 0x41, 0x54, 0x53, 0x50, 0x49,
        0x89, 0xfc, 0x49, 0x89, 0xf5, 0x49, 0x89, 0xd6,
        0x48, 0x89, 0x55, 0xd0, 0xe8, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x4d, 0xd0, 0x48, 0x8b, 0xb9,
        0x10, 0x01, 0x00, 0x00, 0x48, 0x8b, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0x91, 0x10, 0x01,
        0x00, 0x00, 0x8b, 0x0f, 0x85, 0xc9, 0x78, 0x12,
        0xff, 0xc9, 0x89, 0x0f, 0x75, 0x0c, 0x48, 0x89,
        0xc3, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0xd8, 0x48, 0x83, 0xc4, 0x08, 0x5b, 0x41,
        0x5c, 0x41, 0x5d, 0x41, 0x5e, 0x41, 0x5f, 0x5d,
        0xc3,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: EXECUTOR
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)executor);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0x4);
    patch_32r(code + 0x2d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3f, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x5b, (uintptr_t)data + -0x4);
}

void
emit__BINARY_OP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 10: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 14: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 19: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 20: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_GOT_LOAD        __PyEval_BinaryOps@GOTPCREL
    // 27: 4c 89 ff                      movq    %r15, %rdi
    // 2a: 48 89 de                      movq    %rbx, %rsi
    // 2d: ff 14 c1                      callq   *(%rcx,%rax,8)
    // 30: 49 89 c6                      movq    %rax, %r14
    // 33: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 38: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 41: 41 8b 07                      movl    (%r15), %eax
    // 44: 85 c0                         testl   %eax, %eax
    // 46: 78 10                         js      0x58 <__JIT_ENTRY+0x58>
    // 48: ff c8                         decl    %eax
    // 4a: 41 89 07                      movl    %eax, (%r15)
    // 4d: 75 09                         jne     0x58 <__JIT_ENTRY+0x58>
    // 4f: 4c 89 ff                      movq    %r15, %rdi
    // 52: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x58 <__JIT_ENTRY+0x58>
    // 0000000000000054:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 58: 8b 03                         movl    (%rbx), %eax
    // 5a: 85 c0                         testl   %eax, %eax
    // 5c: 78 06                         js      0x64 <__JIT_ENTRY+0x64>
    // 5e: ff c8                         decl    %eax
    // 60: 89 03                         movl    %eax, (%rbx)
    // 62: 74 1b                         je      0x7f <__JIT_ENTRY+0x7f>
    // 64: 4d 85 f6                      testq   %r14, %r14
    // 67: 74 24                         je      0x8d <__JIT_ENTRY+0x8d>
    // 69: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 6d: 49 83 c5 f8                   addq    $-0x8, %r13
    // 71: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 75: 48 83 c4 10                   addq    $0x10, %rsp
    // 79: 5d                            popq    %rbp
    // 7a: e9 00 00 00 00                jmp     0x7f <__JIT_ENTRY+0x7f>
    // 000000000000007b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 7f: 48 89 df                      movq    %rbx, %rdi
    // 82: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x88 <__JIT_ENTRY+0x88>
    // 0000000000000084:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 88: 4d 85 f6                      testq   %r14, %r14
    // 8b: 75 dc                         jne     0x69 <__JIT_ENTRY+0x69>
    // 8d: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 91: 48 83 c4 10                   addq    $0x10, %rsp
    // 95: 5d                            popq    %rbp
    // 96: e9 00 00 00 00                jmp     0x9b <__JIT_ENTRY+0x9b>
    // 0000000000000097:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[155] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0xff, 0x48, 0x89, 0xde, 0xff, 0x14, 0xc1,
        0x49, 0x89, 0xc6, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x10,
        0xff, 0xc8, 0x41, 0x89, 0x07, 0x75, 0x09, 0x4c,
        0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x03, 0x74, 0x1b, 0x4d, 0x85, 0xf6, 0x74,
        0x24, 0x4d, 0x89, 0x75, 0xf0, 0x49, 0x83, 0xc5,
        0xf8, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4,
        0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x85, 0xf6, 0x75, 0xdc, 0x4c, 0x8b, 0x75,
        0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_BinaryOps+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_BinaryOps);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x23, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x54, (uintptr_t)data + -0x4);
    patch_32r(code + 0x7b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x84, (uintptr_t)data + -0x4);
    patch_32r(code + 0x97, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_ADD_FLOAT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_ADD_FLOAT.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f0                   movq    -0x10(%r13), %rdi
    // 8: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // c: f2 0f 10 47 10                movsd   0x10(%rdi), %xmm0
    // 11: f2 0f 58 46 10                addsd   0x10(%rsi), %xmm0
    // 16: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT     __PyFloat_FromDouble_ConsumeInputs@GOTPCREL
    // 1c: 48 85 c0                      testq   %rax, %rax
    // 1f: 74 0e                         je      0x2f <__JIT_ENTRY+0x2f>
    // 21: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // 25: 49 83 c5 f8                   addq    $-0x8, %r13
    // 29: 5d                            popq    %rbp
    // 2a: e9 00 00 00 00                jmp     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 5d                            popq    %rbp
    // 30: e9 00 00 00 00                jmp     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[53] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x75, 0xf8, 0xf2, 0x0f, 0x10, 0x47,
        0x10, 0xf2, 0x0f, 0x58, 0x46, 0x10, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74,
        0x0e, 0x49, 0x89, 0x45, 0xf0, 0x49, 0x83, 0xc5,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyFloat_FromDouble_ConsumeInputs+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyFloat_FromDouble_ConsumeInputs);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_ADD_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_ADD_INT.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 10: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 14: 4c 89 ff                      movq    %r15, %rdi
    // 17: 48 89 de                      movq    %rbx, %rsi
    // 1a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     __PyLong_Add@GOTPCREL
    // 20: 49 89 c6                      movq    %rax, %r14
    // 23: 8b 03                         movl    (%rbx), %eax
    // 25: 85 c0                         testl   %eax, %eax
    // 27: 78 33                         js      0x5c <__JIT_ENTRY+0x5c>
    // 29: ff c8                         decl    %eax
    // 2b: 89 03                         movl    %eax, (%rbx)
    // 2d: 75 2d                         jne     0x5c <__JIT_ENTRY+0x5c>
    // 2f: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 36: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 3d: 48 85 c0                      testq   %rax, %rax
    // 40: 74 11                         je      0x53 <__JIT_ENTRY+0x53>
    // 42: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 49: 48 89 df                      movq    %rbx, %rdi
    // 4c: be 01 00 00 00                movl    $0x1, %esi
    // 51: ff d0                         callq   *%rax
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // 5c: 41 8b 07                      movl    (%r15), %eax
    // 5f: 85 c0                         testl   %eax, %eax
    // 61: 78 07                         js      0x6a <__JIT_ENTRY+0x6a>
    // 63: ff c8                         decl    %eax
    // 65: 41 89 07                      movl    %eax, (%r15)
    // 68: 74 1b                         je      0x85 <__JIT_ENTRY+0x85>
    // 6a: 4d 85 f6                      testq   %r14, %r14
    // 6d: 74 48                         je      0xb7 <__JIT_ENTRY+0xb7>
    // 6f: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 73: 49 83 c5 f8                   addq    $-0x8, %r13
    // 77: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 7b: 48 83 c4 10                   addq    $0x10, %rsp
    // 7f: 5d                            popq    %rbp
    // 80: e9 00 00 00 00                jmp     0x85 <__JIT_ENTRY+0x85>
    // 0000000000000081:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 85: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 8c: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 93: 48 85 c0                      testq   %rax, %rax
    // 96: 74 11                         je      0xa9 <__JIT_ENTRY+0xa9>
    // 98: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 9f: 4c 89 ff                      movq    %r15, %rdi
    // a2: be 01 00 00 00                movl    $0x1, %esi
    // a7: ff d0                         callq   *%rax
    // a9: 4c 89 ff                      movq    %r15, %rdi
    // ac: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb2 <__JIT_ENTRY+0xb2>
    // 00000000000000ae:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // b2: 4d 85 f6                      testq   %r14, %r14
    // b5: 75 b8                         jne     0x6f <__JIT_ENTRY+0x6f>
    // b7: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // bb: 48 83 c4 10                   addq    $0x10, %rsp
    // bf: 5d                            popq    %rbp
    // c0: e9 00 00 00 00                jmp     0xc5 <__JIT_ENTRY+0xc5>
    // 00000000000000c1:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[197] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x4c, 0x89, 0xff, 0x48,
        0x89, 0xde, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0xc6, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x33, 0xff, 0xc8, 0x89, 0x03, 0x75, 0x2d, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xbe, 0x01, 0x00, 0x00,
        0x00, 0xff, 0xd0, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x07, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x74, 0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x48, 0x4d,
        0x89, 0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8,
        0x25, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x11,
        0x48, 0x8b, 0x91, 0x00, 0x26, 0x00, 0x00, 0x4c,
        0x89, 0xff, 0xbe, 0x01, 0x00, 0x00, 0x00, 0xff,
        0xd0, 0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x85, 0xf6, 0x75, 0xb8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyLong_ExactDealloc+0x0
    // 8: &_PyRuntime+0x0
    // 10: &_PyLong_Add+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x10, (uintptr_t)&_PyLong_Add);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
    patch_32r(code + 0x81, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x88, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xae, (uintptr_t)data + -0x4);
    patch_32r(code + 0xc1, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_ADD_UNICODE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_ADD_UNICODE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 10: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 14: 4c 89 ff                      movq    %r15, %rdi
    // 17: 48 89 de                      movq    %rbx, %rsi
    // 1a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     _PyUnicode_Concat@GOTPCREL
    // 20: 49 89 c6                      movq    %rax, %r14
    // 23: 8b 03                         movl    (%rbx), %eax
    // 25: 85 c0                         testl   %eax, %eax
    // 27: 78 33                         js      0x5c <__JIT_ENTRY+0x5c>
    // 29: ff c8                         decl    %eax
    // 2b: 89 03                         movl    %eax, (%rbx)
    // 2d: 75 2d                         jne     0x5c <__JIT_ENTRY+0x5c>
    // 2f: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 36: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 3d: 48 85 c0                      testq   %rax, %rax
    // 40: 74 11                         je      0x53 <__JIT_ENTRY+0x53>
    // 42: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 49: 48 89 df                      movq    %rbx, %rdi
    // 4c: be 01 00 00 00                movl    $0x1, %esi
    // 51: ff d0                         callq   *%rax
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __PyUnicode_ExactDealloc@GOTPCREL
    // 5c: 41 8b 07                      movl    (%r15), %eax
    // 5f: 85 c0                         testl   %eax, %eax
    // 61: 78 07                         js      0x6a <__JIT_ENTRY+0x6a>
    // 63: ff c8                         decl    %eax
    // 65: 41 89 07                      movl    %eax, (%r15)
    // 68: 74 1b                         je      0x85 <__JIT_ENTRY+0x85>
    // 6a: 4d 85 f6                      testq   %r14, %r14
    // 6d: 74 48                         je      0xb7 <__JIT_ENTRY+0xb7>
    // 6f: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 73: 49 83 c5 f8                   addq    $-0x8, %r13
    // 77: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 7b: 48 83 c4 10                   addq    $0x10, %rsp
    // 7f: 5d                            popq    %rbp
    // 80: e9 00 00 00 00                jmp     0x85 <__JIT_ENTRY+0x85>
    // 0000000000000081:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 85: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 8c: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 93: 48 85 c0                      testq   %rax, %rax
    // 96: 74 11                         je      0xa9 <__JIT_ENTRY+0xa9>
    // 98: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 9f: 4c 89 ff                      movq    %r15, %rdi
    // a2: be 01 00 00 00                movl    $0x1, %esi
    // a7: ff d0                         callq   *%rax
    // a9: 4c 89 ff                      movq    %r15, %rdi
    // ac: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb2 <__JIT_ENTRY+0xb2>
    // 00000000000000ae:  X86_64_RELOC_GOT     __PyUnicode_ExactDealloc@GOTPCREL
    // b2: 4d 85 f6                      testq   %r14, %r14
    // b5: 75 b8                         jne     0x6f <__JIT_ENTRY+0x6f>
    // b7: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // bb: 48 83 c4 10                   addq    $0x10, %rsp
    // bf: 5d                            popq    %rbp
    // c0: e9 00 00 00 00                jmp     0xc5 <__JIT_ENTRY+0xc5>
    // 00000000000000c1:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[197] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x4c, 0x89, 0xff, 0x48,
        0x89, 0xde, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0xc6, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x33, 0xff, 0xc8, 0x89, 0x03, 0x75, 0x2d, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xbe, 0x01, 0x00, 0x00,
        0x00, 0xff, 0xd0, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x07, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x74, 0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x48, 0x4d,
        0x89, 0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8,
        0x25, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x11,
        0x48, 0x8b, 0x91, 0x00, 0x26, 0x00, 0x00, 0x4c,
        0x89, 0xff, 0xbe, 0x01, 0x00, 0x00, 0x00, 0xff,
        0xd0, 0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x85, 0xf6, 0x75, 0xb8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyUnicode_ExactDealloc+0x0
    // 8: &_PyRuntime+0x0
    // 10: &PyUnicode_Concat+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyUnicode_ExactDealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x10, (uintptr_t)&PyUnicode_Concat);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
    patch_32r(code + 0x81, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x88, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xae, (uintptr_t)data + -0x4);
    patch_32r(code + 0xc1, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_INPLACE_ADD_UNICODE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_INPLACE_ADD_UNICODE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // c: 48 63 1d 00 00 00 00          movslq  (%rip), %rbx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 13: 4d 39 7c dc 50                cmpq    %r15, 0x50(%r12,%rbx,8)
    // 18: 74 0a                         je      0x24 <__JIT_ENTRY+0x24>
    // 1a: 48 83 c4 10                   addq    $0x10, %rsp
    // 1e: 5d                            popq    %rbp
    // 1f: e9 00 00 00 00                jmp     0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 24: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 28: 4d 8b 75 f8                   movq    -0x8(%r13), %r14
    // 2c: 41 8b 07                      movl    (%r15), %eax
    // 2f: 85 c0                         testl   %eax, %eax
    // 31: 78 34                         js      0x67 <__JIT_ENTRY+0x67>
    // 33: ff c8                         decl    %eax
    // 35: 41 89 07                      movl    %eax, (%r15)
    // 38: 75 2d                         jne     0x67 <__JIT_ENTRY+0x67>
    // 3a: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 41: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 48: 48 85 c0                      testq   %rax, %rax
    // 4b: 74 11                         je      0x5e <__JIT_ENTRY+0x5e>
    // 4d: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 54: 4c 89 ff                      movq    %r15, %rdi
    // 57: be 01 00 00 00                movl    $0x1, %esi
    // 5c: ff d0                         callq   *%rax
    // 5e: 4c 89 ff                      movq    %r15, %rdi
    // 61: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x67 <__JIT_ENTRY+0x67>
    // 0000000000000063:  X86_64_RELOC_GOT     __PyUnicode_ExactDealloc@GOTPCREL
    // 67: 49 8b 44 dc 50                movq    0x50(%r12,%rbx,8), %rax
    // 6c: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // 70: 48 8d 7d f0                   leaq    -0x10(%rbp), %rdi
    // 74: 4c 89 f6                      movq    %r14, %rsi
    // 77: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7d <__JIT_ENTRY+0x7d>
    // 0000000000000079:  X86_64_RELOC_GOT     _PyUnicode_Append@GOTPCREL
    // 7d: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // 81: 49 89 44 dc 50                movq    %rax, 0x50(%r12,%rbx,8)
    // 86: 41 8b 0e                      movl    (%r14), %ecx
    // 89: 85 c9                         testl   %ecx, %ecx
    // 8b: 78 39                         js      0xc6 <__JIT_ENTRY+0xc6>
    // 8d: ff c9                         decl    %ecx
    // 8f: 41 89 0e                      movl    %ecx, (%r14)
    // 92: 75 2d                         jne     0xc1 <__JIT_ENTRY+0xc1>
    // 94: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x9b <__JIT_ENTRY+0x9b>
    // 0000000000000097:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 9b: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // a2: 48 85 c0                      testq   %rax, %rax
    // a5: 74 11                         je      0xb8 <__JIT_ENTRY+0xb8>
    // a7: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // ae: 4c 89 f7                      movq    %r14, %rdi
    // b1: be 01 00 00 00                movl    $0x1, %esi
    // b6: ff d0                         callq   *%rax
    // b8: 4c 89 f7                      movq    %r14, %rdi
    // bb: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xc1 <__JIT_ENTRY+0xc1>
    // 00000000000000bd:  X86_64_RELOC_GOT     __PyUnicode_ExactDealloc@GOTPCREL
    // c1: 49 8b 44 dc 50                movq    0x50(%r12,%rbx,8), %rax
    // c6: 48 85 c0                      testq   %rax, %rax
    // c9: 74 12                         je      0xdd <__JIT_ENTRY+0xdd>
    // cb: 49 83 c5 f0                   addq    $-0x10, %r13
    // cf: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // d3: 48 83 c4 10                   addq    $0x10, %rsp
    // d7: 5d                            popq    %rbp
    // d8: e9 00 00 00 00                jmp     0xdd <__JIT_ENTRY+0xdd>
    // 00000000000000d9:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // dd: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // e1: 48 83 c4 10                   addq    $0x10, %rsp
    // e5: 5d                            popq    %rbp
    // e6: e9 00 00 00 00                jmp     0xeb <__JIT_ENTRY+0xeb>
    // 00000000000000e7:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[235] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4d, 0x8b, 0x7d, 0xf0, 0x48, 0x63, 0x1d, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x39, 0x7c, 0xdc, 0x50,
        0x74, 0x0a, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0x75, 0xf8,
        0x4d, 0x8b, 0x75, 0xf8, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x34, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x75, 0x2d, 0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x81, 0xf8, 0x25, 0x00, 0x00,
        0x48, 0x85, 0xc0, 0x74, 0x11, 0x48, 0x8b, 0x91,
        0x00, 0x26, 0x00, 0x00, 0x4c, 0x89, 0xff, 0xbe,
        0x01, 0x00, 0x00, 0x00, 0xff, 0xd0, 0x4c, 0x89,
        0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8b, 0x44, 0xdc, 0x50, 0x48, 0x89, 0x45, 0xf0,
        0x48, 0x8d, 0x7d, 0xf0, 0x4c, 0x89, 0xf6, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x45,
        0xf0, 0x49, 0x89, 0x44, 0xdc, 0x50, 0x41, 0x8b,
        0x0e, 0x85, 0xc9, 0x78, 0x39, 0xff, 0xc9, 0x41,
        0x89, 0x0e, 0x75, 0x2d, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8, 0x25,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x11, 0x48,
        0x8b, 0x91, 0x00, 0x26, 0x00, 0x00, 0x4c, 0x89,
        0xf7, 0xbe, 0x01, 0x00, 0x00, 0x00, 0xff, 0xd0,
        0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x8b, 0x44, 0xdc, 0x50, 0x48, 0x85,
        0xc0, 0x74, 0x12, 0x49, 0x83, 0xc5, 0xf0, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8b, 0x75,
        0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_PyUnicode_ExactDealloc+0x0
    // 8: &_PyRuntime+0x0
    // 10: &PyUnicode_Append+0x0
    // 18: OPERAND0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyUnicode_ExactDealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x10, (uintptr_t)&PyUnicode_Append);
    patch_64(data + 0x18, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x14);
    patch_32r(code + 0x20, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x3d, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x63, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x79, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x97, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xbd, (uintptr_t)data + -0x4);
    patch_32r(code + 0xd9, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xe7, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_MULTIPLY_FLOAT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_MULTIPLY_FLOAT.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f0                   movq    -0x10(%r13), %rdi
    // 8: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // c: f2 0f 10 47 10                movsd   0x10(%rdi), %xmm0
    // 11: f2 0f 59 46 10                mulsd   0x10(%rsi), %xmm0
    // 16: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT     __PyFloat_FromDouble_ConsumeInputs@GOTPCREL
    // 1c: 48 85 c0                      testq   %rax, %rax
    // 1f: 74 0e                         je      0x2f <__JIT_ENTRY+0x2f>
    // 21: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // 25: 49 83 c5 f8                   addq    $-0x8, %r13
    // 29: 5d                            popq    %rbp
    // 2a: e9 00 00 00 00                jmp     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 5d                            popq    %rbp
    // 30: e9 00 00 00 00                jmp     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[53] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x75, 0xf8, 0xf2, 0x0f, 0x10, 0x47,
        0x10, 0xf2, 0x0f, 0x59, 0x46, 0x10, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74,
        0x0e, 0x49, 0x89, 0x45, 0xf0, 0x49, 0x83, 0xc5,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyFloat_FromDouble_ConsumeInputs+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyFloat_FromDouble_ConsumeInputs);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_MULTIPLY_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_MULTIPLY_INT.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 10: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 14: 4c 89 ff                      movq    %r15, %rdi
    // 17: 48 89 de                      movq    %rbx, %rsi
    // 1a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     __PyLong_Multiply@GOTPCREL
    // 20: 49 89 c6                      movq    %rax, %r14
    // 23: 8b 03                         movl    (%rbx), %eax
    // 25: 85 c0                         testl   %eax, %eax
    // 27: 78 33                         js      0x5c <__JIT_ENTRY+0x5c>
    // 29: ff c8                         decl    %eax
    // 2b: 89 03                         movl    %eax, (%rbx)
    // 2d: 75 2d                         jne     0x5c <__JIT_ENTRY+0x5c>
    // 2f: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 36: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 3d: 48 85 c0                      testq   %rax, %rax
    // 40: 74 11                         je      0x53 <__JIT_ENTRY+0x53>
    // 42: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 49: 48 89 df                      movq    %rbx, %rdi
    // 4c: be 01 00 00 00                movl    $0x1, %esi
    // 51: ff d0                         callq   *%rax
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // 5c: 41 8b 07                      movl    (%r15), %eax
    // 5f: 85 c0                         testl   %eax, %eax
    // 61: 78 07                         js      0x6a <__JIT_ENTRY+0x6a>
    // 63: ff c8                         decl    %eax
    // 65: 41 89 07                      movl    %eax, (%r15)
    // 68: 74 1b                         je      0x85 <__JIT_ENTRY+0x85>
    // 6a: 4d 85 f6                      testq   %r14, %r14
    // 6d: 74 48                         je      0xb7 <__JIT_ENTRY+0xb7>
    // 6f: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 73: 49 83 c5 f8                   addq    $-0x8, %r13
    // 77: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 7b: 48 83 c4 10                   addq    $0x10, %rsp
    // 7f: 5d                            popq    %rbp
    // 80: e9 00 00 00 00                jmp     0x85 <__JIT_ENTRY+0x85>
    // 0000000000000081:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 85: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 8c: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 93: 48 85 c0                      testq   %rax, %rax
    // 96: 74 11                         je      0xa9 <__JIT_ENTRY+0xa9>
    // 98: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 9f: 4c 89 ff                      movq    %r15, %rdi
    // a2: be 01 00 00 00                movl    $0x1, %esi
    // a7: ff d0                         callq   *%rax
    // a9: 4c 89 ff                      movq    %r15, %rdi
    // ac: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb2 <__JIT_ENTRY+0xb2>
    // 00000000000000ae:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // b2: 4d 85 f6                      testq   %r14, %r14
    // b5: 75 b8                         jne     0x6f <__JIT_ENTRY+0x6f>
    // b7: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // bb: 48 83 c4 10                   addq    $0x10, %rsp
    // bf: 5d                            popq    %rbp
    // c0: e9 00 00 00 00                jmp     0xc5 <__JIT_ENTRY+0xc5>
    // 00000000000000c1:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[197] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x4c, 0x89, 0xff, 0x48,
        0x89, 0xde, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0xc6, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x33, 0xff, 0xc8, 0x89, 0x03, 0x75, 0x2d, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xbe, 0x01, 0x00, 0x00,
        0x00, 0xff, 0xd0, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x07, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x74, 0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x48, 0x4d,
        0x89, 0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8,
        0x25, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x11,
        0x48, 0x8b, 0x91, 0x00, 0x26, 0x00, 0x00, 0x4c,
        0x89, 0xff, 0xbe, 0x01, 0x00, 0x00, 0x00, 0xff,
        0xd0, 0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x85, 0xf6, 0x75, 0xb8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyLong_ExactDealloc+0x0
    // 8: &_PyRuntime+0x0
    // 10: &_PyLong_Multiply+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x10, (uintptr_t)&_PyLong_Multiply);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
    patch_32r(code + 0x81, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x88, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xae, (uintptr_t)data + -0x4);
    patch_32r(code + 0xc1, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_SUBTRACT_FLOAT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_SUBTRACT_FLOAT.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f0                   movq    -0x10(%r13), %rdi
    // 8: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // c: f2 0f 10 47 10                movsd   0x10(%rdi), %xmm0
    // 11: f2 0f 5c 46 10                subsd   0x10(%rsi), %xmm0
    // 16: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT     __PyFloat_FromDouble_ConsumeInputs@GOTPCREL
    // 1c: 48 85 c0                      testq   %rax, %rax
    // 1f: 74 0e                         je      0x2f <__JIT_ENTRY+0x2f>
    // 21: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // 25: 49 83 c5 f8                   addq    $-0x8, %r13
    // 29: 5d                            popq    %rbp
    // 2a: e9 00 00 00 00                jmp     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 5d                            popq    %rbp
    // 30: e9 00 00 00 00                jmp     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[53] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x75, 0xf8, 0xf2, 0x0f, 0x10, 0x47,
        0x10, 0xf2, 0x0f, 0x5c, 0x46, 0x10, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74,
        0x0e, 0x49, 0x89, 0x45, 0xf0, 0x49, 0x83, 0xc5,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyFloat_FromDouble_ConsumeInputs+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyFloat_FromDouble_ConsumeInputs);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_OP_SUBTRACT_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_OP_SUBTRACT_INT.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 10: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 14: 4c 89 ff                      movq    %r15, %rdi
    // 17: 48 89 de                      movq    %rbx, %rsi
    // 1a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     __PyLong_Subtract@GOTPCREL
    // 20: 49 89 c6                      movq    %rax, %r14
    // 23: 8b 03                         movl    (%rbx), %eax
    // 25: 85 c0                         testl   %eax, %eax
    // 27: 78 33                         js      0x5c <__JIT_ENTRY+0x5c>
    // 29: ff c8                         decl    %eax
    // 2b: 89 03                         movl    %eax, (%rbx)
    // 2d: 75 2d                         jne     0x5c <__JIT_ENTRY+0x5c>
    // 2f: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 36: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 3d: 48 85 c0                      testq   %rax, %rax
    // 40: 74 11                         je      0x53 <__JIT_ENTRY+0x53>
    // 42: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 49: 48 89 df                      movq    %rbx, %rdi
    // 4c: be 01 00 00 00                movl    $0x1, %esi
    // 51: ff d0                         callq   *%rax
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // 5c: 41 8b 07                      movl    (%r15), %eax
    // 5f: 85 c0                         testl   %eax, %eax
    // 61: 78 07                         js      0x6a <__JIT_ENTRY+0x6a>
    // 63: ff c8                         decl    %eax
    // 65: 41 89 07                      movl    %eax, (%r15)
    // 68: 74 1b                         je      0x85 <__JIT_ENTRY+0x85>
    // 6a: 4d 85 f6                      testq   %r14, %r14
    // 6d: 74 48                         je      0xb7 <__JIT_ENTRY+0xb7>
    // 6f: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 73: 49 83 c5 f8                   addq    $-0x8, %r13
    // 77: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 7b: 48 83 c4 10                   addq    $0x10, %rsp
    // 7f: 5d                            popq    %rbp
    // 80: e9 00 00 00 00                jmp     0x85 <__JIT_ENTRY+0x85>
    // 0000000000000081:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 85: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 8c: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 93: 48 85 c0                      testq   %rax, %rax
    // 96: 74 11                         je      0xa9 <__JIT_ENTRY+0xa9>
    // 98: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 9f: 4c 89 ff                      movq    %r15, %rdi
    // a2: be 01 00 00 00                movl    $0x1, %esi
    // a7: ff d0                         callq   *%rax
    // a9: 4c 89 ff                      movq    %r15, %rdi
    // ac: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb2 <__JIT_ENTRY+0xb2>
    // 00000000000000ae:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // b2: 4d 85 f6                      testq   %r14, %r14
    // b5: 75 b8                         jne     0x6f <__JIT_ENTRY+0x6f>
    // b7: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // bb: 48 83 c4 10                   addq    $0x10, %rsp
    // bf: 5d                            popq    %rbp
    // c0: e9 00 00 00 00                jmp     0xc5 <__JIT_ENTRY+0xc5>
    // 00000000000000c1:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[197] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x4c, 0x89, 0xff, 0x48,
        0x89, 0xde, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0xc6, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x33, 0xff, 0xc8, 0x89, 0x03, 0x75, 0x2d, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xbe, 0x01, 0x00, 0x00,
        0x00, 0xff, 0xd0, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x07, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x74, 0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x48, 0x4d,
        0x89, 0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8,
        0x25, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x11,
        0x48, 0x8b, 0x91, 0x00, 0x26, 0x00, 0x00, 0x4c,
        0x89, 0xff, 0xbe, 0x01, 0x00, 0x00, 0x00, 0xff,
        0xd0, 0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x85, 0xf6, 0x75, 0xb8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyLong_ExactDealloc+0x0
    // 8: &_PyRuntime+0x0
    // 10: &_PyLong_Subtract+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x10, (uintptr_t)&_PyLong_Subtract);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
    patch_32r(code + 0x81, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x88, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xae, (uintptr_t)data + -0x4);
    patch_32r(code + 0xc1, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_SLICE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SLICE.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // 10: 49 8b 5d e8                   movq    -0x18(%r13), %rbx
    // 14: 49 8b 7d f0                   movq    -0x10(%r13), %rdi
    // 18: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_GOT     __PyBuildSlice_ConsumeRefs@GOTPCREL
    // 23: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 28: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 31: 48 85 c0                      testq   %rax, %rax
    // 34: 74 4c                         je      0x82 <__JIT_ENTRY+0x82>
    // 36: 49 89 c7                      movq    %rax, %r15
    // 39: 49 83 c5 f0                   addq    $-0x10, %r13
    // 3d: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 42: 48 89 df                      movq    %rbx, %rdi
    // 45: 48 89 c6                      movq    %rax, %rsi
    // 48: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4e <__JIT_ENTRY+0x4e>
    // 000000000000004a:  X86_64_RELOC_GOT     _PyObject_GetItem@GOTPCREL
    // 4e: 49 89 c6                      movq    %rax, %r14
    // 51: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 56: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 5f: 41 8b 07                      movl    (%r15), %eax
    // 62: 85 c0                         testl   %eax, %eax
    // 64: 78 10                         js      0x76 <__JIT_ENTRY+0x76>
    // 66: ff c8                         decl    %eax
    // 68: 41 89 07                      movl    %eax, (%r15)
    // 6b: 75 09                         jne     0x76 <__JIT_ENTRY+0x76>
    // 6d: 4c 89 ff                      movq    %r15, %rdi
    // 70: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x76 <__JIT_ENTRY+0x76>
    // 0000000000000072:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 76: 49 83 c5 10                   addq    $0x10, %r13
    // 7a: 8b 03                         movl    (%rbx), %eax
    // 7c: 85 c0                         testl   %eax, %eax
    // 7e: 79 0b                         jns     0x8b <__JIT_ENTRY+0x8b>
    // 80: eb 0f                         jmp     0x91 <__JIT_ENTRY+0x91>
    // 82: 45 31 f6                      xorl    %r14d, %r14d
    // 85: 8b 03                         movl    (%rbx), %eax
    // 87: 85 c0                         testl   %eax, %eax
    // 89: 78 06                         js      0x91 <__JIT_ENTRY+0x91>
    // 8b: ff c8                         decl    %eax
    // 8d: 89 03                         movl    %eax, (%rbx)
    // 8f: 74 1b                         je      0xac <__JIT_ENTRY+0xac>
    // 91: 4d 85 f6                      testq   %r14, %r14
    // 94: 74 24                         je      0xba <__JIT_ENTRY+0xba>
    // 96: 4d 89 75 e8                   movq    %r14, -0x18(%r13)
    // 9a: 49 83 c5 f0                   addq    $-0x10, %r13
    // 9e: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // a2: 48 83 c4 10                   addq    $0x10, %rsp
    // a6: 5d                            popq    %rbp
    // a7: e9 00 00 00 00                jmp     0xac <__JIT_ENTRY+0xac>
    // 00000000000000a8:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // ac: 48 89 df                      movq    %rbx, %rdi
    // af: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb5 <__JIT_ENTRY+0xb5>
    // 00000000000000b1:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b5: 4d 85 f6                      testq   %r14, %r14
    // b8: 75 dc                         jne     0x96 <__JIT_ENTRY+0x96>
    // ba: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // be: 48 83 c4 10                   addq    $0x10, %rsp
    // c2: 5d                            popq    %rbp
    // c3: e9 00 00 00 00                jmp     0xc8 <__JIT_ENTRY+0xc8>
    // 00000000000000c4:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[200] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x8b, 0x75, 0xf8,
        0x49, 0x8b, 0x5d, 0xe8, 0x49, 0x8b, 0x7d, 0xf0,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x85, 0xc0, 0x74, 0x4c, 0x49, 0x89,
        0xc7, 0x49, 0x83, 0xc5, 0xf0, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc6,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89,
        0xc6, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x41,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x10, 0xff, 0xc8,
        0x41, 0x89, 0x07, 0x75, 0x09, 0x4c, 0x89, 0xff,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49, 0x83,
        0xc5, 0x10, 0x8b, 0x03, 0x85, 0xc0, 0x79, 0x0b,
        0xeb, 0x0f, 0x45, 0x31, 0xf6, 0x8b, 0x03, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x03, 0x74,
        0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x24, 0x4d, 0x89,
        0x75, 0xe8, 0x49, 0x83, 0xc5, 0xf0, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x85, 0xf6,
        0x75, 0xdc, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_GetItem+0x0
    // 10: &_PyBuildSlice_ConsumeRefs+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_GetItem);
    patch_64(data + 0x10, (uintptr_t)&_PyBuildSlice_ConsumeRefs);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1f, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x4a, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x72, (uintptr_t)data + -0x4);
    patch_32r(code + 0xa8, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xb1, (uintptr_t)data + -0x4);
    patch_32r(code + 0xc4, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_SUBSCR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SUBSCR.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 10: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 14: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 19: 48 89 df                      movq    %rbx, %rdi
    // 1c: 4c 89 fe                      movq    %r15, %rsi
    // 1f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyObject_GetItem@GOTPCREL
    // 25: 49 89 c6                      movq    %rax, %r14
    // 28: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2d: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 36: 8b 03                         movl    (%rbx), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 0f                         js      0x4b <__JIT_ENTRY+0x4b>
    // 3c: ff c8                         decl    %eax
    // 3e: 89 03                         movl    %eax, (%rbx)
    // 40: 75 09                         jne     0x4b <__JIT_ENTRY+0x4b>
    // 42: 48 89 df                      movq    %rbx, %rdi
    // 45: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4b: 41 8b 07                      movl    (%r15), %eax
    // 4e: 85 c0                         testl   %eax, %eax
    // 50: 78 07                         js      0x59 <__JIT_ENTRY+0x59>
    // 52: ff c8                         decl    %eax
    // 54: 41 89 07                      movl    %eax, (%r15)
    // 57: 74 1b                         je      0x74 <__JIT_ENTRY+0x74>
    // 59: 4d 85 f6                      testq   %r14, %r14
    // 5c: 74 24                         je      0x82 <__JIT_ENTRY+0x82>
    // 5e: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 62: 49 83 c5 f8                   addq    $-0x8, %r13
    // 66: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 6a: 48 83 c4 10                   addq    $0x10, %rsp
    // 6e: 5d                            popq    %rbp
    // 6f: e9 00 00 00 00                jmp     0x74 <__JIT_ENTRY+0x74>
    // 0000000000000070:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 74: 4c 89 ff                      movq    %r15, %rdi
    // 77: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7d <__JIT_ENTRY+0x7d>
    // 0000000000000079:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 7d: 4d 85 f6                      testq   %r14, %r14
    // 80: 75 dc                         jne     0x5e <__JIT_ENTRY+0x5e>
    // 82: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 86: 48 83 c4 10                   addq    $0x10, %rsp
    // 8a: 5d                            popq    %rbp
    // 8b: e9 00 00 00 00                jmp     0x90 <__JIT_ENTRY+0x90>
    // 000000000000008c:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[144] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x8b, 0x5d, 0xf0,
        0x4d, 0x8b, 0x7d, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x48, 0x89, 0xdf, 0x4c, 0x89, 0xfe, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0xc6,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x03,
        0x85, 0xc0, 0x78, 0x0f, 0xff, 0xc8, 0x89, 0x03,
        0x75, 0x09, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x07, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x74,
        0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x24, 0x4d, 0x89,
        0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xff, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x85, 0xf6,
        0x75, 0xdc, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_GetItem+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_GetItem);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x47, (uintptr_t)data + -0x4);
    patch_32r(code + 0x70, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x79, (uintptr_t)data + -0x4);
    patch_32r(code + 0x8c, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_SUBSCR_CHECK_FUNC(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SUBSCR_CHECK_FUNC.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // c: f6 81 a9 00 00 00 02          testb   $0x2, 0xa9(%rcx)
    // 13: 74 59                         je      0x6e <__JIT_ENTRY+0x6e>
    // 15: 48 8b 81 90 03 00 00          movq    0x390(%rcx), %rax
    // 1c: 48 85 c0                      testq   %rax, %rax
    // 1f: 74 4d                         je      0x6e <__JIT_ENTRY+0x6e>
    // 21: 8b 90 90 00 00 00             movl    0x90(%rax), %edx
    // 27: 3b 91 98 03 00 00             cmpl    0x398(%rcx), %edx
    // 2d: 75 3f                         jne     0x6e <__JIT_ENTRY+0x6e>
    // 2f: 49 8b 8e f0 00 00 00          movq    0xf0(%r14), %rcx
    // 36: 48 85 c9                      testq   %rcx, %rcx
    // 39: 74 33                         je      0x6e <__JIT_ENTRY+0x6e>
    // 3b: 48 8b 50 30                   movq    0x30(%rax), %rdx
    // 3f: 48 63 52 4c                   movslq  0x4c(%rdx), %rdx
    // 43: 49 8b b6 f8 00 00 00          movq    0xf8(%r14), %rsi
    // 4a: 48 29 ce                      subq    %rcx, %rsi
    // 4d: 48 c1 fe 03                   sarq    $0x3, %rsi
    // 51: 48 39 d6                      cmpq    %rdx, %rsi
    // 54: 7e 18                         jle     0x6e <__JIT_ENTRY+0x6e>
    // 56: 8b 08                         movl    (%rax), %ecx
    // 58: 85 c9                         testl   %ecx, %ecx
    // 5a: 78 04                         js      0x60 <__JIT_ENTRY+0x60>
    // 5c: ff c1                         incl    %ecx
    // 5e: 89 08                         movl    %ecx, (%rax)
    // 60: 49 89 45 00                   movq    %rax, (%r13)
    // 64: 49 83 c5 08                   addq    $0x8, %r13
    // 68: 5d                            popq    %rbp
    // 69: e9 00 00 00 00                jmp     0x6e <__JIT_ENTRY+0x6e>
    // 000000000000006a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 6e: 5d                            popq    %rbp
    // 6f: e9 00 00 00 00                jmp     0x74 <__JIT_ENTRY+0x74>
    // 0000000000000070:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[116] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x48, 0x08, 0xf6, 0x81, 0xa9, 0x00,
        0x00, 0x00, 0x02, 0x74, 0x59, 0x48, 0x8b, 0x81,
        0x90, 0x03, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74,
        0x4d, 0x8b, 0x90, 0x90, 0x00, 0x00, 0x00, 0x3b,
        0x91, 0x98, 0x03, 0x00, 0x00, 0x75, 0x3f, 0x49,
        0x8b, 0x8e, 0xf0, 0x00, 0x00, 0x00, 0x48, 0x85,
        0xc9, 0x74, 0x33, 0x48, 0x8b, 0x50, 0x30, 0x48,
        0x63, 0x52, 0x4c, 0x49, 0x8b, 0xb6, 0xf8, 0x00,
        0x00, 0x00, 0x48, 0x29, 0xce, 0x48, 0xc1, 0xfe,
        0x03, 0x48, 0x39, 0xd6, 0x7e, 0x18, 0x8b, 0x08,
        0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1, 0x89, 0x08,
        0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x6a, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x70, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__BINARY_SUBSCR_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SUBSCR_DICT.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // c: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 10: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     _PyDict_Type@GOTPCREL
    // 17: 74 0a                         je      0x23 <__JIT_ENTRY+0x23>
    // 19: 48 83 c4 10                   addq    $0x10, %rsp
    // 1d: 5d                            popq    %rbp
    // 1e: e9 00 00 00 00                jmp     0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 23: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 27: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2c: 48 8d 55 f8                   leaq    -0x8(%rbp), %rdx
    // 30: 4c 89 ff                      movq    %r15, %rdi
    // 33: 48 89 de                      movq    %rbx, %rsi
    // 36: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_GOT     _PyDict_GetItemRef@GOTPCREL
    // 3c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 41: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 4a: 85 c0                         testl   %eax, %eax
    // 4c: 75 22                         jne     0x70 <__JIT_ENTRY+0x70>
    // 4e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: 41 89 c5                      movl    %eax, %r13d
    // 59: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5f <__JIT_ENTRY+0x5f>
    // 000000000000005b:  X86_64_RELOC_GOT     __PyErr_SetKeyError@GOTPCREL
    // 5f: 44 89 e8                      movl    %r13d, %eax
    // 62: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 67: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 70: 41 8b 0f                      movl    (%r15), %ecx
    // 73: 85 c9                         testl   %ecx, %ecx
    // 75: 78 16                         js      0x8d <__JIT_ENTRY+0x8d>
    // 77: ff c9                         decl    %ecx
    // 79: 41 89 0f                      movl    %ecx, (%r15)
    // 7c: 75 0f                         jne     0x8d <__JIT_ENTRY+0x8d>
    // 7e: 4c 89 ff                      movq    %r15, %rdi
    // 81: 41 89 c7                      movl    %eax, %r15d
    // 84: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8a <__JIT_ENTRY+0x8a>
    // 0000000000000086:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 8a: 44 89 f8                      movl    %r15d, %eax
    // 8d: 8b 0b                         movl    (%rbx), %ecx
    // 8f: 85 c9                         testl   %ecx, %ecx
    // 91: 78 06                         js      0x99 <__JIT_ENTRY+0x99>
    // 93: ff c9                         decl    %ecx
    // 95: 89 0b                         movl    %ecx, (%rbx)
    // 97: 74 1a                         je      0xb3 <__JIT_ENTRY+0xb3>
    // 99: 85 c0                         testl   %eax, %eax
    // 9b: 7e 27                         jle     0xc4 <__JIT_ENTRY+0xc4>
    // 9d: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // a1: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // a5: 49 83 c5 f8                   addq    $-0x8, %r13
    // a9: 48 83 c4 10                   addq    $0x10, %rsp
    // ad: 5d                            popq    %rbp
    // ae: e9 00 00 00 00                jmp     0xb3 <__JIT_ENTRY+0xb3>
    // 00000000000000af:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // b3: 48 89 df                      movq    %rbx, %rdi
    // b6: 89 c3                         movl    %eax, %ebx
    // b8: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xbe <__JIT_ENTRY+0xbe>
    // 00000000000000ba:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // be: 89 d8                         movl    %ebx, %eax
    // c0: 85 c0                         testl   %eax, %eax
    // c2: 7f d9                         jg      0x9d <__JIT_ENTRY+0x9d>
    // c4: 48 83 c4 10                   addq    $0x10, %rsp
    // c8: 5d                            popq    %rbp
    // c9: e9 00 00 00 00                jmp     0xce <__JIT_ENTRY+0xce>
    // 00000000000000ca:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[206] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4d, 0x8b, 0x7d, 0xf0, 0x49, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x74,
        0x0a, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d, 0xf8, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x8d, 0x55, 0xf8,
        0x4c, 0x89, 0xff, 0x48, 0x89, 0xde, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x85, 0xc0, 0x75, 0x22, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf, 0x41, 0x89,
        0xc5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x44,
        0x89, 0xe8, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x41, 0x8b, 0x0f, 0x85, 0xc9, 0x78, 0x16, 0xff,
        0xc9, 0x41, 0x89, 0x0f, 0x75, 0x0f, 0x4c, 0x89,
        0xff, 0x41, 0x89, 0xc7, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x44, 0x89, 0xf8, 0x8b, 0x0b, 0x85,
        0xc9, 0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74,
        0x1a, 0x85, 0xc0, 0x7e, 0x27, 0x48, 0x8b, 0x45,
        0xf8, 0x49, 0x89, 0x45, 0xf0, 0x49, 0x83, 0xc5,
        0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0x89, 0xc3,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x89, 0xd8,
        0x85, 0xc0, 0x7f, 0xd9, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyErr_SetKeyError+0x0
    // 10: &PyDict_GetItemRef+0x0
    // 18: &PyDict_Type+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyErr_SetKeyError);
    patch_64(data + 0x10, (uintptr_t)&PyDict_GetItemRef);
    patch_64(data + 0x18, (uintptr_t)&PyDict_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + 0x14);
    patch_32r(code + 0x1f, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x38, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x5b, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x86, (uintptr_t)data + -0x4);
    patch_32r(code + 0xaf, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xba, (uintptr_t)data + -0x4);
    patch_32r(code + 0xca, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BINARY_SUBSCR_INIT_CALL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SUBSCR_INIT_CALL.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // 4: 41 0f 10 45 e8                movups  -0x18(%r13), %xmm0
    // 9: 48 8b 4a 30                   movq    0x30(%rdx), %rcx
    // d: 49 8b 86 f0 00 00 00          movq    0xf0(%r14), %rax
    // 14: 48 63 71 4c                   movslq  0x4c(%rcx), %rsi
    // 18: 48 8d 34 f0                   leaq    (%rax,%rsi,8), %rsi
    // 1c: 49 89 b6 f0 00 00 00          movq    %rsi, 0xf0(%r14)
    // 23: 4c 89 60 08                   movq    %r12, 0x8(%rax)
    // 27: 48 89 50 10                   movq    %rdx, 0x10(%rax)
    // 2b: 8b 31                         movl    (%rcx), %esi
    // 2d: 85 f6                         testl   %esi, %esi
    // 2f: 78 04                         js      0x35 <__JIT_ENTRY+0x35>
    // 31: ff c6                         incl    %esi
    // 33: 89 31                         movl    %esi, (%rcx)
    // 35: 55                            pushq   %rbp
    // 36: 48 89 e5                      movq    %rsp, %rbp
    // 39: 48 89 08                      movq    %rcx, (%rax)
    // 3c: 0f 10 4a 10                   movups  0x10(%rdx), %xmm1
    // 40: 0f 11 48 18                   movups  %xmm1, 0x18(%rax)
    // 44: 48 c7 40 28 00 00 00 00       movq    $0x0, 0x28(%rax)
    // 4c: 48 63 51 48                   movslq  0x48(%rcx), %rdx
    // 50: 48 8d 74 d0 50                leaq    0x50(%rax,%rdx,8), %rsi
    // 55: 48 89 70 40                   movq    %rsi, 0x40(%rax)
    // 59: 48 8d b1 d0 00 00 00          leaq    0xd0(%rcx), %rsi
    // 60: 48 c7 40 30 00 00 00 00       movq    $0x0, 0x30(%rax)
    // 68: 48 89 70 38                   movq    %rsi, 0x38(%rax)
    // 6c: c7 40 48 00 00 00 00          movl    $0x0, 0x48(%rax)
    // 73: 48 83 fa 03                   cmpq    $0x3, %rdx
    // 77: 7c 23                         jl      0x9c <__JIT_ENTRY+0x9c>
    // 79: ba 0c 00 00 00                movl    $0xc, %edx
    // 7e: 66 90                         nop
    // 80: 48 c7 04 d0 00 00 00 00       movq    $0x0, (%rax,%rdx,8)
    // 88: 48 63 71 48                   movslq  0x48(%rcx), %rsi
    // 8c: 48 8d 7a 01                   leaq    0x1(%rdx), %rdi
    // 90: 48 83 c2 f7                   addq    $-0x9, %rdx
    // 94: 48 39 f2                      cmpq    %rsi, %rdx
    // 97: 48 89 fa                      movq    %rdi, %rdx
    // 9a: 7c e4                         jl      0x80 <__JIT_ENTRY+0x80>
    // 9c: 0f 11 40 50                   movups  %xmm0, 0x50(%rax)
    // a0: 66 41 c7 44 24 48 02 00       movw    $0x2, 0x48(%r12)
    // a8: 49 89 45 e8                   movq    %rax, -0x18(%r13)
    // ac: 49 83 c5 f0                   addq    $-0x10, %r13
    // b0: 5d                            popq    %rbp
    // b1: e9 00 00 00 00                jmp     0xb6 <__JIT_ENTRY+0xb6>
    // 00000000000000b2:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[177] = {
        0x49, 0x8b, 0x55, 0xf8, 0x41, 0x0f, 0x10, 0x45,
        0xe8, 0x48, 0x8b, 0x4a, 0x30, 0x49, 0x8b, 0x86,
        0xf0, 0x00, 0x00, 0x00, 0x48, 0x63, 0x71, 0x4c,
        0x48, 0x8d, 0x34, 0xf0, 0x49, 0x89, 0xb6, 0xf0,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0x60, 0x08, 0x48,
        0x89, 0x50, 0x10, 0x8b, 0x31, 0x85, 0xf6, 0x78,
        0x04, 0xff, 0xc6, 0x89, 0x31, 0x55, 0x48, 0x89,
        0xe5, 0x48, 0x89, 0x08, 0x0f, 0x10, 0x4a, 0x10,
        0x0f, 0x11, 0x48, 0x18, 0x48, 0xc7, 0x40, 0x28,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x63, 0x51, 0x48,
        0x48, 0x8d, 0x74, 0xd0, 0x50, 0x48, 0x89, 0x70,
        0x40, 0x48, 0x8d, 0xb1, 0xd0, 0x00, 0x00, 0x00,
        0x48, 0xc7, 0x40, 0x30, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0x70, 0x38, 0xc7, 0x40, 0x48, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x83, 0xfa, 0x03, 0x7c,
        0x23, 0xba, 0x0c, 0x00, 0x00, 0x00, 0x66, 0x90,
        0x48, 0xc7, 0x04, 0xd0, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x63, 0x71, 0x48, 0x48, 0x8d, 0x7a, 0x01,
        0x48, 0x83, 0xc2, 0xf7, 0x48, 0x39, 0xf2, 0x48,
        0x89, 0xfa, 0x7c, 0xe4, 0x0f, 0x11, 0x40, 0x50,
        0x66, 0x41, 0xc7, 0x44, 0x24, 0x48, 0x02, 0x00,
        0x49, 0x89, 0x45, 0xe8, 0x49, 0x83, 0xc5, 0xf0,
        0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__BINARY_SUBSCR_LIST_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SUBSCR_LIST_INT.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 4: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 19: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 1d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyList_Type@GOTPCREL
    // 24: 0f 85 00 00 00 00             jne     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2a: 49 83 7f 10 09                cmpq    $0x9, 0x10(%r15)
    // 2f: 0f 83 00 00 00 00             jae     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 35: 41 8b 47 18                   movl    0x18(%r15), %eax
    // 39: 48 39 43 10                   cmpq    %rax, 0x10(%rbx)
    // 3d: 0f 8e 00 00 00 00             jle     0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 43: 48 8b 4b 18                   movq    0x18(%rbx), %rcx
    // 47: 48 8b 0c c1                   movq    (%rcx,%rax,8), %rcx
    // 4b: 8b 01                         movl    (%rcx), %eax
    // 4d: 85 c0                         testl   %eax, %eax
    // 4f: 78 04                         js      0x55 <__JIT_ENTRY+0x55>
    // 51: ff c0                         incl    %eax
    // 53: 89 01                         movl    %eax, (%rcx)
    // 55: 55                            pushq   %rbp
    // 56: 48 89 e5                      movq    %rsp, %rbp
    // 59: 48 83 ec 10                   subq    $0x10, %rsp
    // 5d: 41 8b 07                      movl    (%r15), %eax
    // 60: 85 c0                         testl   %eax, %eax
    // 62: 78 3c                         js      0xa0 <__JIT_ENTRY+0xa0>
    // 64: ff c8                         decl    %eax
    // 66: 41 89 07                      movl    %eax, (%r15)
    // 69: 75 35                         jne     0xa0 <__JIT_ENTRY+0xa0>
    // 6b: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // 6f: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x76 <__JIT_ENTRY+0x76>
    // 0000000000000072:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 76: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 7d: 48 85 c0                      testq   %rax, %rax
    // 80: 74 11                         je      0x93 <__JIT_ENTRY+0x93>
    // 82: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 89: 4c 89 ff                      movq    %r15, %rdi
    // 8c: be 01 00 00 00                movl    $0x1, %esi
    // 91: ff d0                         callq   *%rax
    // 93: 4c 89 ff                      movq    %r15, %rdi
    // 96: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x9c <__JIT_ENTRY+0x9c>
    // 0000000000000098:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // 9c: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // a0: 4d 8d 7d f8                   leaq    -0x8(%r13), %r15
    // a4: 8b 03                         movl    (%rbx), %eax
    // a6: 85 c0                         testl   %eax, %eax
    // a8: 78 15                         js      0xbf <__JIT_ENTRY+0xbf>
    // aa: ff c8                         decl    %eax
    // ac: 89 03                         movl    %eax, (%rbx)
    // ae: 75 0f                         jne     0xbf <__JIT_ENTRY+0xbf>
    // b0: 48 89 df                      movq    %rbx, %rdi
    // b3: 48 89 cb                      movq    %rcx, %rbx
    // b6: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xbc <__JIT_ENTRY+0xbc>
    // 00000000000000b8:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // bc: 48 89 d9                      movq    %rbx, %rcx
    // bf: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // c3: 4d 89 fd                      movq    %r15, %r13
    // c6: 48 83 c4 10                   addq    $0x10, %rsp
    // ca: 5d                            popq    %rbp
    // cb: e9 00 00 00 00                jmp     0xd0 <__JIT_ENTRY+0xd0>
    // 00000000000000cc:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[203] = {
        0x4d, 0x8b, 0x7d, 0xf8, 0x49, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d,
        0xf0, 0x48, 0x8b, 0x43, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0x7f, 0x10, 0x09, 0x0f,
        0x83, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x47,
        0x18, 0x48, 0x39, 0x43, 0x10, 0x0f, 0x8e, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x4b, 0x18, 0x48,
        0x8b, 0x0c, 0xc1, 0x8b, 0x01, 0x85, 0xc0, 0x78,
        0x04, 0xff, 0xc0, 0x89, 0x01, 0x55, 0x48, 0x89,
        0xe5, 0x48, 0x83, 0xec, 0x10, 0x41, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x3c, 0xff, 0xc8, 0x41, 0x89,
        0x07, 0x75, 0x35, 0x48, 0x89, 0x4d, 0xf8, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0x4c, 0x89, 0xff, 0xbe, 0x01, 0x00, 0x00,
        0x00, 0xff, 0xd0, 0x4c, 0x89, 0xff, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x4d, 0xf8,
        0x4d, 0x8d, 0x7d, 0xf8, 0x8b, 0x03, 0x85, 0xc0,
        0x78, 0x15, 0xff, 0xc8, 0x89, 0x03, 0x75, 0x0f,
        0x48, 0x89, 0xdf, 0x48, 0x89, 0xcb, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xd9, 0x49,
        0x89, 0x4d, 0xf0, 0x4d, 0x89, 0xfd, 0x48, 0x83,
        0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyLong_ExactDealloc+0x0
    // 10: &_PyRuntime+0x0
    // 18: &PyList_Type+0x0
    // 20: &PyLong_Type+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x10, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x18, (uintptr_t)&PyList_Type);
    patch_64(data + 0x20, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + 0x14);
    patch_32r(code + 0x26, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x3f, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x72, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x98, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xb8, (uintptr_t)data + -0x4);
}

void
emit__BINARY_SUBSCR_STR_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SUBSCR_STR_INT.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 4: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 19: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 1d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyUnicode_Type@GOTPCREL
    // 24: 0f 85 00 00 00 00             jne     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2a: 49 83 7f 10 09                cmpq    $0x9, 0x10(%r15)
    // 2f: 0f 83 00 00 00 00             jae     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 35: 41 8b 47 18                   movl    0x18(%r15), %eax
    // 39: 48 39 43 10                   cmpq    %rax, 0x10(%rbx)
    // 3d: 0f 8e 00 00 00 00             jle     0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 43: 0f b7 4b 22                   movzwl  0x22(%rbx), %ecx
    // 47: 89 ca                         movl    %ecx, %edx
    // 49: 83 e2 07                      andl    $0x7, %edx
    // 4c: 83 fa 02                      cmpl    $0x2, %edx
    // 4f: 74 14                         je      0x65 <__JIT_ENTRY+0x65>
    // 51: 83 fa 01                      cmpl    $0x1, %edx
    // 54: 75 1e                         jne     0x74 <__JIT_ENTRY+0x74>
    // 56: f6 c1 08                      testb   $0x8, %cl
    // 59: 75 24                         jne     0x7f <__JIT_ENTRY+0x7f>
    // 5b: 48 8b 4b 38                   movq    0x38(%rbx), %rcx
    // 5f: 0f b6 0c 01                   movzbl  (%rcx,%rax), %ecx
    // 63: eb 62                         jmp     0xc7 <__JIT_ENTRY+0xc7>
    // 65: f6 c1 08                      testb   $0x8, %cl
    // 68: 75 2e                         jne     0x98 <__JIT_ENTRY+0x98>
    // 6a: 48 8b 4b 38                   movq    0x38(%rbx), %rcx
    // 6e: 0f b7 0c 41                   movzwl  (%rcx,%rax,2), %ecx
    // 72: eb 53                         jmp     0xc7 <__JIT_ENTRY+0xc7>
    // 74: f6 c1 08                      testb   $0x8, %cl
    // 77: 75 38                         jne     0xb1 <__JIT_ENTRY+0xb1>
    // 79: 48 8b 4b 38                   movq    0x38(%rbx), %rcx
    // 7d: eb 45                         jmp     0xc4 <__JIT_ENTRY+0xc4>
    // 7f: 31 d2                         xorl    %edx, %edx
    // 81: f6 c1 10                      testb   $0x10, %cl
    // 84: 0f 94 c2                      sete    %dl
    // 87: c1 e2 04                      shll    $0x4, %edx
    // 8a: 48 8d 0c 13                   leaq    (%rbx,%rdx), %rcx
    // 8e: 48 83 c1 28                   addq    $0x28, %rcx
    // 92: 0f b6 0c 01                   movzbl  (%rcx,%rax), %ecx
    // 96: eb 2f                         jmp     0xc7 <__JIT_ENTRY+0xc7>
    // 98: 31 d2                         xorl    %edx, %edx
    // 9a: f6 c1 10                      testb   $0x10, %cl
    // 9d: 0f 94 c2                      sete    %dl
    // a0: c1 e2 04                      shll    $0x4, %edx
    // a3: 48 8d 0c 13                   leaq    (%rbx,%rdx), %rcx
    // a7: 48 83 c1 28                   addq    $0x28, %rcx
    // ab: 0f b7 0c 41                   movzwl  (%rcx,%rax,2), %ecx
    // af: eb 16                         jmp     0xc7 <__JIT_ENTRY+0xc7>
    // b1: 31 d2                         xorl    %edx, %edx
    // b3: f6 c1 10                      testb   $0x10, %cl
    // b6: 0f 94 c2                      sete    %dl
    // b9: c1 e2 04                      shll    $0x4, %edx
    // bc: 48 8d 0c 13                   leaq    (%rbx,%rdx), %rcx
    // c0: 48 83 c1 28                   addq    $0x28, %rcx
    // c4: 8b 0c 81                      movl    (%rcx,%rax,4), %ecx
    // c7: 81 f9 80 00 00 00             cmpl    $0x80, %ecx
    // cd: 0f 83 00 00 00 00             jae     0xd3 <__JIT_ENTRY+0xd3>
    // 00000000000000cf:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // d3: 55                            pushq   %rbp
    // d4: 48 89 e5                      movq    %rsp, %rbp
    // d7: 48 83 ec 10                   subq    $0x10, %rsp
    // db: 41 8b 07                      movl    (%r15), %eax
    // de: 85 c0                         testl   %eax, %eax
    // e0: 78 3a                         js      0x11c <__JIT_ENTRY+0x11c>
    // e2: ff c8                         decl    %eax
    // e4: 41 89 07                      movl    %eax, (%r15)
    // e7: 75 33                         jne     0x11c <__JIT_ENTRY+0x11c>
    // e9: 89 4d fc                      movl    %ecx, -0x4(%rbp)
    // ec: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xf3 <__JIT_ENTRY+0xf3>
    // 00000000000000ef:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // f3: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // fa: 48 85 c0                      testq   %rax, %rax
    // fd: 74 11                         je      0x110 <__JIT_ENTRY+0x110>
    // ff: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 106: 4c 89 ff                      movq    %r15, %rdi
    // 109: be 01 00 00 00                movl    $0x1, %esi
    // 10e: ff d0                         callq   *%rax
    // 110: 4c 89 ff                      movq    %r15, %rdi
    // 113: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x119 <__JIT_ENTRY+0x119>
    // 0000000000000115:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // 119: 8b 4d fc                      movl    -0x4(%rbp), %ecx
    // 11c: 4d 8d 7d f8                   leaq    -0x8(%r13), %r15
    // 120: 8b 03                         movl    (%rbx), %eax
    // 122: 85 c0                         testl   %eax, %eax
    // 124: 78 13                         js      0x139 <__JIT_ENTRY+0x139>
    // 126: ff c8                         decl    %eax
    // 128: 89 03                         movl    %eax, (%rbx)
    // 12a: 75 0d                         jne     0x139 <__JIT_ENTRY+0x139>
    // 12c: 48 89 df                      movq    %rbx, %rdi
    // 12f: 89 cb                         movl    %ecx, %ebx
    // 131: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x137 <__JIT_ENTRY+0x137>
    // 0000000000000133:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 137: 89 d9                         movl    %ebx, %ecx
    // 139: 89 c8                         movl    %ecx, %eax
    // 13b: 48 8d 04 40                   leaq    (%rax,%rax,2), %rax
    // 13f: 48 c1 e0 04                   shlq    $0x4, %rax
    // 143: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x14a <__JIT_ENTRY+0x14a>
    // 0000000000000146:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 14a: 48 01 c8                      addq    %rcx, %rax
    // 14d: 48 05 e0 20 01 00             addq    $0x120e0, %rax          ## imm = 0x120E0
    // 153: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // 157: 4d 89 fd                      movq    %r15, %r13
    // 15a: 48 83 c4 10                   addq    $0x10, %rsp
    // 15e: 5d                            popq    %rbp
    // 15f: e9 00 00 00 00                jmp     0x164 <__JIT_ENTRY+0x164>
    // 0000000000000160:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[351] = {
        0x4d, 0x8b, 0x7d, 0xf8, 0x49, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d,
        0xf0, 0x48, 0x8b, 0x43, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0x7f, 0x10, 0x09, 0x0f,
        0x83, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x47,
        0x18, 0x48, 0x39, 0x43, 0x10, 0x0f, 0x8e, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0x4b, 0x22, 0x89,
        0xca, 0x83, 0xe2, 0x07, 0x83, 0xfa, 0x02, 0x74,
        0x14, 0x83, 0xfa, 0x01, 0x75, 0x1e, 0xf6, 0xc1,
        0x08, 0x75, 0x24, 0x48, 0x8b, 0x4b, 0x38, 0x0f,
        0xb6, 0x0c, 0x01, 0xeb, 0x62, 0xf6, 0xc1, 0x08,
        0x75, 0x2e, 0x48, 0x8b, 0x4b, 0x38, 0x0f, 0xb7,
        0x0c, 0x41, 0xeb, 0x53, 0xf6, 0xc1, 0x08, 0x75,
        0x38, 0x48, 0x8b, 0x4b, 0x38, 0xeb, 0x45, 0x31,
        0xd2, 0xf6, 0xc1, 0x10, 0x0f, 0x94, 0xc2, 0xc1,
        0xe2, 0x04, 0x48, 0x8d, 0x0c, 0x13, 0x48, 0x83,
        0xc1, 0x28, 0x0f, 0xb6, 0x0c, 0x01, 0xeb, 0x2f,
        0x31, 0xd2, 0xf6, 0xc1, 0x10, 0x0f, 0x94, 0xc2,
        0xc1, 0xe2, 0x04, 0x48, 0x8d, 0x0c, 0x13, 0x48,
        0x83, 0xc1, 0x28, 0x0f, 0xb7, 0x0c, 0x41, 0xeb,
        0x16, 0x31, 0xd2, 0xf6, 0xc1, 0x10, 0x0f, 0x94,
        0xc2, 0xc1, 0xe2, 0x04, 0x48, 0x8d, 0x0c, 0x13,
        0x48, 0x83, 0xc1, 0x28, 0x8b, 0x0c, 0x81, 0x81,
        0xf9, 0x80, 0x00, 0x00, 0x00, 0x0f, 0x83, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0x48,
        0x83, 0xec, 0x10, 0x41, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x3a, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x75,
        0x33, 0x89, 0x4d, 0xfc, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8, 0x25,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x11, 0x48,
        0x8b, 0x91, 0x00, 0x26, 0x00, 0x00, 0x4c, 0x89,
        0xff, 0xbe, 0x01, 0x00, 0x00, 0x00, 0xff, 0xd0,
        0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x4d, 0xfc, 0x4d, 0x8d, 0x7d, 0xf8,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x13, 0xff, 0xc8,
        0x89, 0x03, 0x75, 0x0d, 0x48, 0x89, 0xdf, 0x89,
        0xcb, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xd9, 0x89, 0xc8, 0x48, 0x8d, 0x04, 0x40, 0x48,
        0xc1, 0xe0, 0x04, 0x48, 0x8b, 0x0d, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x01, 0xc8, 0x48, 0x05, 0xe0,
        0x20, 0x01, 0x00, 0x49, 0x89, 0x45, 0xf0, 0x4d,
        0x89, 0xfd, 0x48, 0x83, 0xc4, 0x10, 0x5d,
    };
    // 0: &_PyRuntime+0x0
    // 8: &_Py_Dealloc+0x0
    // 10: &_PyLong_ExactDealloc+0x0
    // 18: &PyUnicode_Type+0x0
    // 20: &PyLong_Type+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x18, (uintptr_t)&PyUnicode_Type);
    patch_64(data + 0x20, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + 0x14);
    patch_32r(code + 0x26, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x3f, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0xcf, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0xef, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x115, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x133, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x146, (uintptr_t)data + -0x4);
}

void
emit__BINARY_SUBSCR_TUPLE_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BINARY_SUBSCR_TUPLE_INT.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 4: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 19: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 1d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyTuple_Type@GOTPCREL
    // 24: 0f 85 00 00 00 00             jne     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2a: 49 83 7f 10 09                cmpq    $0x9, 0x10(%r15)
    // 2f: 0f 83 00 00 00 00             jae     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 35: 41 8b 47 18                   movl    0x18(%r15), %eax
    // 39: 48 39 43 10                   cmpq    %rax, 0x10(%rbx)
    // 3d: 0f 8e 00 00 00 00             jle     0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 43: 48 8b 4c c3 18                movq    0x18(%rbx,%rax,8), %rcx
    // 48: 8b 01                         movl    (%rcx), %eax
    // 4a: 85 c0                         testl   %eax, %eax
    // 4c: 78 04                         js      0x52 <__JIT_ENTRY+0x52>
    // 4e: ff c0                         incl    %eax
    // 50: 89 01                         movl    %eax, (%rcx)
    // 52: 55                            pushq   %rbp
    // 53: 48 89 e5                      movq    %rsp, %rbp
    // 56: 48 83 ec 10                   subq    $0x10, %rsp
    // 5a: 41 8b 07                      movl    (%r15), %eax
    // 5d: 85 c0                         testl   %eax, %eax
    // 5f: 78 3c                         js      0x9d <__JIT_ENTRY+0x9d>
    // 61: ff c8                         decl    %eax
    // 63: 41 89 07                      movl    %eax, (%r15)
    // 66: 75 35                         jne     0x9d <__JIT_ENTRY+0x9d>
    // 68: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // 6c: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x73 <__JIT_ENTRY+0x73>
    // 000000000000006f:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 73: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 7a: 48 85 c0                      testq   %rax, %rax
    // 7d: 74 11                         je      0x90 <__JIT_ENTRY+0x90>
    // 7f: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 86: 4c 89 ff                      movq    %r15, %rdi
    // 89: be 01 00 00 00                movl    $0x1, %esi
    // 8e: ff d0                         callq   *%rax
    // 90: 4c 89 ff                      movq    %r15, %rdi
    // 93: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x99 <__JIT_ENTRY+0x99>
    // 0000000000000095:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // 99: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 9d: 4d 8d 7d f8                   leaq    -0x8(%r13), %r15
    // a1: 8b 03                         movl    (%rbx), %eax
    // a3: 85 c0                         testl   %eax, %eax
    // a5: 78 15                         js      0xbc <__JIT_ENTRY+0xbc>
    // a7: ff c8                         decl    %eax
    // a9: 89 03                         movl    %eax, (%rbx)
    // ab: 75 0f                         jne     0xbc <__JIT_ENTRY+0xbc>
    // ad: 48 89 df                      movq    %rbx, %rdi
    // b0: 48 89 cb                      movq    %rcx, %rbx
    // b3: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb9 <__JIT_ENTRY+0xb9>
    // 00000000000000b5:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b9: 48 89 d9                      movq    %rbx, %rcx
    // bc: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // c0: 4d 89 fd                      movq    %r15, %r13
    // c3: 48 83 c4 10                   addq    $0x10, %rsp
    // c7: 5d                            popq    %rbp
    // c8: e9 00 00 00 00                jmp     0xcd <__JIT_ENTRY+0xcd>
    // 00000000000000c9:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[200] = {
        0x4d, 0x8b, 0x7d, 0xf8, 0x49, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d,
        0xf0, 0x48, 0x8b, 0x43, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0x7f, 0x10, 0x09, 0x0f,
        0x83, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x47,
        0x18, 0x48, 0x39, 0x43, 0x10, 0x0f, 0x8e, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x4c, 0xc3, 0x18,
        0x8b, 0x01, 0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0,
        0x89, 0x01, 0x55, 0x48, 0x89, 0xe5, 0x48, 0x83,
        0xec, 0x10, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78,
        0x3c, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x75, 0x35,
        0x48, 0x89, 0x4d, 0xf8, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8, 0x25,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x11, 0x48,
        0x8b, 0x91, 0x00, 0x26, 0x00, 0x00, 0x4c, 0x89,
        0xff, 0xbe, 0x01, 0x00, 0x00, 0x00, 0xff, 0xd0,
        0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x4d, 0xf8, 0x4d, 0x8d, 0x7d,
        0xf8, 0x8b, 0x03, 0x85, 0xc0, 0x78, 0x15, 0xff,
        0xc8, 0x89, 0x03, 0x75, 0x0f, 0x48, 0x89, 0xdf,
        0x48, 0x89, 0xcb, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xd9, 0x49, 0x89, 0x4d, 0xf0,
        0x4d, 0x89, 0xfd, 0x48, 0x83, 0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyLong_ExactDealloc+0x0
    // 10: &_PyRuntime+0x0
    // 18: &PyTuple_Type+0x0
    // 20: &PyLong_Type+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x10, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x18, (uintptr_t)&PyTuple_Type);
    patch_64(data + 0x20, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + 0x14);
    patch_32r(code + 0x26, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x3f, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x6f, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x95, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xb5, (uintptr_t)data + -0x4);
}

void
emit__BUILD_LIST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BUILD_LIST.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4c 8b 3d 00 00 00 00          movq    (%rip), %r15            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 41 0f b7 f7                   movzwl  %r15w, %esi
    // f: 8d 04 f5 00 00 00 00          leal    (,%rsi,8), %eax
    // 16: 4c 89 eb                      movq    %r13, %rbx
    // 19: 48 29 c3                      subq    %rax, %rbx
    // 1c: 48 89 df                      movq    %rbx, %rdi
    // 1f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     __PyList_FromStackRefSteal@GOTPCREL
    // 25: 48 85 c0                      testq   %rax, %rax
    // 28: 74 1b                         je      0x45 <__JIT_ENTRY+0x45>
    // 2a: 41 0f b7 cf                   movzwl  %r15w, %ecx
    // 2e: 48 89 03                      movq    %rax, (%rbx)
    // 31: b8 01 00 00 00                movl    $0x1, %eax
    // 36: 29 c8                         subl    %ecx, %eax
    // 38: 48 98                         cltq
    // 3a: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // 3f: 5d                            popq    %rbp
    // 40: e9 00 00 00 00                jmp     0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 45: 5d                            popq    %rbp
    // 46: e9 00 00 00 00                jmp     0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[75] = {
        0x55, 0x48, 0x89, 0xe5, 0x4c, 0x8b, 0x3d, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x0f, 0xb7, 0xf7, 0x8d,
        0x04, 0xf5, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xeb, 0x48, 0x29, 0xc3, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x1b, 0x41, 0x0f, 0xb7, 0xcf, 0x48, 0x89,
        0x03, 0xb8, 0x01, 0x00, 0x00, 0x00, 0x29, 0xc8,
        0x48, 0x98, 0x4d, 0x8d, 0x6c, 0xc5, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_PyList_FromStackRefSteal+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyList_FromStackRefSteal);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + -0x4);
    patch_32r(code + 0x41, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x47, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BUILD_MAP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BUILD_MAP.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 4c 89 75 f0                   movq    %r14, -0x10(%rbp)
    // c: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 13: 44 0f b7 f0                   movzwl  %ax, %r14d
    // 17: 45 01 f6                      addl    %r14d, %r14d
    // 1a: 44 89 f1                      movl    %r14d, %ecx
    // 1d: f7 d9                         negl    %ecx
    // 1f: 48 63 c9                      movslq  %ecx, %rcx
    // 22: 48 8d 1c cd 00 00 00 00       leaq    (,%rcx,8), %rbx
    // 2a: 4c 01 eb                      addq    %r13, %rbx
    // 2d: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 32: 48 89 4d e8                   movq    %rcx, -0x18(%rbp)
    // 36: 49 8d 54 cd 08                leaq    0x8(%r13,%rcx,8), %rdx
    // 3b: 44 0f b7 f8                   movzwl  %ax, %r15d
    // 3f: be 02 00 00 00                movl    $0x2, %esi
    // 44: b9 02 00 00 00                movl    $0x2, %ecx
    // 49: 48 89 df                      movq    %rbx, %rdi
    // 4c: 4d 89 f8                      movq    %r15, %r8
    // 4f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x55 <__JIT_ENTRY+0x55>
    // 0000000000000051:  X86_64_RELOC_GOT     __PyDict_FromItems@GOTPCREL
    // 55: 48 89 45 e0                   movq    %rax, -0x20(%rbp)
    // 59: 49 8b 44 24 40                movq    0x40(%r12), %rax
    // 5e: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // 62: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 6b: 66 45 85 ff                   testw   %r15w, %r15w
    // 6f: 74 3e                         je      0xaf <__JIT_ENTRY+0xaf>
    // 71: 4e 8d 3c 7d 01 00 00 00       leaq    0x1(,%r15,2), %r15
    // 79: 4c 8b 2d 00 00 00 00          movq    (%rip), %r13            ## 0x80 <__JIT_ENTRY+0x80>
    // 000000000000007c:  X86_64_RELOC_GOT_LOAD        __Py_Dealloc@GOTPCREL
    // 80: eb 17                         jmp     0x99 <__JIT_ENTRY+0x99>
    // 82: 66 66 66 66 66 2e 0f 1f 84 00 00 00 00 00     nopw    %cs:(%rax,%rax)
    // 90: 49 ff cf                      decq    %r15
    // 93: 49 83 ff 01                   cmpq    $0x1, %r15
    // 97: 76 16                         jbe     0xaf <__JIT_ENTRY+0xaf>
    // 99: 4a 8b 7c fb f0                movq    -0x10(%rbx,%r15,8), %rdi
    // 9e: 8b 07                         movl    (%rdi), %eax
    // a0: 85 c0                         testl   %eax, %eax
    // a2: 78 ec                         js      0x90 <__JIT_ENTRY+0x90>
    // a4: ff c8                         decl    %eax
    // a6: 89 07                         movl    %eax, (%rdi)
    // a8: 75 e6                         jne     0x90 <__JIT_ENTRY+0x90>
    // aa: 41 ff d5                      callq   *%r13
    // ad: eb e1                         jmp     0x90 <__JIT_ENTRY+0x90>
    // af: 48 8b 55 e0                   movq    -0x20(%rbp), %rdx
    // b3: 48 85 d2                      testq   %rdx, %rdx
    // b6: 74 28                         je      0xe0 <__JIT_ENTRY+0xe0>
    // b8: 48 8b 45 e8                   movq    -0x18(%rbp), %rax
    // bc: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // c0: 48 89 14 c1                   movq    %rdx, (%rcx,%rax,8)
    // c4: b8 01 00 00 00                movl    $0x1, %eax
    // c9: 44 29 f0                      subl    %r14d, %eax
    // cc: 48 98                         cltq
    // ce: 4c 8d 2c c1                   leaq    (%rcx,%rax,8), %r13
    // d2: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // d6: 48 83 c4 20                   addq    $0x20, %rsp
    // da: 5d                            popq    %rbp
    // db: e9 00 00 00 00                jmp     0xe0 <__JIT_ENTRY+0xe0>
    // 00000000000000dc:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // e0: 4c 8b 6d f8                   movq    -0x8(%rbp), %r13
    // e4: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // e8: 48 83 c4 20                   addq    $0x20, %rsp
    // ec: 5d                            popq    %rbp
    // ed: e9 00 00 00 00                jmp     0xf2 <__JIT_ENTRY+0xf2>
    // 00000000000000ee:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[242] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x4c, 0x89, 0x75, 0xf0, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x44, 0x0f, 0xb7, 0xf0, 0x45,
        0x01, 0xf6, 0x44, 0x89, 0xf1, 0xf7, 0xd9, 0x48,
        0x63, 0xc9, 0x48, 0x8d, 0x1c, 0xcd, 0x00, 0x00,
        0x00, 0x00, 0x4c, 0x01, 0xeb, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x89, 0x4d, 0xe8, 0x49, 0x8d,
        0x54, 0xcd, 0x08, 0x44, 0x0f, 0xb7, 0xf8, 0xbe,
        0x02, 0x00, 0x00, 0x00, 0xb9, 0x02, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0x4d, 0x89, 0xf8, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0x45,
        0xe0, 0x49, 0x8b, 0x44, 0x24, 0x40, 0x48, 0x89,
        0x45, 0xf8, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x66, 0x45, 0x85, 0xff, 0x74,
        0x3e, 0x4e, 0x8d, 0x3c, 0x7d, 0x01, 0x00, 0x00,
        0x00, 0x4c, 0x8b, 0x2d, 0x00, 0x00, 0x00, 0x00,
        0xeb, 0x17, 0x66, 0x66, 0x66, 0x66, 0x66, 0x2e,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x49, 0xff, 0xcf, 0x49, 0x83, 0xff, 0x01, 0x76,
        0x16, 0x4a, 0x8b, 0x7c, 0xfb, 0xf0, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0xec, 0xff, 0xc8, 0x89, 0x07,
        0x75, 0xe6, 0x41, 0xff, 0xd5, 0xeb, 0xe1, 0x48,
        0x8b, 0x55, 0xe0, 0x48, 0x85, 0xd2, 0x74, 0x28,
        0x48, 0x8b, 0x45, 0xe8, 0x48, 0x8b, 0x4d, 0xf8,
        0x48, 0x89, 0x14, 0xc1, 0xb8, 0x01, 0x00, 0x00,
        0x00, 0x44, 0x29, 0xf0, 0x48, 0x98, 0x4c, 0x8d,
        0x2c, 0xc1, 0x4c, 0x8b, 0x75, 0xf0, 0x48, 0x83,
        0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x8b, 0x6d, 0xf8, 0x4c, 0x8b, 0x75, 0xf0,
        0x48, 0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyDict_FromItems+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyDict_FromItems);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x51, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x7c, (uintptr_t)data + -0x4);
    patch_32r(code + 0xdc, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xee, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BUILD_SET(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BUILD_SET.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 4c 89 eb                      movq    %r13, %rbx
    // b: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 10: 31 ff                         xorl    %edi, %edi
    // 12: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT     _PySet_New@GOTPCREL
    // 18: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 1d: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 26: 48 85 c0                      testq   %rax, %rax
    // 29: 0f 84 b4 00 00 00             je      0xe3 <__JIT_ENTRY+0xe3>
    // 2f: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 36: 0f b7 f2                      movzwl  %dx, %esi
    // 39: 48 f7 de                      negq    %rsi
    // 3c: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 43: 66 85 c9                      testw   %cx, %cx
    // 46: 0f 84 02 01 00 00             je      0x14e <__JIT_ENTRY+0x14e>
    // 4c: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // 50: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 54: 49 89 f6                      movq    %rsi, %r14
    // 57: 45 31 ff                      xorl    %r15d, %r15d
    // 5a: 48 89 75 e8                   movq    %rsi, -0x18(%rbp)
    // 5e: eb 05                         jmp     0x65 <__JIT_ENTRY+0x65>
    // 60: 49 ff c6                      incq    %r14
    // 63: 74 57                         je      0xbc <__JIT_ENTRY+0xbc>
    // 65: 45 85 ff                      testl   %r15d, %r15d
    // 68: 74 16                         je      0x80 <__JIT_ENTRY+0x80>
    // 6a: 4a 8b 3c f3                   movq    (%rbx,%r14,8), %rdi
    // 6e: 8b 07                         movl    (%rdi), %eax
    // 70: 85 c0                         testl   %eax, %eax
    // 72: 79 3a                         jns     0xae <__JIT_ENTRY+0xae>
    // 74: eb ea                         jmp     0x60 <__JIT_ENTRY+0x60>
    // 76: 66 2e 0f 1f 84 00 00 00 00 00 nopw    %cs:(%rax,%rax)
    // 80: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 85: 4a 8b 34 f3                   movq    (%rbx,%r14,8), %rsi
    // 89: 48 8b 7d f0                   movq    -0x10(%rbp), %rdi
    // 8d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x93 <__JIT_ENTRY+0x93>
    // 000000000000008f:  X86_64_RELOC_GOT     _PySet_Add@GOTPCREL
    // 93: 41 89 c7                      movl    %eax, %r15d
    // 96: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 9b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // a4: 4a 8b 3c f3                   movq    (%rbx,%r14,8), %rdi
    // a8: 8b 07                         movl    (%rdi), %eax
    // aa: 85 c0                         testl   %eax, %eax
    // ac: 78 b2                         js      0x60 <__JIT_ENTRY+0x60>
    // ae: ff c8                         decl    %eax
    // b0: 89 07                         movl    %eax, (%rdi)
    // b2: 75 ac                         jne     0x60 <__JIT_ENTRY+0x60>
    // b4: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xba <__JIT_ENTRY+0xba>
    // 00000000000000b6:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ba: eb a4                         jmp     0x60 <__JIT_ENTRY+0x60>
    // bc: 45 85 ff                      testl   %r15d, %r15d
    // bf: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // c3: 74 7a                         je      0x13f <__JIT_ENTRY+0x13f>
    // c5: 48 8b 7d f0                   movq    -0x10(%rbp), %rdi
    // c9: 8b 07                         movl    (%rdi), %eax
    // cb: 85 c0                         testl   %eax, %eax
    // cd: 78 0a                         js      0xd9 <__JIT_ENTRY+0xd9>
    // cf: ff c8                         decl    %eax
    // d1: 89 07                         movl    %eax, (%rdi)
    // d3: 0f 84 96 00 00 00             je      0x16f <__JIT_ENTRY+0x16f>
    // d9: 48 83 c4 20                   addq    $0x20, %rsp
    // dd: 5d                            popq    %rbp
    // de: e9 00 00 00 00                jmp     0xe3 <__JIT_ENTRY+0xe3>
    // 00000000000000df:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // e3: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // e7: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xee <__JIT_ENTRY+0xee>
    // 00000000000000ea:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // ee: 66 85 c0                      testw   %ax, %ax
    // f1: 74 3e                         je      0x131 <__JIT_ENTRY+0x131>
    // f3: 44 0f b7 35 00 00 00 00       movzwl  (%rip), %r14d           ## 0xfb <__JIT_ENTRY+0xfb>
    // 00000000000000f7:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // fb: 49 ff c6                      incq    %r14
    // fe: 48 83 c3 f8                   addq    $-0x8, %rbx
    // 102: 4c 8b 3d 00 00 00 00          movq    (%rip), %r15            ## 0x109 <__JIT_ENTRY+0x109>
    // 0000000000000105:  X86_64_RELOC_GOT_LOAD        __Py_Dealloc@GOTPCREL
    // 109: eb 12                         jmp     0x11d <__JIT_ENTRY+0x11d>
    // 10b: 0f 1f 44 00 00                nopl    (%rax,%rax)
    // 110: 49 ff ce                      decq    %r14
    // 113: 48 83 c3 f8                   addq    $-0x8, %rbx
    // 117: 49 83 fe 01                   cmpq    $0x1, %r14
    // 11b: 76 14                         jbe     0x131 <__JIT_ENTRY+0x131>
    // 11d: 48 8b 3b                      movq    (%rbx), %rdi
    // 120: 8b 07                         movl    (%rdi), %eax
    // 122: 85 c0                         testl   %eax, %eax
    // 124: 78 ea                         js      0x110 <__JIT_ENTRY+0x110>
    // 126: ff c8                         decl    %eax
    // 128: 89 07                         movl    %eax, (%rdi)
    // 12a: 75 e4                         jne     0x110 <__JIT_ENTRY+0x110>
    // 12c: 41 ff d7                      callq   *%r15
    // 12f: eb df                         jmp     0x110 <__JIT_ENTRY+0x110>
    // 131: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 135: 48 83 c4 20                   addq    $0x20, %rsp
    // 139: 5d                            popq    %rbp
    // 13a: e9 00 00 00 00                jmp     0x13f <__JIT_ENTRY+0x13f>
    // 000000000000013b:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 13f: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // 143: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x14a <__JIT_ENTRY+0x14a>
    // 0000000000000146:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 14a: 48 8b 75 e8                   movq    -0x18(%rbp), %rsi
    // 14e: 0f b7 d2                      movzwl  %dx, %edx
    // 151: 49 89 44 f5 00                movq    %rax, (%r13,%rsi,8)
    // 156: b9 01 00 00 00                movl    $0x1, %ecx
    // 15b: 29 d1                         subl    %edx, %ecx
    // 15d: 48 63 c1                      movslq  %ecx, %rax
    // 160: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // 165: 48 83 c4 20                   addq    $0x20, %rsp
    // 169: 5d                            popq    %rbp
    // 16a: e9 00 00 00 00                jmp     0x16f <__JIT_ENTRY+0x16f>
    // 000000000000016b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 16f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x175 <__JIT_ENTRY+0x175>
    // 0000000000000171:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 175: 48 83 c4 20                   addq    $0x20, %rsp
    // 179: 5d                            popq    %rbp
    // 17a: e9 00 00 00 00                jmp     0x17f <__JIT_ENTRY+0x17f>
    // 000000000000017b:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[383] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x4c, 0x89, 0xeb, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x31, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85,
        0xc0, 0x0f, 0x84, 0xb4, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x15, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xb7,
        0xf2, 0x48, 0xf7, 0xde, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x66, 0x85, 0xc9, 0x0f, 0x84,
        0x02, 0x01, 0x00, 0x00, 0x48, 0x89, 0x45, 0xf0,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x89, 0xf6, 0x45,
        0x31, 0xff, 0x48, 0x89, 0x75, 0xe8, 0xeb, 0x05,
        0x49, 0xff, 0xc6, 0x74, 0x57, 0x45, 0x85, 0xff,
        0x74, 0x16, 0x4a, 0x8b, 0x3c, 0xf3, 0x8b, 0x07,
        0x85, 0xc0, 0x79, 0x3a, 0xeb, 0xea, 0x66, 0x2e,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4a, 0x8b, 0x34,
        0xf3, 0x48, 0x8b, 0x7d, 0xf0, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x89, 0xc7, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x4a, 0x8b, 0x3c, 0xf3,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0xb2, 0xff, 0xc8,
        0x89, 0x07, 0x75, 0xac, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0xeb, 0xa4, 0x45, 0x85, 0xff, 0x4c,
        0x8b, 0x75, 0xf8, 0x74, 0x7a, 0x48, 0x8b, 0x7d,
        0xf0, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x0a, 0xff,
        0xc8, 0x89, 0x07, 0x0f, 0x84, 0x96, 0x00, 0x00,
        0x00, 0x48, 0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0x75, 0xf8, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x66, 0x85,
        0xc0, 0x74, 0x3e, 0x44, 0x0f, 0xb7, 0x35, 0x00,
        0x00, 0x00, 0x00, 0x49, 0xff, 0xc6, 0x48, 0x83,
        0xc3, 0xf8, 0x4c, 0x8b, 0x3d, 0x00, 0x00, 0x00,
        0x00, 0xeb, 0x12, 0x0f, 0x1f, 0x44, 0x00, 0x00,
        0x49, 0xff, 0xce, 0x48, 0x83, 0xc3, 0xf8, 0x49,
        0x83, 0xfe, 0x01, 0x76, 0x14, 0x48, 0x8b, 0x3b,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0xea, 0xff, 0xc8,
        0x89, 0x07, 0x75, 0xe4, 0x41, 0xff, 0xd7, 0xeb,
        0xdf, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4,
        0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x45, 0xf0, 0x48, 0x8b, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x75, 0xe8, 0x0f, 0xb7,
        0xd2, 0x49, 0x89, 0x44, 0xf5, 0x00, 0xb9, 0x01,
        0x00, 0x00, 0x00, 0x29, 0xd1, 0x48, 0x63, 0xc1,
        0x4d, 0x8d, 0x6c, 0xc5, 0x00, 0x48, 0x83, 0xc4,
        0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x83, 0xc4,
        0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    // 10: &PySet_Add+0x0
    // 18: &PySet_New+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    patch_64(data + 0x10, (uintptr_t)&PySet_Add);
    patch_64(data + 0x18, (uintptr_t)&PySet_New);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x3f, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x8f, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xb6, (uintptr_t)data + -0x4);
    patch_32r(code + 0xdf, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0xea, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xf7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x105, (uintptr_t)data + -0x4);
    patch_32r(code + 0x13b, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x146, (uintptr_t)data + 0x4);
    patch_32r(code + 0x16b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x171, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17b, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BUILD_SLICE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BUILD_SLICE.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 4c 89 75 f0                   movq    %r14, -0x10(%rbp)
    // c: 4c 89 65 f8                   movq    %r12, -0x8(%rbp)
    // 10: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 17: 66 83 f8 03                   cmpw    $0x3, %ax
    // 1b: 75 0d                         jne     0x2a <__JIT_ENTRY+0x2a>
    // 1d: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 21: 48 c7 c1 fd ff ff ff          movq    $-0x3, %rcx
    // 28: eb 09                         jmp     0x33 <__JIT_ENTRY+0x33>
    // 2a: 48 c7 c1 fe ff ff ff          movq    $-0x2, %rcx
    // 31: 31 db                         xorl    %ebx, %ebx
    // 33: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 3a: 45 31 e4                      xorl    %r12d, %r12d
    // 3d: 66 83 f8 03                   cmpw    $0x3, %ax
    // 41: 41 0f 94 c4                   sete    %r12b
    // 45: 49 f7 d4                      notq    %r12
    // 48: 4f 8b 7c e5 00                movq    (%r13,%r12,8), %r15
    // 4d: 48 89 4d e8                   movq    %rcx, -0x18(%rbp)
    // 51: 4d 8b 74 cd 00                movq    (%r13,%rcx,8), %r14
    // 56: 4c 89 f7                      movq    %r14, %rdi
    // 59: 4c 89 fe                      movq    %r15, %rsi
    // 5c: 48 89 da                      movq    %rbx, %rdx
    // 5f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x65 <__JIT_ENTRY+0x65>
    // 0000000000000061:  X86_64_RELOC_GOT     _PySlice_New@GOTPCREL
    // 65: 41 8b 0e                      movl    (%r14), %ecx
    // 68: 85 c9                         testl   %ecx, %ecx
    // 6a: 78 16                         js      0x82 <__JIT_ENTRY+0x82>
    // 6c: ff c9                         decl    %ecx
    // 6e: 41 89 0e                      movl    %ecx, (%r14)
    // 71: 75 0f                         jne     0x82 <__JIT_ENTRY+0x82>
    // 73: 4c 89 f7                      movq    %r14, %rdi
    // 76: 49 89 c6                      movq    %rax, %r14
    // 79: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7f <__JIT_ENTRY+0x7f>
    // 000000000000007b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 7f: 4c 89 f0                      movq    %r14, %rax
    // 82: 41 8b 0f                      movl    (%r15), %ecx
    // 85: 85 c9                         testl   %ecx, %ecx
    // 87: 78 16                         js      0x9f <__JIT_ENTRY+0x9f>
    // 89: ff c9                         decl    %ecx
    // 8b: 41 89 0f                      movl    %ecx, (%r15)
    // 8e: 75 0f                         jne     0x9f <__JIT_ENTRY+0x9f>
    // 90: 4c 89 ff                      movq    %r15, %rdi
    // 93: 49 89 c6                      movq    %rax, %r14
    // 96: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x9c <__JIT_ENTRY+0x9c>
    // 0000000000000098:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 9c: 4c 89 f0                      movq    %r14, %rax
    // 9f: 48 85 db                      testq   %rbx, %rbx
    // a2: 4c 8b 75 e8                   movq    -0x18(%rbp), %r14
    // a6: 74 0c                         je      0xb4 <__JIT_ENTRY+0xb4>
    // a8: 8b 0b                         movl    (%rbx), %ecx
    // aa: 85 c9                         testl   %ecx, %ecx
    // ac: 78 06                         js      0xb4 <__JIT_ENTRY+0xb4>
    // ae: ff c9                         decl    %ecx
    // b0: 89 0b                         movl    %ecx, (%rbx)
    // b2: 74 2a                         je      0xde <__JIT_ENTRY+0xde>
    // b4: 48 85 c0                      testq   %rax, %rax
    // b7: 74 39                         je      0xf2 <__JIT_ENTRY+0xf2>
    // b9: 4a 8d 0c e5 00 00 00 00       leaq    (,%r12,8), %rcx
    // c1: 4c 01 e9                      addq    %r13, %rcx
    // c4: 4b 89 44 f5 00                movq    %rax, (%r13,%r14,8)
    // c9: 4c 8b 65 f8                   movq    -0x8(%rbp), %r12
    // cd: 49 89 cd                      movq    %rcx, %r13
    // d0: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // d4: 48 83 c4 20                   addq    $0x20, %rsp
    // d8: 5d                            popq    %rbp
    // d9: e9 00 00 00 00                jmp     0xde <__JIT_ENTRY+0xde>
    // 00000000000000da:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // de: 48 89 df                      movq    %rbx, %rdi
    // e1: 48 89 c3                      movq    %rax, %rbx
    // e4: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xea <__JIT_ENTRY+0xea>
    // 00000000000000e6:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ea: 48 89 d8                      movq    %rbx, %rax
    // ed: 48 85 c0                      testq   %rax, %rax
    // f0: 75 c7                         jne     0xb9 <__JIT_ENTRY+0xb9>
    // f2: 4c 8b 65 f8                   movq    -0x8(%rbp), %r12
    // f6: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // fa: 48 83 c4 20                   addq    $0x20, %rsp
    // fe: 5d                            popq    %rbp
    // ff: e9 00 00 00 00                jmp     0x104 <__JIT_ENTRY+0x104>
    // 0000000000000100:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[260] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x4c, 0x89, 0x75, 0xf0, 0x4c, 0x89, 0x65, 0xf8,
        0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x66,
        0x83, 0xf8, 0x03, 0x75, 0x0d, 0x49, 0x8b, 0x5d,
        0xf8, 0x48, 0xc7, 0xc1, 0xfd, 0xff, 0xff, 0xff,
        0xeb, 0x09, 0x48, 0xc7, 0xc1, 0xfe, 0xff, 0xff,
        0xff, 0x31, 0xdb, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x45, 0x31, 0xe4, 0x66, 0x83, 0xf8,
        0x03, 0x41, 0x0f, 0x94, 0xc4, 0x49, 0xf7, 0xd4,
        0x4f, 0x8b, 0x7c, 0xe5, 0x00, 0x48, 0x89, 0x4d,
        0xe8, 0x4d, 0x8b, 0x74, 0xcd, 0x00, 0x4c, 0x89,
        0xf7, 0x4c, 0x89, 0xfe, 0x48, 0x89, 0xda, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x0e,
        0x85, 0xc9, 0x78, 0x16, 0xff, 0xc9, 0x41, 0x89,
        0x0e, 0x75, 0x0f, 0x4c, 0x89, 0xf7, 0x49, 0x89,
        0xc6, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0xf0, 0x41, 0x8b, 0x0f, 0x85, 0xc9, 0x78,
        0x16, 0xff, 0xc9, 0x41, 0x89, 0x0f, 0x75, 0x0f,
        0x4c, 0x89, 0xff, 0x49, 0x89, 0xc6, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xf0, 0x48,
        0x85, 0xdb, 0x4c, 0x8b, 0x75, 0xe8, 0x74, 0x0c,
        0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x06, 0xff, 0xc9,
        0x89, 0x0b, 0x74, 0x2a, 0x48, 0x85, 0xc0, 0x74,
        0x39, 0x4a, 0x8d, 0x0c, 0xe5, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x01, 0xe9, 0x4b, 0x89, 0x44, 0xf5,
        0x00, 0x4c, 0x8b, 0x65, 0xf8, 0x49, 0x89, 0xcd,
        0x4c, 0x8b, 0x75, 0xf0, 0x48, 0x83, 0xc4, 0x20,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0x48, 0x89, 0xc3, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xd8, 0x48, 0x85, 0xc0,
        0x75, 0xc7, 0x4c, 0x8b, 0x65, 0xf8, 0x4c, 0x8b,
        0x75, 0xf0, 0x48, 0x83, 0xc4, 0x20, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PySlice_New+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PySlice_New);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x36, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x61, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x7b, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x98, (uintptr_t)data + -0x4);
    patch_32r(code + 0xda, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xe6, (uintptr_t)data + -0x4);
    patch_32r(code + 0x100, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BUILD_STRING(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BUILD_STRING.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 4c 89 75 f0                   movq    %r14, -0x10(%rbp)
    // c: 4c 89 65 f8                   movq    %r12, -0x8(%rbp)
    // 10: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 17: 44 0f b7 f8                   movzwl  %ax, %r15d
    // 1b: 42 8d 04 fd 00 00 00 00       leal    (,%r15,8), %eax
    // 23: 4c 89 eb                      movq    %r13, %rbx
    // 26: 48 29 c3                      subq    %rax, %rbx
    // 29: bf 98 87 00 00                movl    $0x8798, %edi           ## imm = 0x8798
    // 2e: 48 03 3d 00 00 00 00          addq    (%rip), %rdi            ## 0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 35: 48 89 de                      movq    %rbx, %rsi
    // 38: 4c 89 fa                      movq    %r15, %rdx
    // 3b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_GOT     __PyUnicode_JoinArray@GOTPCREL
    // 41: 48 89 45 e8                   movq    %rax, -0x18(%rbp)
    // 45: 66 45 85 ff                   testw   %r15w, %r15w
    // 49: 74 36                         je      0x81 <__JIT_ENTRY+0x81>
    // 4b: 49 ff c7                      incq    %r15
    // 4e: 4d 8d 75 f8                   leaq    -0x8(%r13), %r14
    // 52: 4c 8b 25 00 00 00 00          movq    (%rip), %r12            ## 0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_GOT_LOAD        __Py_Dealloc@GOTPCREL
    // 59: eb 12                         jmp     0x6d <__JIT_ENTRY+0x6d>
    // 5b: 0f 1f 44 00 00                nopl    (%rax,%rax)
    // 60: 49 ff cf                      decq    %r15
    // 63: 49 83 c6 f8                   addq    $-0x8, %r14
    // 67: 49 83 ff 01                   cmpq    $0x1, %r15
    // 6b: 76 14                         jbe     0x81 <__JIT_ENTRY+0x81>
    // 6d: 49 8b 3e                      movq    (%r14), %rdi
    // 70: 8b 07                         movl    (%rdi), %eax
    // 72: 85 c0                         testl   %eax, %eax
    // 74: 78 ea                         js      0x60 <__JIT_ENTRY+0x60>
    // 76: ff c8                         decl    %eax
    // 78: 89 07                         movl    %eax, (%rdi)
    // 7a: 75 e4                         jne     0x60 <__JIT_ENTRY+0x60>
    // 7c: 41 ff d4                      callq   *%r12
    // 7f: eb df                         jmp     0x60 <__JIT_ENTRY+0x60>
    // 81: 48 8b 4d e8                   movq    -0x18(%rbp), %rcx
    // 85: 48 85 c9                      testq   %rcx, %rcx
    // 88: 74 2e                         je      0xb8 <__JIT_ENTRY+0xb8>
    // 8a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x91 <__JIT_ENTRY+0x91>
    // 000000000000008d:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 91: 0f b7 c0                      movzwl  %ax, %eax
    // 94: 48 89 0b                      movq    %rcx, (%rbx)
    // 97: b9 01 00 00 00                movl    $0x1, %ecx
    // 9c: 29 c1                         subl    %eax, %ecx
    // 9e: 48 63 c1                      movslq  %ecx, %rax
    // a1: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // a6: 4c 8b 65 f8                   movq    -0x8(%rbp), %r12
    // aa: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // ae: 48 83 c4 20                   addq    $0x20, %rsp
    // b2: 5d                            popq    %rbp
    // b3: e9 00 00 00 00                jmp     0xb8 <__JIT_ENTRY+0xb8>
    // 00000000000000b4:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // b8: 4c 8b 65 f8                   movq    -0x8(%rbp), %r12
    // bc: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // c0: 48 83 c4 20                   addq    $0x20, %rsp
    // c4: 5d                            popq    %rbp
    // c5: e9 00 00 00 00                jmp     0xca <__JIT_ENTRY+0xca>
    // 00000000000000c6:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[202] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x4c, 0x89, 0x75, 0xf0, 0x4c, 0x89, 0x65, 0xf8,
        0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x44,
        0x0f, 0xb7, 0xf8, 0x42, 0x8d, 0x04, 0xfd, 0x00,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0xeb, 0x48, 0x29,
        0xc3, 0xbf, 0x98, 0x87, 0x00, 0x00, 0x48, 0x03,
        0x3d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xde,
        0x4c, 0x89, 0xfa, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0x45, 0xe8, 0x66, 0x45, 0x85,
        0xff, 0x74, 0x36, 0x49, 0xff, 0xc7, 0x4d, 0x8d,
        0x75, 0xf8, 0x4c, 0x8b, 0x25, 0x00, 0x00, 0x00,
        0x00, 0xeb, 0x12, 0x0f, 0x1f, 0x44, 0x00, 0x00,
        0x49, 0xff, 0xcf, 0x49, 0x83, 0xc6, 0xf8, 0x49,
        0x83, 0xff, 0x01, 0x76, 0x14, 0x49, 0x8b, 0x3e,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0xea, 0xff, 0xc8,
        0x89, 0x07, 0x75, 0xe4, 0x41, 0xff, 0xd4, 0xeb,
        0xdf, 0x48, 0x8b, 0x4d, 0xe8, 0x48, 0x85, 0xc9,
        0x74, 0x2e, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x0f, 0xb7, 0xc0, 0x48, 0x89, 0x0b, 0xb9,
        0x01, 0x00, 0x00, 0x00, 0x29, 0xc1, 0x48, 0x63,
        0xc1, 0x4d, 0x8d, 0x6c, 0xc5, 0x00, 0x4c, 0x8b,
        0x65, 0xf8, 0x4c, 0x8b, 0x75, 0xf0, 0x48, 0x83,
        0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x8b, 0x65, 0xf8, 0x4c, 0x8b, 0x75, 0xf0,
        0x48, 0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: OPARG
    // 8: &_Py_Dealloc+0x0
    // 10: &_PyUnicode_JoinArray+0x0
    // 18: &_PyRuntime+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, (uintptr_t)&_PyUnicode_JoinArray);
    patch_64(data + 0x18, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x31, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x3d, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x55, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x8d, (uintptr_t)data + -0x4);
    patch_32r(code + 0xb4, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xc6, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__BUILD_TUPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _BUILD_TUPLE.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4c 8b 3d 00 00 00 00          movq    (%rip), %r15            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 41 0f b7 f7                   movzwl  %r15w, %esi
    // f: 8d 04 f5 00 00 00 00          leal    (,%rsi,8), %eax
    // 16: 4c 89 eb                      movq    %r13, %rbx
    // 19: 48 29 c3                      subq    %rax, %rbx
    // 1c: 48 89 df                      movq    %rbx, %rdi
    // 1f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     __PyTuple_FromStackRefSteal@GOTPCREL
    // 25: 48 85 c0                      testq   %rax, %rax
    // 28: 74 1b                         je      0x45 <__JIT_ENTRY+0x45>
    // 2a: 41 0f b7 cf                   movzwl  %r15w, %ecx
    // 2e: 48 89 03                      movq    %rax, (%rbx)
    // 31: b8 01 00 00 00                movl    $0x1, %eax
    // 36: 29 c8                         subl    %ecx, %eax
    // 38: 48 98                         cltq
    // 3a: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // 3f: 5d                            popq    %rbp
    // 40: e9 00 00 00 00                jmp     0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 45: 5d                            popq    %rbp
    // 46: e9 00 00 00 00                jmp     0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[75] = {
        0x55, 0x48, 0x89, 0xe5, 0x4c, 0x8b, 0x3d, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x0f, 0xb7, 0xf7, 0x8d,
        0x04, 0xf5, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xeb, 0x48, 0x29, 0xc3, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x1b, 0x41, 0x0f, 0xb7, 0xcf, 0x48, 0x89,
        0x03, 0xb8, 0x01, 0x00, 0x00, 0x00, 0x29, 0xc8,
        0x48, 0x98, 0x4d, 0x8d, 0x6c, 0xc5, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_PyTuple_FromStackRefSteal+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyTuple_FromStackRefSteal);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + -0x4);
    patch_32r(code + 0x41, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x47, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_BUILTIN_CLASS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_BUILTIN_CLASS.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 30                   subq    $0x30, %rsp
    // 8: 0f b7 1d 00 00 00 00          movzwl  (%rip), %ebx            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: b8 fe ff ff ff                movl    $0xfffffffe, %eax       ## imm = 0xFFFFFFFE
    // 14: 29 d8                         subl    %ebx, %eax
    // 16: 4c 63 c0                      movslq  %eax, %r8
    // 19: 4b 8b 7c c5 00                movq    (%r13,%r8,8), %rdi
    // 1e: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 22: f6 80 ab 00 00 00 80          testb   $-0x80, 0xab(%rax)
    // 29: 0f 84 b1 00 00 00             je      0xe0 <__JIT_ENTRY+0xe0>
    // 2f: 89 d8                         movl    %ebx, %eax
    // 31: f7 d0                         notl    %eax
    // 33: 4c 63 c8                      movslq  %eax, %r9
    // 36: 4b 8b 4c cd 00                movq    (%r13,%r9,8), %rcx
    // 3b: 31 d2                         xorl    %edx, %edx
    // 3d: 48 85 c9                      testq   %rcx, %rcx
    // 40: 40 0f 94 c6                   sete    %sil
    // 44: 48 8b 87 90 01 00 00          movq    0x190(%rdi), %rax
    // 4b: 48 85 c0                      testq   %rax, %rax
    // 4e: 0f 84 8c 00 00 00             je      0xe0 <__JIT_ENTRY+0xe0>
    // 54: 4c 89 4d e8                   movq    %r9, -0x18(%rbp)
    // 58: 4c 89 45 e0                   movq    %r8, -0x20(%rbp)
    // 5c: 4c 89 75 d8                   movq    %r14, -0x28(%rbp)
    // 60: 41 89 d8                      movl    %ebx, %r8d
    // 63: 41 f7 d8                      negl    %r8d
    // 66: 4d 63 c0                      movslq  %r8d, %r8
    // 69: 4e 8d 04 c5 00 00 00 00       leaq    (,%r8,8), %r8
    // 71: 4d 01 e8                      addq    %r13, %r8
    // 74: 40 88 f2                      movb    %sil, %dl
    // 77: 4d 8d 3c d0                   leaq    (%r8,%rdx,8), %r15
    // 7b: 49 83 c7 f8                   addq    $-0x8, %r15
    // 7f: 48 83 f9 01                   cmpq    $0x1, %rcx
    // 83: 83 db ff                      sbbl    $-0x1, %ebx
    // 86: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 8b: 4c 89 fe                      movq    %r15, %rsi
    // 8e: 48 89 da                      movq    %rbx, %rdx
    // 91: 31 c9                         xorl    %ecx, %ecx
    // 93: ff d0                         callq   *%rax
    // 95: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // 99: 49 8b 44 24 40                movq    0x40(%r12), %rax
    // 9e: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // a2: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // ab: 85 db                         testl   %ebx, %ebx
    // ad: 74 3b                         je      0xea <__JIT_ENTRY+0xea>
    // af: 45 31 f6                      xorl    %r14d, %r14d
    // b2: eb 14                         jmp     0xc8 <__JIT_ENTRY+0xc8>
    // b4: 66 66 66 2e 0f 1f 84 00 00 00 00 00   nopw    %cs:(%rax,%rax)
    // c0: 49 ff c6                      incq    %r14
    // c3: 4c 39 f3                      cmpq    %r14, %rbx
    // c6: 74 22                         je      0xea <__JIT_ENTRY+0xea>
    // c8: 4b 8b 3c f7                   movq    (%r15,%r14,8), %rdi
    // cc: 8b 07                         movl    (%rdi), %eax
    // ce: 85 c0                         testl   %eax, %eax
    // d0: 78 ee                         js      0xc0 <__JIT_ENTRY+0xc0>
    // d2: ff c8                         decl    %eax
    // d4: 89 07                         movl    %eax, (%rdi)
    // d6: 75 e8                         jne     0xc0 <__JIT_ENTRY+0xc0>
    // d8: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xde <__JIT_ENTRY+0xde>
    // 00000000000000da:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // de: eb e0                         jmp     0xc0 <__JIT_ENTRY+0xc0>
    // e0: 48 83 c4 30                   addq    $0x30, %rsp
    // e4: 5d                            popq    %rbp
    // e5: e9 00 00 00 00                jmp     0xea <__JIT_ENTRY+0xea>
    // 00000000000000e6:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // ea: 48 8b 5d e0                   movq    -0x20(%rbp), %rbx
    // ee: 49 8b 7c dd 00                movq    (%r13,%rbx,8), %rdi
    // f3: 8b 07                         movl    (%rdi), %eax
    // f5: 85 c0                         testl   %eax, %eax
    // f7: 78 0c                         js      0x105 <__JIT_ENTRY+0x105>
    // f9: ff c8                         decl    %eax
    // fb: 89 07                         movl    %eax, (%rdi)
    // fd: 75 06                         jne     0x105 <__JIT_ENTRY+0x105>
    // ff: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x105 <__JIT_ENTRY+0x105>
    // 0000000000000101:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 105: 48 8b 55 f0                   movq    -0x10(%rbp), %rdx
    // 109: 48 85 d2                      testq   %rdx, %rdx
    // 10c: 4c 8b 75 d8                   movq    -0x28(%rbp), %r14
    // 110: 48 8b 45 e8                   movq    -0x18(%rbp), %rax
    // 114: 74 16                         je      0x12c <__JIT_ENTRY+0x12c>
    // 116: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 11a: 48 89 14 d9                   movq    %rdx, (%rcx,%rbx,8)
    // 11e: 4c 8d 2c c1                   leaq    (%rcx,%rax,8), %r13
    // 122: 48 83 c4 30                   addq    $0x30, %rsp
    // 126: 5d                            popq    %rbp
    // 127: e9 00 00 00 00                jmp     0x12c <__JIT_ENTRY+0x12c>
    // 0000000000000128:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 12c: 4c 8b 6d f8                   movq    -0x8(%rbp), %r13
    // 130: 48 83 c4 30                   addq    $0x30, %rsp
    // 134: 5d                            popq    %rbp
    // 135: e9 00 00 00 00                jmp     0x13a <__JIT_ENTRY+0x13a>
    // 0000000000000136:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[314] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x30,
        0x0f, 0xb7, 0x1d, 0x00, 0x00, 0x00, 0x00, 0xb8,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xd8, 0x4c, 0x63,
        0xc0, 0x4b, 0x8b, 0x7c, 0xc5, 0x00, 0x48, 0x8b,
        0x47, 0x08, 0xf6, 0x80, 0xab, 0x00, 0x00, 0x00,
        0x80, 0x0f, 0x84, 0xb1, 0x00, 0x00, 0x00, 0x89,
        0xd8, 0xf7, 0xd0, 0x4c, 0x63, 0xc8, 0x4b, 0x8b,
        0x4c, 0xcd, 0x00, 0x31, 0xd2, 0x48, 0x85, 0xc9,
        0x40, 0x0f, 0x94, 0xc6, 0x48, 0x8b, 0x87, 0x90,
        0x01, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x0f, 0x84,
        0x8c, 0x00, 0x00, 0x00, 0x4c, 0x89, 0x4d, 0xe8,
        0x4c, 0x89, 0x45, 0xe0, 0x4c, 0x89, 0x75, 0xd8,
        0x41, 0x89, 0xd8, 0x41, 0xf7, 0xd8, 0x4d, 0x63,
        0xc0, 0x4e, 0x8d, 0x04, 0xc5, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x01, 0xe8, 0x40, 0x88, 0xf2, 0x4d,
        0x8d, 0x3c, 0xd0, 0x49, 0x83, 0xc7, 0xf8, 0x48,
        0x83, 0xf9, 0x01, 0x83, 0xdb, 0xff, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x4c, 0x89, 0xfe, 0x48, 0x89,
        0xda, 0x31, 0xc9, 0xff, 0xd0, 0x48, 0x89, 0x45,
        0xf0, 0x49, 0x8b, 0x44, 0x24, 0x40, 0x48, 0x89,
        0x45, 0xf8, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x85, 0xdb, 0x74, 0x3b, 0x45,
        0x31, 0xf6, 0xeb, 0x14, 0x66, 0x66, 0x66, 0x2e,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x49, 0xff, 0xc6, 0x4c, 0x39, 0xf3, 0x74, 0x22,
        0x4b, 0x8b, 0x3c, 0xf7, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0xee, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xe8,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0xeb, 0xe0,
        0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x5d, 0xe0, 0x49, 0x8b,
        0x7c, 0xdd, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x78,
        0x0c, 0xff, 0xc8, 0x89, 0x07, 0x75, 0x06, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x55,
        0xf0, 0x48, 0x85, 0xd2, 0x4c, 0x8b, 0x75, 0xd8,
        0x48, 0x8b, 0x45, 0xe8, 0x74, 0x16, 0x48, 0x8b,
        0x4d, 0xf8, 0x48, 0x89, 0x14, 0xd9, 0x4c, 0x8d,
        0x2c, 0xc1, 0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x8b, 0x6d, 0xf8,
        0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xda, (uintptr_t)data + -0x4);
    patch_32r(code + 0xe6, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x101, (uintptr_t)data + -0x4);
    patch_32r(code + 0x128, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x136, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_BUILTIN_FAST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_BUILTIN_FAST.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 30                   subq    $0x30, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 4c 63 c1                      movslq  %ecx, %r8
    // 16: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 1b: 29 c1                         subl    %eax, %ecx
    // 1d: 4c 63 c9                      movslq  %ecx, %r9
    // 20: 4b 8b 4c cd 00                movq    (%r13,%r9,8), %rcx
    // 25: 45 31 d2                      xorl    %r10d, %r10d
    // 28: 31 f6                         xorl    %esi, %esi
    // 2a: 4b 83 7c c5 00 00             cmpq    $0x0, (%r13,%r8,8)
    // 30: 0f 95 c2                      setne   %dl
    // 33: 0f 94 c3                      sete    %bl
    // 36: 48 8b 79 08                   movq    0x8(%rcx), %rdi
    // 3a: 48 3b 3d 00 00 00 00          cmpq    (%rip), %rdi            ## 0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_GOT     _PyCFunction_Type@GOTPCREL
    // 41: 0f 85 a6 00 00 00             jne     0xed <__JIT_ENTRY+0xed>
    // 47: 48 8b 79 10                   movq    0x10(%rcx), %rdi
    // 4b: 81 7f 10 80 00 00 00          cmpl    $0x80, 0x10(%rdi)
    // 52: 0f 85 95 00 00 00             jne     0xed <__JIT_ENTRY+0xed>
    // 58: 4c 89 4d e0                   movq    %r9, -0x20(%rbp)
    // 5c: 4c 89 45 d8                   movq    %r8, -0x28(%rbp)
    // 60: 4c 89 75 d0                   movq    %r14, -0x30(%rbp)
    // 64: 44 8d 04 c5 00 00 00 00       leal    (,%rax,8), %r8d
    // 6c: 4d 89 e9                      movq    %r13, %r9
    // 6f: 4d 29 c1                      subq    %r8, %r9
    // 72: 40 88 de                      movb    %bl, %sil
    // 75: 49 8d 1c f1                   leaq    (%r9,%rsi,8), %rbx
    // 79: 48 83 c3 f8                   addq    $-0x8, %rbx
    // 7d: 41 88 d2                      movb    %dl, %r10b
    // 80: 41 01 c2                      addl    %eax, %r10d
    // 83: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 87: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 8c: 48 8b 79 18                   movq    0x18(%rcx), %rdi
    // 90: 4d 89 e6                      movq    %r12, %r14
    // 93: 45 89 d7                      movl    %r10d, %r15d
    // 96: 48 89 de                      movq    %rbx, %rsi
    // 99: 4c 89 fa                      movq    %r15, %rdx
    // 9c: 45 89 d4                      movl    %r10d, %r12d
    // 9f: ff d0                         callq   *%rax
    // a1: 48 89 45 e8                   movq    %rax, -0x18(%rbp)
    // a5: 49 8b 46 40                   movq    0x40(%r14), %rax
    // a9: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // ad: 4c 89 75 f0                   movq    %r14, -0x10(%rbp)
    // b1: 49 c7 46 40 00 00 00 00       movq    $0x0, 0x40(%r14)
    // b9: 45 85 e4                      testl   %r12d, %r12d
    // bc: 74 39                         je      0xf7 <__JIT_ENTRY+0xf7>
    // be: 45 31 f6                      xorl    %r14d, %r14d
    // c1: 4c 8b 25 00 00 00 00          movq    (%rip), %r12            ## 0xc8 <__JIT_ENTRY+0xc8>
    // 00000000000000c4:  X86_64_RELOC_GOT_LOAD        __Py_Dealloc@GOTPCREL
    // c8: eb 0e                         jmp     0xd8 <__JIT_ENTRY+0xd8>
    // ca: 66 0f 1f 44 00 00             nopw    (%rax,%rax)
    // d0: 49 ff c6                      incq    %r14
    // d3: 4d 39 f7                      cmpq    %r14, %r15
    // d6: 74 1f                         je      0xf7 <__JIT_ENTRY+0xf7>
    // d8: 4a 8b 3c f3                   movq    (%rbx,%r14,8), %rdi
    // dc: 8b 07                         movl    (%rdi), %eax
    // de: 85 c0                         testl   %eax, %eax
    // e0: 78 ee                         js      0xd0 <__JIT_ENTRY+0xd0>
    // e2: ff c8                         decl    %eax
    // e4: 89 07                         movl    %eax, (%rdi)
    // e6: 75 e8                         jne     0xd0 <__JIT_ENTRY+0xd0>
    // e8: 41 ff d4                      callq   *%r12
    // eb: eb e3                         jmp     0xd0 <__JIT_ENTRY+0xd0>
    // ed: 48 83 c4 30                   addq    $0x30, %rsp
    // f1: 5d                            popq    %rbp
    // f2: e9 00 00 00 00                jmp     0xf7 <__JIT_ENTRY+0xf7>
    // 00000000000000f3:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // f7: 4c 8b 7d e0                   movq    -0x20(%rbp), %r15
    // fb: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // 100: 8b 07                         movl    (%rdi), %eax
    // 102: 85 c0                         testl   %eax, %eax
    // 104: 48 8b 5d d8                   movq    -0x28(%rbp), %rbx
    // 108: 78 0c                         js      0x116 <__JIT_ENTRY+0x116>
    // 10a: ff c8                         decl    %eax
    // 10c: 89 07                         movl    %eax, (%rdi)
    // 10e: 75 06                         jne     0x116 <__JIT_ENTRY+0x116>
    // 110: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x116 <__JIT_ENTRY+0x116>
    // 0000000000000112:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 116: 48 8b 4d e8                   movq    -0x18(%rbp), %rcx
    // 11a: 48 85 c9                      testq   %rcx, %rcx
    // 11d: 4c 8b 75 d0                   movq    -0x30(%rbp), %r14
    // 121: 4c 8b 65 f0                   movq    -0x10(%rbp), %r12
    // 125: 74 16                         je      0x13d <__JIT_ENTRY+0x13d>
    // 127: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 12b: 4a 89 0c f8                   movq    %rcx, (%rax,%r15,8)
    // 12f: 4c 8d 2c d8                   leaq    (%rax,%rbx,8), %r13
    // 133: 48 83 c4 30                   addq    $0x30, %rsp
    // 137: 5d                            popq    %rbp
    // 138: e9 00 00 00 00                jmp     0x13d <__JIT_ENTRY+0x13d>
    // 0000000000000139:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 13d: 4c 8b 6d f8                   movq    -0x8(%rbp), %r13
    // 141: 48 83 c4 30                   addq    $0x30, %rsp
    // 145: 5d                            popq    %rbp
    // 146: e9 00 00 00 00                jmp     0x14b <__JIT_ENTRY+0x14b>
    // 0000000000000147:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[331] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x30,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x4c, 0x63, 0xc1, 0xb9, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc1, 0x4c, 0x63, 0xc9,
        0x4b, 0x8b, 0x4c, 0xcd, 0x00, 0x45, 0x31, 0xd2,
        0x31, 0xf6, 0x4b, 0x83, 0x7c, 0xc5, 0x00, 0x00,
        0x0f, 0x95, 0xc2, 0x0f, 0x94, 0xc3, 0x48, 0x8b,
        0x79, 0x08, 0x48, 0x3b, 0x3d, 0x00, 0x00, 0x00,
        0x00, 0x0f, 0x85, 0xa6, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x79, 0x10, 0x81, 0x7f, 0x10, 0x80, 0x00,
        0x00, 0x00, 0x0f, 0x85, 0x95, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0x4d, 0xe0, 0x4c, 0x89, 0x45, 0xd8,
        0x4c, 0x89, 0x75, 0xd0, 0x44, 0x8d, 0x04, 0xc5,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x89, 0xe9, 0x4d,
        0x29, 0xc1, 0x40, 0x88, 0xde, 0x49, 0x8d, 0x1c,
        0xf1, 0x48, 0x83, 0xc3, 0xf8, 0x41, 0x88, 0xd2,
        0x41, 0x01, 0xc2, 0x48, 0x8b, 0x47, 0x08, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b, 0x79, 0x18,
        0x4d, 0x89, 0xe6, 0x45, 0x89, 0xd7, 0x48, 0x89,
        0xde, 0x4c, 0x89, 0xfa, 0x45, 0x89, 0xd4, 0xff,
        0xd0, 0x48, 0x89, 0x45, 0xe8, 0x49, 0x8b, 0x46,
        0x40, 0x48, 0x89, 0x45, 0xf8, 0x4c, 0x89, 0x75,
        0xf0, 0x49, 0xc7, 0x46, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x45, 0x85, 0xe4, 0x74, 0x39, 0x45, 0x31,
        0xf6, 0x4c, 0x8b, 0x25, 0x00, 0x00, 0x00, 0x00,
        0xeb, 0x0e, 0x66, 0x0f, 0x1f, 0x44, 0x00, 0x00,
        0x49, 0xff, 0xc6, 0x4d, 0x39, 0xf7, 0x74, 0x1f,
        0x4a, 0x8b, 0x3c, 0xf3, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0xee, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xe8,
        0x41, 0xff, 0xd4, 0xeb, 0xe3, 0x48, 0x83, 0xc4,
        0x30, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c,
        0x8b, 0x7d, 0xe0, 0x4b, 0x8b, 0x7c, 0xfd, 0x00,
        0x8b, 0x07, 0x85, 0xc0, 0x48, 0x8b, 0x5d, 0xd8,
        0x78, 0x0c, 0xff, 0xc8, 0x89, 0x07, 0x75, 0x06,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x4d, 0xe8, 0x48, 0x85, 0xc9, 0x4c, 0x8b, 0x75,
        0xd0, 0x4c, 0x8b, 0x65, 0xf0, 0x74, 0x16, 0x48,
        0x8b, 0x45, 0xf8, 0x4a, 0x89, 0x0c, 0xf8, 0x4c,
        0x8d, 0x2c, 0xd8, 0x48, 0x83, 0xc4, 0x30, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8b, 0x6d,
        0xf8, 0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyCFunction_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyCFunction_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x3d, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xc4, (uintptr_t)data + -0x4);
    patch_32r(code + 0xf3, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x112, (uintptr_t)data + -0x4);
    patch_32r(code + 0x139, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x147, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_BUILTIN_FAST_WITH_KEYWORDS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_BUILTIN_FAST_WITH_KEYWORDS.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 30                   subq    $0x30, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 4c 63 c1                      movslq  %ecx, %r8
    // 16: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 1b: 29 c1                         subl    %eax, %ecx
    // 1d: 4c 63 c9                      movslq  %ecx, %r9
    // 20: 4b 8b 4c cd 00                movq    (%r13,%r9,8), %rcx
    // 25: 31 d2                         xorl    %edx, %edx
    // 27: 45 31 d2                      xorl    %r10d, %r10d
    // 2a: 4b 83 7c c5 00 00             cmpq    $0x0, (%r13,%r8,8)
    // 30: 0f 94 c3                      sete    %bl
    // 33: 40 0f 95 c7                   setne   %dil
    // 37: 48 8b 71 08                   movq    0x8(%rcx), %rsi
    // 3b: 48 3b 35 00 00 00 00          cmpq    (%rip), %rsi            ## 0x42 <__JIT_ENTRY+0x42>
    // 000000000000003e:  X86_64_RELOC_GOT     _PyCFunction_Type@GOTPCREL
    // 42: 0f 85 a5 00 00 00             jne     0xed <__JIT_ENTRY+0xed>
    // 48: 48 8b 71 10                   movq    0x10(%rcx), %rsi
    // 4c: 81 7e 10 82 00 00 00          cmpl    $0x82, 0x10(%rsi)
    // 53: 0f 85 94 00 00 00             jne     0xed <__JIT_ENTRY+0xed>
    // 59: 4c 89 4d e0                   movq    %r9, -0x20(%rbp)
    // 5d: 4c 89 45 d8                   movq    %r8, -0x28(%rbp)
    // 61: 4c 89 75 d0                   movq    %r14, -0x30(%rbp)
    // 65: 44 8d 04 c5 00 00 00 00       leal    (,%rax,8), %r8d
    // 6d: 4d 89 e9                      movq    %r13, %r9
    // 70: 4d 29 c1                      subq    %r8, %r9
    // 73: 41 88 fa                      movb    %dil, %r10b
    // 76: 41 01 c2                      addl    %eax, %r10d
    // 79: 88 da                         movb    %bl, %dl
    // 7b: 49 8d 1c d1                   leaq    (%r9,%rdx,8), %rbx
    // 7f: 48 83 c3 f8                   addq    $-0x8, %rbx
    // 83: 48 8b 46 08                   movq    0x8(%rsi), %rax
    // 87: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 8c: 48 8b 79 18                   movq    0x18(%rcx), %rdi
    // 90: 4d 89 e6                      movq    %r12, %r14
    // 93: 45 89 d7                      movl    %r10d, %r15d
    // 96: 48 89 de                      movq    %rbx, %rsi
    // 99: 4c 89 fa                      movq    %r15, %rdx
    // 9c: 31 c9                         xorl    %ecx, %ecx
    // 9e: 45 89 d4                      movl    %r10d, %r12d
    // a1: ff d0                         callq   *%rax
    // a3: 48 89 45 e8                   movq    %rax, -0x18(%rbp)
    // a7: 49 8b 46 40                   movq    0x40(%r14), %rax
    // ab: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // af: 4c 89 75 f0                   movq    %r14, -0x10(%rbp)
    // b3: 49 c7 46 40 00 00 00 00       movq    $0x0, 0x40(%r14)
    // bb: 45 85 e4                      testl   %r12d, %r12d
    // be: 74 37                         je      0xf7 <__JIT_ENTRY+0xf7>
    // c0: 45 31 f6                      xorl    %r14d, %r14d
    // c3: 4c 8b 25 00 00 00 00          movq    (%rip), %r12            ## 0xca <__JIT_ENTRY+0xca>
    // 00000000000000c6:  X86_64_RELOC_GOT_LOAD        __Py_Dealloc@GOTPCREL
    // ca: eb 0c                         jmp     0xd8 <__JIT_ENTRY+0xd8>
    // cc: 0f 1f 40 00                   nopl    (%rax)
    // d0: 49 ff c6                      incq    %r14
    // d3: 4d 39 f7                      cmpq    %r14, %r15
    // d6: 74 1f                         je      0xf7 <__JIT_ENTRY+0xf7>
    // d8: 4a 8b 3c f3                   movq    (%rbx,%r14,8), %rdi
    // dc: 8b 07                         movl    (%rdi), %eax
    // de: 85 c0                         testl   %eax, %eax
    // e0: 78 ee                         js      0xd0 <__JIT_ENTRY+0xd0>
    // e2: ff c8                         decl    %eax
    // e4: 89 07                         movl    %eax, (%rdi)
    // e6: 75 e8                         jne     0xd0 <__JIT_ENTRY+0xd0>
    // e8: 41 ff d4                      callq   *%r12
    // eb: eb e3                         jmp     0xd0 <__JIT_ENTRY+0xd0>
    // ed: 48 83 c4 30                   addq    $0x30, %rsp
    // f1: 5d                            popq    %rbp
    // f2: e9 00 00 00 00                jmp     0xf7 <__JIT_ENTRY+0xf7>
    // 00000000000000f3:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // f7: 4c 8b 7d e0                   movq    -0x20(%rbp), %r15
    // fb: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // 100: 8b 07                         movl    (%rdi), %eax
    // 102: 85 c0                         testl   %eax, %eax
    // 104: 48 8b 5d d8                   movq    -0x28(%rbp), %rbx
    // 108: 78 0c                         js      0x116 <__JIT_ENTRY+0x116>
    // 10a: ff c8                         decl    %eax
    // 10c: 89 07                         movl    %eax, (%rdi)
    // 10e: 75 06                         jne     0x116 <__JIT_ENTRY+0x116>
    // 110: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x116 <__JIT_ENTRY+0x116>
    // 0000000000000112:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 116: 48 8b 4d e8                   movq    -0x18(%rbp), %rcx
    // 11a: 48 85 c9                      testq   %rcx, %rcx
    // 11d: 4c 8b 75 d0                   movq    -0x30(%rbp), %r14
    // 121: 4c 8b 65 f0                   movq    -0x10(%rbp), %r12
    // 125: 74 16                         je      0x13d <__JIT_ENTRY+0x13d>
    // 127: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 12b: 4a 89 0c f8                   movq    %rcx, (%rax,%r15,8)
    // 12f: 4c 8d 2c d8                   leaq    (%rax,%rbx,8), %r13
    // 133: 48 83 c4 30                   addq    $0x30, %rsp
    // 137: 5d                            popq    %rbp
    // 138: e9 00 00 00 00                jmp     0x13d <__JIT_ENTRY+0x13d>
    // 0000000000000139:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 13d: 4c 8b 6d f8                   movq    -0x8(%rbp), %r13
    // 141: 48 83 c4 30                   addq    $0x30, %rsp
    // 145: 5d                            popq    %rbp
    // 146: e9 00 00 00 00                jmp     0x14b <__JIT_ENTRY+0x14b>
    // 0000000000000147:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[331] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x30,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x4c, 0x63, 0xc1, 0xb9, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc1, 0x4c, 0x63, 0xc9,
        0x4b, 0x8b, 0x4c, 0xcd, 0x00, 0x31, 0xd2, 0x45,
        0x31, 0xd2, 0x4b, 0x83, 0x7c, 0xc5, 0x00, 0x00,
        0x0f, 0x94, 0xc3, 0x40, 0x0f, 0x95, 0xc7, 0x48,
        0x8b, 0x71, 0x08, 0x48, 0x3b, 0x35, 0x00, 0x00,
        0x00, 0x00, 0x0f, 0x85, 0xa5, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x71, 0x10, 0x81, 0x7e, 0x10, 0x82,
        0x00, 0x00, 0x00, 0x0f, 0x85, 0x94, 0x00, 0x00,
        0x00, 0x4c, 0x89, 0x4d, 0xe0, 0x4c, 0x89, 0x45,
        0xd8, 0x4c, 0x89, 0x75, 0xd0, 0x44, 0x8d, 0x04,
        0xc5, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89, 0xe9,
        0x4d, 0x29, 0xc1, 0x41, 0x88, 0xfa, 0x41, 0x01,
        0xc2, 0x88, 0xda, 0x49, 0x8d, 0x1c, 0xd1, 0x48,
        0x83, 0xc3, 0xf8, 0x48, 0x8b, 0x46, 0x08, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b, 0x79, 0x18,
        0x4d, 0x89, 0xe6, 0x45, 0x89, 0xd7, 0x48, 0x89,
        0xde, 0x4c, 0x89, 0xfa, 0x31, 0xc9, 0x45, 0x89,
        0xd4, 0xff, 0xd0, 0x48, 0x89, 0x45, 0xe8, 0x49,
        0x8b, 0x46, 0x40, 0x48, 0x89, 0x45, 0xf8, 0x4c,
        0x89, 0x75, 0xf0, 0x49, 0xc7, 0x46, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x45, 0x85, 0xe4, 0x74, 0x37,
        0x45, 0x31, 0xf6, 0x4c, 0x8b, 0x25, 0x00, 0x00,
        0x00, 0x00, 0xeb, 0x0c, 0x0f, 0x1f, 0x40, 0x00,
        0x49, 0xff, 0xc6, 0x4d, 0x39, 0xf7, 0x74, 0x1f,
        0x4a, 0x8b, 0x3c, 0xf3, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0xee, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xe8,
        0x41, 0xff, 0xd4, 0xeb, 0xe3, 0x48, 0x83, 0xc4,
        0x30, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c,
        0x8b, 0x7d, 0xe0, 0x4b, 0x8b, 0x7c, 0xfd, 0x00,
        0x8b, 0x07, 0x85, 0xc0, 0x48, 0x8b, 0x5d, 0xd8,
        0x78, 0x0c, 0xff, 0xc8, 0x89, 0x07, 0x75, 0x06,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x4d, 0xe8, 0x48, 0x85, 0xc9, 0x4c, 0x8b, 0x75,
        0xd0, 0x4c, 0x8b, 0x65, 0xf0, 0x74, 0x16, 0x48,
        0x8b, 0x45, 0xf8, 0x4a, 0x89, 0x0c, 0xf8, 0x4c,
        0x8d, 0x2c, 0xd8, 0x48, 0x83, 0xc4, 0x30, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8b, 0x6d,
        0xf8, 0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyCFunction_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyCFunction_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x3e, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xc6, (uintptr_t)data + -0x4);
    patch_32r(code + 0xf3, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x112, (uintptr_t)data + -0x4);
    patch_32r(code + 0x139, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x147, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_BUILTIN_O(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_BUILTIN_O.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 4c 63 f9                      movslq  %ecx, %r15
    // 16: 31 c9                         xorl    %ecx, %ecx
    // 18: 31 f6                         xorl    %esi, %esi
    // 1a: 4b 83 7c fd 00 00             cmpq    $0x0, (%r13,%r15,8)
    // 20: 0f 94 c2                      sete    %dl
    // 23: 40 0f 95 c6                   setne   %sil
    // 27: 01 c6                         addl    %eax, %esi
    // 29: 83 fe 01                      cmpl    $0x1, %esi
    // 2c: 0f 85 e0 00 00 00             jne     0x112 <__JIT_ENTRY+0x112>
    // 32: be fe ff ff ff                movl    $0xfffffffe, %esi       ## imm = 0xFFFFFFFE
    // 37: 29 c6                         subl    %eax, %esi
    // 39: 48 63 de                      movslq  %esi, %rbx
    // 3c: 4d 8b 54 dd 00                movq    (%r13,%rbx,8), %r10
    // 41: 49 8b 7a 08                   movq    0x8(%r10), %rdi
    // 45: 48 3b 3d 00 00 00 00          cmpq    (%rip), %rdi            ## 0x4c <__JIT_ENTRY+0x4c>
    // 0000000000000048:  X86_64_RELOC_GOT     _PyCFunction_Type@GOTPCREL
    // 4c: 0f 85 c0 00 00 00             jne     0x112 <__JIT_ENTRY+0x112>
    // 52: 49 8b 7a 10                   movq    0x10(%r10), %rdi
    // 56: 83 7f 10 08                   cmpl    $0x8, 0x10(%rdi)
    // 5a: 0f 85 b2 00 00 00             jne     0x112 <__JIT_ENTRY+0x112>
    // 60: 45 8b 46 34                   movl    0x34(%r14), %r8d
    // 64: 45 85 c0                      testl   %r8d, %r8d
    // 67: 0f 8e a5 00 00 00             jle     0x112 <__JIT_ENTRY+0x112>
    // 6d: c1 e0 03                      shll    $0x3, %eax
    // 70: 4d 89 e9                      movq    %r13, %r9
    // 73: 49 29 c1                      subq    %rax, %r9
    // 76: 88 d1                         movb    %dl, %cl
    // 78: 48 8d 04 cd f8 ff ff ff       leaq    -0x8(,%rcx,8), %rax
    // 80: 48 8b 4f 08                   movq    0x8(%rdi), %rcx
    // 84: 49 8b 34 01                   movq    (%r9,%rax), %rsi
    // 88: 48 89 75 f8                   movq    %rsi, -0x8(%rbp)
    // 8c: 41 ff c8                      decl    %r8d
    // 8f: 45 89 46 34                   movl    %r8d, 0x34(%r14)
    // 93: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 98: 49 8b 7a 18                   movq    0x18(%r10), %rdi
    // 9c: ff d1                         callq   *%rcx
    // 9e: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // a2: 49 8b 4c 24 40                movq    0x40(%r12), %rcx
    // a7: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // b0: 41 ff 46 34                   incl    0x34(%r14)
    // b4: 8b 17                         movl    (%rdi), %edx
    // b6: 85 d2                         testl   %edx, %edx
    // b8: 78 1c                         js      0xd6 <__JIT_ENTRY+0xd6>
    // ba: ff ca                         decl    %edx
    // bc: 89 17                         movl    %edx, (%rdi)
    // be: 75 16                         jne     0xd6 <__JIT_ENTRY+0xd6>
    // c0: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // c4: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // c8: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xce <__JIT_ENTRY+0xce>
    // 00000000000000ca:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ce: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // d2: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // d6: 49 8b 7c dd 00                movq    (%r13,%rbx,8), %rdi
    // db: 8b 17                         movl    (%rdi), %edx
    // dd: 85 d2                         testl   %edx, %edx
    // df: 78 1a                         js      0xfb <__JIT_ENTRY+0xfb>
    // e1: ff ca                         decl    %edx
    // e3: 89 17                         movl    %edx, (%rdi)
    // e5: 75 14                         jne     0xfb <__JIT_ENTRY+0xfb>
    // e7: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // eb: 49 89 c5                      movq    %rax, %r13
    // ee: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xf4 <__JIT_ENTRY+0xf4>
    // 00000000000000f0:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // f4: 4c 89 e8                      movq    %r13, %rax
    // f7: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // fb: 48 85 c0                      testq   %rax, %rax
    // fe: 74 1c                         je      0x11c <__JIT_ENTRY+0x11c>
    // 100: 48 89 04 d9                   movq    %rax, (%rcx,%rbx,8)
    // 104: 4e 8d 2c f9                   leaq    (%rcx,%r15,8), %r13
    // 108: 48 83 c4 10                   addq    $0x10, %rsp
    // 10c: 5d                            popq    %rbp
    // 10d: e9 00 00 00 00                jmp     0x112 <__JIT_ENTRY+0x112>
    // 000000000000010e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 112: 48 83 c4 10                   addq    $0x10, %rsp
    // 116: 5d                            popq    %rbp
    // 117: e9 00 00 00 00                jmp     0x11c <__JIT_ENTRY+0x11c>
    // 0000000000000118:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 11c: 49 89 cd                      movq    %rcx, %r13
    // 11f: 48 83 c4 10                   addq    $0x10, %rsp
    // 123: 5d                            popq    %rbp
    // 124: e9 00 00 00 00                jmp     0x129 <__JIT_ENTRY+0x129>
    // 0000000000000125:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[297] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x4c, 0x63, 0xf9, 0x31, 0xc9,
        0x31, 0xf6, 0x4b, 0x83, 0x7c, 0xfd, 0x00, 0x00,
        0x0f, 0x94, 0xc2, 0x40, 0x0f, 0x95, 0xc6, 0x01,
        0xc6, 0x83, 0xfe, 0x01, 0x0f, 0x85, 0xe0, 0x00,
        0x00, 0x00, 0xbe, 0xfe, 0xff, 0xff, 0xff, 0x29,
        0xc6, 0x48, 0x63, 0xde, 0x4d, 0x8b, 0x54, 0xdd,
        0x00, 0x49, 0x8b, 0x7a, 0x08, 0x48, 0x3b, 0x3d,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0x85, 0xc0, 0x00,
        0x00, 0x00, 0x49, 0x8b, 0x7a, 0x10, 0x83, 0x7f,
        0x10, 0x08, 0x0f, 0x85, 0xb2, 0x00, 0x00, 0x00,
        0x45, 0x8b, 0x46, 0x34, 0x45, 0x85, 0xc0, 0x0f,
        0x8e, 0xa5, 0x00, 0x00, 0x00, 0xc1, 0xe0, 0x03,
        0x4d, 0x89, 0xe9, 0x49, 0x29, 0xc1, 0x88, 0xd1,
        0x48, 0x8d, 0x04, 0xcd, 0xf8, 0xff, 0xff, 0xff,
        0x48, 0x8b, 0x4f, 0x08, 0x49, 0x8b, 0x34, 0x01,
        0x48, 0x89, 0x75, 0xf8, 0x41, 0xff, 0xc8, 0x45,
        0x89, 0x46, 0x34, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x49, 0x8b, 0x7a, 0x18, 0xff, 0xd1, 0x48, 0x8b,
        0x7d, 0xf8, 0x49, 0x8b, 0x4c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x41, 0xff, 0x46, 0x34, 0x8b, 0x17, 0x85, 0xd2,
        0x78, 0x1c, 0xff, 0xca, 0x89, 0x17, 0x75, 0x16,
        0x48, 0x89, 0x4d, 0xf8, 0x48, 0x89, 0x45, 0xf0,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x45, 0xf0, 0x48, 0x8b, 0x4d, 0xf8, 0x49, 0x8b,
        0x7c, 0xdd, 0x00, 0x8b, 0x17, 0x85, 0xd2, 0x78,
        0x1a, 0xff, 0xca, 0x89, 0x17, 0x75, 0x14, 0x48,
        0x89, 0x4d, 0xf8, 0x49, 0x89, 0xc5, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xe8, 0x48,
        0x8b, 0x4d, 0xf8, 0x48, 0x85, 0xc0, 0x74, 0x1c,
        0x48, 0x89, 0x04, 0xd9, 0x4e, 0x8d, 0x2c, 0xf9,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0xcd, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyCFunction_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyCFunction_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x48, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xca, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xf0, (uintptr_t)data + -0x4);
    patch_32r(code + 0x10e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x118, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x125, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_INTRINSIC_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_INTRINSIC_1.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x14 <__JIT_ENTRY+0x14>
    // 0000000000000010:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 14: c1 e0 04                      shll    $0x4, %eax
    // 17: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_GOT_LOAD        __PyIntrinsics_UnaryFunctions@GOTPCREL
    // 1e: 4c 89 f7                      movq    %r14, %rdi
    // 21: 48 89 de                      movq    %rbx, %rsi
    // 24: ff 14 01                      callq   *(%rcx,%rax)
    // 27: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 35: 8b 0b                         movl    (%rbx), %ecx
    // 37: 85 c9                         testl   %ecx, %ecx
    // 39: 78 06                         js      0x41 <__JIT_ENTRY+0x41>
    // 3b: ff c9                         decl    %ecx
    // 3d: 89 0b                         movl    %ecx, (%rbx)
    // 3f: 74 0f                         je      0x50 <__JIT_ENTRY+0x50>
    // 41: 48 85 c0                      testq   %rax, %rax
    // 44: 74 1e                         je      0x64 <__JIT_ENTRY+0x64>
    // 46: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 4a: 5d                            popq    %rbp
    // 4b: e9 00 00 00 00                jmp     0x50 <__JIT_ENTRY+0x50>
    // 000000000000004c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 50: 48 89 df                      movq    %rbx, %rdi
    // 53: 48 89 c3                      movq    %rax, %rbx
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5c: 48 89 d8                      movq    %rbx, %rax
    // 5f: 48 85 c0                      testq   %rax, %rax
    // 62: 75 e2                         jne     0x46 <__JIT_ENTRY+0x46>
    // 64: 5d                            popq    %rbp
    // 65: e9 00 00 00 00                jmp     0x6a <__JIT_ENTRY+0x6a>
    // 0000000000000066:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[106] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x0f, 0xb7, 0x05,
        0x00, 0x00, 0x00, 0x00, 0xc1, 0xe0, 0x04, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xf7, 0x48, 0x89, 0xde, 0xff, 0x14, 0x01, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85,
        0xc9, 0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74,
        0x0f, 0x48, 0x85, 0xc0, 0x74, 0x1e, 0x49, 0x89,
        0x45, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xd8, 0x48,
        0x85, 0xc0, 0x75, 0xe2, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyIntrinsics_UnaryFunctions+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyIntrinsics_UnaryFunctions);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x10, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x1a, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
    patch_32r(code + 0x66, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_INTRINSIC_2(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_INTRINSIC_2.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 f7                      movq    %r14, %rdi
    // b: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // f: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 13: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 18: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x1f <__JIT_ENTRY+0x1f>
    // 000000000000001b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 1f: c1 e0 04                      shll    $0x4, %eax
    // 22: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_GOT_LOAD        __PyIntrinsics_BinaryFunctions@GOTPCREL
    // 29: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 2d: 4c 89 fe                      movq    %r15, %rsi
    // 30: 48 89 da                      movq    %rbx, %rdx
    // 33: ff 14 01                      callq   *(%rcx,%rax)
    // 36: 49 89 c6                      movq    %rax, %r14
    // 39: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 3e: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 47: 41 8b 07                      movl    (%r15), %eax
    // 4a: 85 c0                         testl   %eax, %eax
    // 4c: 78 10                         js      0x5e <__JIT_ENTRY+0x5e>
    // 4e: ff c8                         decl    %eax
    // 50: 41 89 07                      movl    %eax, (%r15)
    // 53: 75 09                         jne     0x5e <__JIT_ENTRY+0x5e>
    // 55: 4c 89 ff                      movq    %r15, %rdi
    // 58: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5e <__JIT_ENTRY+0x5e>
    // 000000000000005a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5e: 8b 03                         movl    (%rbx), %eax
    // 60: 85 c0                         testl   %eax, %eax
    // 62: 78 06                         js      0x6a <__JIT_ENTRY+0x6a>
    // 64: ff c8                         decl    %eax
    // 66: 89 03                         movl    %eax, (%rbx)
    // 68: 74 1b                         je      0x85 <__JIT_ENTRY+0x85>
    // 6a: 4d 85 f6                      testq   %r14, %r14
    // 6d: 74 24                         je      0x93 <__JIT_ENTRY+0x93>
    // 6f: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 73: 49 83 c5 f8                   addq    $-0x8, %r13
    // 77: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 7b: 48 83 c4 10                   addq    $0x10, %rsp
    // 7f: 5d                            popq    %rbp
    // 80: e9 00 00 00 00                jmp     0x85 <__JIT_ENTRY+0x85>
    // 0000000000000081:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 85: 48 89 df                      movq    %rbx, %rdi
    // 88: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8e <__JIT_ENTRY+0x8e>
    // 000000000000008a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 8e: 4d 85 f6                      testq   %r14, %r14
    // 91: 75 dc                         jne     0x6f <__JIT_ENTRY+0x6f>
    // 93: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 97: 48 83 c4 10                   addq    $0x10, %rsp
    // 9b: 5d                            popq    %rbp
    // 9c: e9 00 00 00 00                jmp     0xa1 <__JIT_ENTRY+0xa1>
    // 000000000000009d:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[161] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0xf7, 0x4d, 0x8b, 0x7d, 0xf0, 0x49,
        0x8b, 0x5d, 0xf8, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0xc1,
        0xe0, 0x04, 0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x89, 0x75, 0xf8, 0x4c, 0x89, 0xfe,
        0x48, 0x89, 0xda, 0xff, 0x14, 0x01, 0x49, 0x89,
        0xc6, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x41,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x10, 0xff, 0xc8,
        0x41, 0x89, 0x07, 0x75, 0x09, 0x4c, 0x89, 0xff,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x03,
        0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x03,
        0x74, 0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x24, 0x4d,
        0x89, 0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x85,
        0xf6, 0x75, 0xdc, 0x4c, 0x8b, 0x75, 0xf8, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyIntrinsics_BinaryFunctions+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyIntrinsics_BinaryFunctions);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1b, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x25, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x5a, (uintptr_t)data + -0x4);
    patch_32r(code + 0x81, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x8a, (uintptr_t)data + -0x4);
    patch_32r(code + 0x9d, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_ISINSTANCE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_ISINSTANCE.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 48 63 d9                      movslq  %ecx, %rbx
    // 16: 31 f6                         xorl    %esi, %esi
    // 18: 31 c9                         xorl    %ecx, %ecx
    // 1a: 49 83 7c dd 00 00             cmpq    $0x0, (%r13,%rbx,8)
    // 20: 40 0f 95 c6                   setne   %sil
    // 24: 0f 94 c2                      sete    %dl
    // 27: 01 c6                         addl    %eax, %esi
    // 29: 83 fe 02                      cmpl    $0x2, %esi
    // 2c: 75 1c                         jne     0x4a <__JIT_ENTRY+0x4a>
    // 2e: be fe ff ff ff                movl    $0xfffffffe, %esi       ## imm = 0xFFFFFFFE
    // 33: 29 c6                         subl    %eax, %esi
    // 35: 4c 63 fe                      movslq  %esi, %r15
    // 38: 49 8b 76 10                   movq    0x10(%r14), %rsi
    // 3c: 48 8b b6 d8 66 03 00          movq    0x366d8(%rsi), %rsi
    // 43: 4b 3b 74 fd 00                cmpq    (%r13,%r15,8), %rsi
    // 48: 74 0a                         je      0x54 <__JIT_ENTRY+0x54>
    // 4a: 48 83 c4 20                   addq    $0x20, %rsp
    // 4e: 5d                            popq    %rbp
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 54: c1 e0 03                      shll    $0x3, %eax
    // 57: 4c 89 ee                      movq    %r13, %rsi
    // 5a: 48 29 c6                      subq    %rax, %rsi
    // 5d: 88 d1                         movb    %dl, %cl
    // 5f: 48 8d 04 cd f8 ff ff ff       leaq    -0x8(,%rcx,8), %rax
    // 67: 48 8b 3c 06                   movq    (%rsi,%rax), %rdi
    // 6b: 48 8b 74 06 08                movq    0x8(%rsi,%rax), %rsi
    // 70: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 75: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7b <__JIT_ENTRY+0x7b>
    // 0000000000000077:  X86_64_RELOC_GOT     _PyObject_IsInstance@GOTPCREL
    // 7b: 49 8b 4c 24 40                movq    0x40(%r12), %rcx
    // 80: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 89: 85 c0                         testl   %eax, %eax
    // 8b: 0f 88 93 00 00 00             js      0x124 <__JIT_ENTRY+0x124>
    // 91: 89 45 fc                      movl    %eax, -0x4(%rbp)
    // 94: 48 89 4d f0                   movq    %rcx, -0x10(%rbp)
    // 98: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // 9d: 8b 07                         movl    (%rdi), %eax
    // 9f: 85 c0                         testl   %eax, %eax
    // a1: 78 0c                         js      0xaf <__JIT_ENTRY+0xaf>
    // a3: ff c8                         decl    %eax
    // a5: 89 07                         movl    %eax, (%rdi)
    // a7: 75 06                         jne     0xaf <__JIT_ENTRY+0xaf>
    // a9: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xaf <__JIT_ENTRY+0xaf>
    // 00000000000000ab:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // af: 4c 89 7d e8                   movq    %r15, -0x18(%rbp)
    // b3: 49 8b 7c dd 00                movq    (%r13,%rbx,8), %rdi
    // b8: 48 85 ff                      testq   %rdi, %rdi
    // bb: 74 12                         je      0xcf <__JIT_ENTRY+0xcf>
    // bd: 8b 07                         movl    (%rdi), %eax
    // bf: 85 c0                         testl   %eax, %eax
    // c1: 78 0c                         js      0xcf <__JIT_ENTRY+0xcf>
    // c3: ff c8                         decl    %eax
    // c5: 89 07                         movl    %eax, (%rdi)
    // c7: 75 06                         jne     0xcf <__JIT_ENTRY+0xcf>
    // c9: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xcf <__JIT_ENTRY+0xcf>
    // 00000000000000cb:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // cf: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xd6 <__JIT_ENTRY+0xd6>
    // 00000000000000d2:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // d6: 66 85 c0                      testw   %ax, %ax
    // d9: 74 3a                         je      0x115 <__JIT_ENTRY+0x115>
    // db: 44 0f b7 3d 00 00 00 00       movzwl  (%rip), %r15d           ## 0xe3 <__JIT_ENTRY+0xe3>
    // 00000000000000df:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // e3: 49 ff c7                      incq    %r15
    // e6: 49 83 c5 f8                   addq    $-0x8, %r13
    // ea: eb 11                         jmp     0xfd <__JIT_ENTRY+0xfd>
    // ec: 0f 1f 40 00                   nopl    (%rax)
    // f0: 49 ff cf                      decq    %r15
    // f3: 49 83 c5 f8                   addq    $-0x8, %r13
    // f7: 49 83 ff 01                   cmpq    $0x1, %r15
    // fb: 76 18                         jbe     0x115 <__JIT_ENTRY+0x115>
    // fd: 49 8b 7d 00                   movq    (%r13), %rdi
    // 101: 8b 07                         movl    (%rdi), %eax
    // 103: 85 c0                         testl   %eax, %eax
    // 105: 78 e9                         js      0xf0 <__JIT_ENTRY+0xf0>
    // 107: ff c8                         decl    %eax
    // 109: 89 07                         movl    %eax, (%rdi)
    // 10b: 75 e3                         jne     0xf0 <__JIT_ENTRY+0xf0>
    // 10d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x113 <__JIT_ENTRY+0x113>
    // 000000000000010f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 113: eb db                         jmp     0xf0 <__JIT_ENTRY+0xf0>
    // 115: 83 7d fc 00                   cmpl    $0x0, -0x4(%rbp)
    // 119: 75 16                         jne     0x131 <__JIT_ENTRY+0x131>
    // 11b: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x122 <__JIT_ENTRY+0x122>
    // 000000000000011e:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 122: eb 14                         jmp     0x138 <__JIT_ENTRY+0x138>
    // 124: 49 89 cd                      movq    %rcx, %r13
    // 127: 48 83 c4 20                   addq    $0x20, %rsp
    // 12b: 5d                            popq    %rbp
    // 12c: e9 00 00 00 00                jmp     0x131 <__JIT_ENTRY+0x131>
    // 000000000000012d:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 131: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x138 <__JIT_ENTRY+0x138>
    // 0000000000000134:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 138: 48 8b 4d e8                   movq    -0x18(%rbp), %rcx
    // 13c: 48 8b 55 f0                   movq    -0x10(%rbp), %rdx
    // 140: 48 89 04 ca                   movq    %rax, (%rdx,%rcx,8)
    // 144: 4c 8d 2c da                   leaq    (%rdx,%rbx,8), %r13
    // 148: 48 83 c4 20                   addq    $0x20, %rsp
    // 14c: 5d                            popq    %rbp
    // 14d: e9 00 00 00 00                jmp     0x152 <__JIT_ENTRY+0x152>
    // 000000000000014e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[333] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x48, 0x63, 0xd9, 0x31, 0xf6,
        0x31, 0xc9, 0x49, 0x83, 0x7c, 0xdd, 0x00, 0x00,
        0x40, 0x0f, 0x95, 0xc6, 0x0f, 0x94, 0xc2, 0x01,
        0xc6, 0x83, 0xfe, 0x02, 0x75, 0x1c, 0xbe, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc6, 0x4c, 0x63, 0xfe,
        0x49, 0x8b, 0x76, 0x10, 0x48, 0x8b, 0xb6, 0xd8,
        0x66, 0x03, 0x00, 0x4b, 0x3b, 0x74, 0xfd, 0x00,
        0x74, 0x0a, 0x48, 0x83, 0xc4, 0x20, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0xc1, 0xe0, 0x03, 0x4c,
        0x89, 0xee, 0x48, 0x29, 0xc6, 0x88, 0xd1, 0x48,
        0x8d, 0x04, 0xcd, 0xf8, 0xff, 0xff, 0xff, 0x48,
        0x8b, 0x3c, 0x06, 0x48, 0x8b, 0x74, 0x06, 0x08,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x4c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x85, 0xc0, 0x0f, 0x88, 0x93, 0x00, 0x00,
        0x00, 0x89, 0x45, 0xfc, 0x48, 0x89, 0x4d, 0xf0,
        0x4b, 0x8b, 0x7c, 0xfd, 0x00, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x0c, 0xff, 0xc8, 0x89, 0x07, 0x75,
        0x06, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0x7d, 0xe8, 0x49, 0x8b, 0x7c, 0xdd, 0x00,
        0x48, 0x85, 0xff, 0x74, 0x12, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x0c, 0xff, 0xc8, 0x89, 0x07, 0x75,
        0x06, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x66, 0x85,
        0xc0, 0x74, 0x3a, 0x44, 0x0f, 0xb7, 0x3d, 0x00,
        0x00, 0x00, 0x00, 0x49, 0xff, 0xc7, 0x49, 0x83,
        0xc5, 0xf8, 0xeb, 0x11, 0x0f, 0x1f, 0x40, 0x00,
        0x49, 0xff, 0xcf, 0x49, 0x83, 0xc5, 0xf8, 0x49,
        0x83, 0xff, 0x01, 0x76, 0x18, 0x49, 0x8b, 0x7d,
        0x00, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0xe9, 0xff,
        0xc8, 0x89, 0x07, 0x75, 0xe3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0xeb, 0xdb, 0x83, 0x7d, 0xfc,
        0x00, 0x75, 0x16, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0xeb, 0x14, 0x49, 0x89, 0xcd, 0x48,
        0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x4d, 0xe8, 0x48, 0x8b, 0x55, 0xf0,
        0x48, 0x89, 0x04, 0xca, 0x4c, 0x8d, 0x2c, 0xda,
        0x48, 0x83, 0xc4, 0x20, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    // 10: &_Py_Dealloc+0x0
    // 18: OPARG
    // 20: &PyObject_IsInstance+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x18, instruction->oparg);
    patch_64(data + 0x20, (uintptr_t)&PyObject_IsInstance);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x14);
    patch_32r(code + 0x50, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x77, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0xab, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xcb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xd2, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0xdf, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x10f, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x11e, (uintptr_t)data + 0x4);
    patch_32r(code + 0x12d, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x134, (uintptr_t)data + -0x4);
}

void
emit__CALL_KW_NON_PY(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_KW_NON_PY.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 30                   subq    $0x30, %rsp
    // 8: 4c 89 75 e8                   movq    %r14, -0x18(%rbp)
    // c: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 13: 4d 8b 75 f8                   movq    -0x8(%r13), %r14
    // 17: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 1c: 29 c1                         subl    %eax, %ecx
    // 1e: 48 63 f1                      movslq  %ecx, %rsi
    // 21: b9 fd ff ff ff                movl    $0xfffffffd, %ecx       ## imm = 0xFFFFFFFD
    // 26: 29 c1                         subl    %eax, %ecx
    // 28: 31 d2                         xorl    %edx, %edx
    // 2a: 45 31 ff                      xorl    %r15d, %r15d
    // 2d: 48 89 75 e0                   movq    %rsi, -0x20(%rbp)
    // 31: 49 83 7c f5 00 00             cmpq    $0x0, (%r13,%rsi,8)
    // 37: 0f 94 c2                      sete    %dl
    // 3a: 41 0f 95 c7                   setne   %r15b
    // 3e: 41 01 c7                      addl    %eax, %r15d
    // 41: f7 d0                         notl    %eax
    // 43: 48 98                         cltq
    // 45: 48 8d 04 c5 00 00 00 00       leaq    (,%rax,8), %rax
    // 4d: 4c 01 e8                      addq    %r13, %rax
    // 50: 48 63 c9                      movslq  %ecx, %rcx
    // 53: 48 89 4d d0                   movq    %rcx, -0x30(%rbp)
    // 57: 49 8b 7c cd 00                movq    (%r13,%rcx,8), %rdi
    // 5c: 48 8d 1c d0                   leaq    (%rax,%rdx,8), %rbx
    // 60: 48 83 c3 f8                   addq    $-0x8, %rbx
    // 64: 44 89 f8                      movl    %r15d, %eax
    // 67: 41 2b 46 10                   subl    0x10(%r14), %eax
    // 6b: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 70: 48 98                         cltq
    // 72: 48 ba 00 00 00 00 00 00 00 80 movabsq $-0x8000000000000000, %rdx ## imm = 0x8000000000000000
    // 7c: 48 09 c2                      orq     %rax, %rdx
    // 7f: 48 89 de                      movq    %rbx, %rsi
    // 82: 4c 89 f1                      movq    %r14, %rcx
    // 85: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8b <__JIT_ENTRY+0x8b>
    // 0000000000000087:  X86_64_RELOC_GOT     _PyObject_Vectorcall@GOTPCREL
    // 8b: 48 89 45 d8                   movq    %rax, -0x28(%rbp)
    // 8f: 49 8b 44 24 40                movq    0x40(%r12), %rax
    // 94: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // 98: 4c 89 65 f0                   movq    %r12, -0x10(%rbp)
    // 9c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // a5: 41 8b 06                      movl    (%r14), %eax
    // a8: 85 c0                         testl   %eax, %eax
    // aa: 78 10                         js      0xbc <__JIT_ENTRY+0xbc>
    // ac: ff c8                         decl    %eax
    // ae: 41 89 06                      movl    %eax, (%r14)
    // b1: 75 09                         jne     0xbc <__JIT_ENTRY+0xbc>
    // b3: 4c 89 f7                      movq    %r14, %rdi
    // b6: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xbc <__JIT_ENTRY+0xbc>
    // 00000000000000b8:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // bc: 45 85 ff                      testl   %r15d, %r15d
    // bf: 74 2c                         je      0xed <__JIT_ENTRY+0xed>
    // c1: 45 89 fe                      movl    %r15d, %r14d
    // c4: 45 31 ff                      xorl    %r15d, %r15d
    // c7: 4c 8b 25 00 00 00 00          movq    (%rip), %r12            ## 0xce <__JIT_ENTRY+0xce>
    // 00000000000000ca:  X86_64_RELOC_GOT_LOAD        __Py_Dealloc@GOTPCREL
    // ce: eb 08                         jmp     0xd8 <__JIT_ENTRY+0xd8>
    // d0: 49 ff c7                      incq    %r15
    // d3: 4d 39 fe                      cmpq    %r15, %r14
    // d6: 74 15                         je      0xed <__JIT_ENTRY+0xed>
    // d8: 4a 8b 3c fb                   movq    (%rbx,%r15,8), %rdi
    // dc: 8b 07                         movl    (%rdi), %eax
    // de: 85 c0                         testl   %eax, %eax
    // e0: 78 ee                         js      0xd0 <__JIT_ENTRY+0xd0>
    // e2: ff c8                         decl    %eax
    // e4: 89 07                         movl    %eax, (%rdi)
    // e6: 75 e8                         jne     0xd0 <__JIT_ENTRY+0xd0>
    // e8: 41 ff d4                      callq   *%r12
    // eb: eb e3                         jmp     0xd0 <__JIT_ENTRY+0xd0>
    // ed: 48 8b 5d d0                   movq    -0x30(%rbp), %rbx
    // f1: 49 8b 7c dd 00                movq    (%r13,%rbx,8), %rdi
    // f6: 8b 07                         movl    (%rdi), %eax
    // f8: 85 c0                         testl   %eax, %eax
    // fa: 78 06                         js      0x102 <__JIT_ENTRY+0x102>
    // fc: ff c8                         decl    %eax
    // fe: 89 07                         movl    %eax, (%rdi)
    // 100: 74 2b                         je      0x12d <__JIT_ENTRY+0x12d>
    // 102: 48 8b 45 d8                   movq    -0x28(%rbp), %rax
    // 106: 48 85 c0                      testq   %rax, %rax
    // 109: 74 31                         je      0x13c <__JIT_ENTRY+0x13c>
    // 10b: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 10f: 48 89 04 d9                   movq    %rax, (%rcx,%rbx,8)
    // 113: 48 8b 45 e0                   movq    -0x20(%rbp), %rax
    // 117: 4c 8d 2c c1                   leaq    (%rcx,%rax,8), %r13
    // 11b: 4c 8b 65 f0                   movq    -0x10(%rbp), %r12
    // 11f: 4c 8b 75 e8                   movq    -0x18(%rbp), %r14
    // 123: 48 83 c4 30                   addq    $0x30, %rsp
    // 127: 5d                            popq    %rbp
    // 128: e9 00 00 00 00                jmp     0x12d <__JIT_ENTRY+0x12d>
    // 0000000000000129:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 12d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x133 <__JIT_ENTRY+0x133>
    // 000000000000012f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 133: 48 8b 45 d8                   movq    -0x28(%rbp), %rax
    // 137: 48 85 c0                      testq   %rax, %rax
    // 13a: 75 cf                         jne     0x10b <__JIT_ENTRY+0x10b>
    // 13c: 4c 8b 65 f0                   movq    -0x10(%rbp), %r12
    // 140: 4c 8b 6d f8                   movq    -0x8(%rbp), %r13
    // 144: 4c 8b 75 e8                   movq    -0x18(%rbp), %r14
    // 148: 48 83 c4 30                   addq    $0x30, %rsp
    // 14c: 5d                            popq    %rbp
    // 14d: e9 00 00 00 00                jmp     0x152 <__JIT_ENTRY+0x152>
    // 000000000000014e:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[338] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x30,
        0x4c, 0x89, 0x75, 0xe8, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x75, 0xf8, 0xb9,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xc1, 0x48, 0x63,
        0xf1, 0xb9, 0xfd, 0xff, 0xff, 0xff, 0x29, 0xc1,
        0x31, 0xd2, 0x45, 0x31, 0xff, 0x48, 0x89, 0x75,
        0xe0, 0x49, 0x83, 0x7c, 0xf5, 0x00, 0x00, 0x0f,
        0x94, 0xc2, 0x41, 0x0f, 0x95, 0xc7, 0x41, 0x01,
        0xc7, 0xf7, 0xd0, 0x48, 0x98, 0x48, 0x8d, 0x04,
        0xc5, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x01, 0xe8,
        0x48, 0x63, 0xc9, 0x48, 0x89, 0x4d, 0xd0, 0x49,
        0x8b, 0x7c, 0xcd, 0x00, 0x48, 0x8d, 0x1c, 0xd0,
        0x48, 0x83, 0xc3, 0xf8, 0x44, 0x89, 0xf8, 0x41,
        0x2b, 0x46, 0x10, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x48, 0x98, 0x48, 0xba, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x80, 0x48, 0x09, 0xc2, 0x48,
        0x89, 0xde, 0x4c, 0x89, 0xf1, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0x45, 0xd8, 0x49,
        0x8b, 0x44, 0x24, 0x40, 0x48, 0x89, 0x45, 0xf8,
        0x4c, 0x89, 0x65, 0xf0, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x06,
        0x85, 0xc0, 0x78, 0x10, 0xff, 0xc8, 0x41, 0x89,
        0x06, 0x75, 0x09, 0x4c, 0x89, 0xf7, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x45, 0x85, 0xff, 0x74,
        0x2c, 0x45, 0x89, 0xfe, 0x45, 0x31, 0xff, 0x4c,
        0x8b, 0x25, 0x00, 0x00, 0x00, 0x00, 0xeb, 0x08,
        0x49, 0xff, 0xc7, 0x4d, 0x39, 0xfe, 0x74, 0x15,
        0x4a, 0x8b, 0x3c, 0xfb, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0xee, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xe8,
        0x41, 0xff, 0xd4, 0xeb, 0xe3, 0x48, 0x8b, 0x5d,
        0xd0, 0x49, 0x8b, 0x7c, 0xdd, 0x00, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07,
        0x74, 0x2b, 0x48, 0x8b, 0x45, 0xd8, 0x48, 0x85,
        0xc0, 0x74, 0x31, 0x48, 0x8b, 0x4d, 0xf8, 0x48,
        0x89, 0x04, 0xd9, 0x48, 0x8b, 0x45, 0xe0, 0x4c,
        0x8d, 0x2c, 0xc1, 0x4c, 0x8b, 0x65, 0xf0, 0x4c,
        0x8b, 0x75, 0xe8, 0x48, 0x83, 0xc4, 0x30, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x45, 0xd8, 0x48,
        0x85, 0xc0, 0x75, 0xcf, 0x4c, 0x8b, 0x65, 0xf0,
        0x4c, 0x8b, 0x6d, 0xf8, 0x4c, 0x8b, 0x75, 0xe8,
        0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_Vectorcall+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_Vectorcall);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x87, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xb8, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xca, (uintptr_t)data + -0x4);
    patch_32r(code + 0x129, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x12f, (uintptr_t)data + -0x4);
    patch_32r(code + 0x14e, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_LEN(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_LEN.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 48 63 d9                      movslq  %ecx, %rbx
    // 16: 31 c9                         xorl    %ecx, %ecx
    // 18: 31 f6                         xorl    %esi, %esi
    // 1a: 49 83 7c dd 00 00             cmpq    $0x0, (%r13,%rbx,8)
    // 20: 0f 94 c2                      sete    %dl
    // 23: 40 0f 95 c6                   setne   %sil
    // 27: 01 c6                         addl    %eax, %esi
    // 29: 83 fe 01                      cmpl    $0x1, %esi
    // 2c: 75 1c                         jne     0x4a <__JIT_ENTRY+0x4a>
    // 2e: be fe ff ff ff                movl    $0xfffffffe, %esi       ## imm = 0xFFFFFFFE
    // 33: 29 c6                         subl    %eax, %esi
    // 35: 4c 63 fe                      movslq  %esi, %r15
    // 38: 49 8b 76 10                   movq    0x10(%r14), %rsi
    // 3c: 48 8b b6 e0 66 03 00          movq    0x366e0(%rsi), %rsi
    // 43: 4b 3b 74 fd 00                cmpq    (%r13,%r15,8), %rsi
    // 48: 74 0a                         je      0x54 <__JIT_ENTRY+0x54>
    // 4a: 48 83 c4 10                   addq    $0x10, %rsp
    // 4e: 5d                            popq    %rbp
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 54: c1 e0 03                      shll    $0x3, %eax
    // 57: 4c 89 ee                      movq    %r13, %rsi
    // 5a: 48 29 c6                      subq    %rax, %rsi
    // 5d: 88 d1                         movb    %dl, %cl
    // 5f: 48 8d 04 cd f8 ff ff ff       leaq    -0x8(,%rcx,8), %rax
    // 67: 48 8b 3c 06                   movq    (%rsi,%rax), %rdi
    // 6b: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 70: 48 89 7d f8                   movq    %rdi, -0x8(%rbp)
    // 74: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7a <__JIT_ENTRY+0x7a>
    // 0000000000000076:  X86_64_RELOC_GOT     _PyObject_Size@GOTPCREL
    // 7a: 49 8b 4c 24 40                movq    0x40(%r12), %rcx
    // 7f: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 88: 48 85 c0                      testq   %rax, %rax
    // 8b: 78 63                         js      0xf0 <__JIT_ENTRY+0xf0>
    // 8d: 48 89 4d f0                   movq    %rcx, -0x10(%rbp)
    // 91: 48 89 c7                      movq    %rax, %rdi
    // 94: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x9a <__JIT_ENTRY+0x9a>
    // 0000000000000096:  X86_64_RELOC_GOT     _PyLong_FromSsize_t@GOTPCREL
    // 9a: 48 85 c0                      testq   %rax, %rax
    // 9d: 74 5e                         je      0xfd <__JIT_ENTRY+0xfd>
    // 9f: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // a3: 8b 0f                         movl    (%rdi), %ecx
    // a5: 85 c9                         testl   %ecx, %ecx
    // a7: 78 14                         js      0xbd <__JIT_ENTRY+0xbd>
    // a9: ff c9                         decl    %ecx
    // ab: 89 0f                         movl    %ecx, (%rdi)
    // ad: 75 0e                         jne     0xbd <__JIT_ENTRY+0xbd>
    // af: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // b3: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb9 <__JIT_ENTRY+0xb9>
    // 00000000000000b5:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b9: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // bd: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // c2: 8b 0f                         movl    (%rdi), %ecx
    // c4: 85 c9                         testl   %ecx, %ecx
    // c6: 78 12                         js      0xda <__JIT_ENTRY+0xda>
    // c8: ff c9                         decl    %ecx
    // ca: 89 0f                         movl    %ecx, (%rdi)
    // cc: 75 0c                         jne     0xda <__JIT_ENTRY+0xda>
    // ce: 49 89 c5                      movq    %rax, %r13
    // d1: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd7 <__JIT_ENTRY+0xd7>
    // 00000000000000d3:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // d7: 4c 89 e8                      movq    %r13, %rax
    // da: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // de: 4a 89 04 f9                   movq    %rax, (%rcx,%r15,8)
    // e2: 4c 8d 2c d9                   leaq    (%rcx,%rbx,8), %r13
    // e6: 48 83 c4 10                   addq    $0x10, %rsp
    // ea: 5d                            popq    %rbp
    // eb: e9 00 00 00 00                jmp     0xf0 <__JIT_ENTRY+0xf0>
    // 00000000000000ec:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // f0: 49 89 cd                      movq    %rcx, %r13
    // f3: 48 83 c4 10                   addq    $0x10, %rsp
    // f7: 5d                            popq    %rbp
    // f8: e9 00 00 00 00                jmp     0xfd <__JIT_ENTRY+0xfd>
    // 00000000000000f9:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // fd: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x104 <__JIT_ENTRY+0x104>
    // 0000000000000100:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // 104: 49 89 86 10 01 00 00          movq    %rax, 0x110(%r14)
    // 10b: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // 10f: 49 89 44 24 40                movq    %rax, 0x40(%r12)
    // 114: 31 c0                         xorl    %eax, %eax
    // 116: 48 83 c4 10                   addq    $0x10, %rsp
    // 11a: 5d                            popq    %rbp
    // 11b: c3                            retq
    const unsigned char code_body[284] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x48, 0x63, 0xd9, 0x31, 0xc9,
        0x31, 0xf6, 0x49, 0x83, 0x7c, 0xdd, 0x00, 0x00,
        0x0f, 0x94, 0xc2, 0x40, 0x0f, 0x95, 0xc6, 0x01,
        0xc6, 0x83, 0xfe, 0x01, 0x75, 0x1c, 0xbe, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc6, 0x4c, 0x63, 0xfe,
        0x49, 0x8b, 0x76, 0x10, 0x48, 0x8b, 0xb6, 0xe0,
        0x66, 0x03, 0x00, 0x4b, 0x3b, 0x74, 0xfd, 0x00,
        0x74, 0x0a, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0xc1, 0xe0, 0x03, 0x4c,
        0x89, 0xee, 0x48, 0x29, 0xc6, 0x88, 0xd1, 0x48,
        0x8d, 0x04, 0xcd, 0xf8, 0xff, 0xff, 0xff, 0x48,
        0x8b, 0x3c, 0x06, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x48, 0x89, 0x7d, 0xf8, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x8b, 0x4c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x85, 0xc0, 0x78, 0x63, 0x48, 0x89, 0x4d,
        0xf0, 0x48, 0x89, 0xc7, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x5e, 0x48,
        0x8b, 0x7d, 0xf8, 0x8b, 0x0f, 0x85, 0xc9, 0x78,
        0x14, 0xff, 0xc9, 0x89, 0x0f, 0x75, 0x0e, 0x48,
        0x89, 0x45, 0xf8, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x45, 0xf8, 0x4b, 0x8b, 0x7c,
        0xfd, 0x00, 0x8b, 0x0f, 0x85, 0xc9, 0x78, 0x12,
        0xff, 0xc9, 0x89, 0x0f, 0x75, 0x0c, 0x49, 0x89,
        0xc5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0xe8, 0x48, 0x8b, 0x4d, 0xf0, 0x4a, 0x89,
        0x04, 0xf9, 0x4c, 0x8d, 0x2c, 0xd9, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0xcd, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x86, 0x10,
        0x01, 0x00, 0x00, 0x48, 0x8b, 0x45, 0xf0, 0x49,
        0x89, 0x44, 0x24, 0x40, 0x31, 0xc0, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xc3,
    };
    // 0: EXECUTOR
    // 8: &_Py_Dealloc+0x0
    // 10: &PyLong_FromSsize_t+0x0
    // 18: &PyObject_Size+0x0
    // 20: OPARG
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)executor);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, (uintptr_t)&PyLong_FromSsize_t);
    patch_64(data + 0x18, (uintptr_t)&PyObject_Size);
    patch_64(data + 0x20, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x50, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x76, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x96, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xb5, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xd3, (uintptr_t)data + 0x4);
    patch_32r(code + 0xec, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xf9, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x100, (uintptr_t)data + -0x4);
}

void
emit__CALL_LIST_APPEND(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_LIST_APPEND.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 5d e8                   movq    -0x18(%r13), %rbx
    // 4: 49 8b 46 10                   movq    0x10(%r14), %rax
    // 8: 48 39 98 e8 66 03 00          cmpq    %rbx, 0x366e8(%rax)
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 19: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 1d: f6 80 ab 00 00 00 02          testb   $0x2, 0xab(%rax)
    // 24: 0f 84 00 00 00 00             je      0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2a: 55                            pushq   %rbp
    // 2b: 48 89 e5                      movq    %rsp, %rbp
    // 2e: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // 32: 49 8b 47 10                   movq    0x10(%r15), %rax
    // 36: 49 39 47 20                   cmpq    %rax, 0x20(%r15)
    // 3a: 7e 1a                         jle     0x56 <__JIT_ENTRY+0x56>
    // 3c: 49 8b 4f 18                   movq    0x18(%r15), %rcx
    // 40: 48 89 34 c1                   movq    %rsi, (%rcx,%rax,8)
    // 44: 48 ff c0                      incq    %rax
    // 47: 49 89 47 10                   movq    %rax, 0x10(%r15)
    // 4b: b1 01                         movb    $0x1, %cl
    // 4d: 41 8b 07                      movl    (%r15), %eax
    // 50: 85 c0                         testl   %eax, %eax
    // 52: 79 17                         jns     0x6b <__JIT_ENTRY+0x6b>
    // 54: eb 2b                         jmp     0x81 <__JIT_ENTRY+0x81>
    // 56: 4c 89 ff                      movq    %r15, %rdi
    // 59: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5f <__JIT_ENTRY+0x5f>
    // 000000000000005b:  X86_64_RELOC_GOT     __PyList_AppendTakeRefListResize@GOTPCREL
    // 5f: 85 c0                         testl   %eax, %eax
    // 61: 0f 94 c1                      sete    %cl
    // 64: 41 8b 07                      movl    (%r15), %eax
    // 67: 85 c0                         testl   %eax, %eax
    // 69: 78 16                         js      0x81 <__JIT_ENTRY+0x81>
    // 6b: ff c8                         decl    %eax
    // 6d: 41 89 07                      movl    %eax, (%r15)
    // 70: 75 0f                         jne     0x81 <__JIT_ENTRY+0x81>
    // 72: 4c 89 ff                      movq    %r15, %rdi
    // 75: 41 89 cf                      movl    %ecx, %r15d
    // 78: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7e <__JIT_ENTRY+0x7e>
    // 000000000000007a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 7e: 44 89 f9                      movl    %r15d, %ecx
    // 81: 8b 03                         movl    (%rbx), %eax
    // 83: 85 c0                         testl   %eax, %eax
    // 85: 78 13                         js      0x9a <__JIT_ENTRY+0x9a>
    // 87: ff c8                         decl    %eax
    // 89: 89 03                         movl    %eax, (%rbx)
    // 8b: 75 0d                         jne     0x9a <__JIT_ENTRY+0x9a>
    // 8d: 48 89 df                      movq    %rbx, %rdi
    // 90: 89 cb                         movl    %ecx, %ebx
    // 92: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x98 <__JIT_ENTRY+0x98>
    // 0000000000000094:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 98: 89 d9                         movl    %ebx, %ecx
    // 9a: 84 c9                         testb   %cl, %cl
    // 9c: 5d                            popq    %rbp
    // 9d: 0f 84 00 00 00 00             je      0xa3 <__JIT_ENTRY+0xa3>
    // 000000000000009f:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // a3: 49 83 c5 e8                   addq    $-0x18, %r13
    // a7: e9 00 00 00 00                jmp     0xac <__JIT_ENTRY+0xac>
    // 00000000000000a8:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[167] = {
        0x49, 0x8b, 0x5d, 0xe8, 0x49, 0x8b, 0x46, 0x10,
        0x48, 0x39, 0x98, 0xe8, 0x66, 0x03, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x7d,
        0xf0, 0x49, 0x8b, 0x47, 0x08, 0xf6, 0x80, 0xab,
        0x00, 0x00, 0x00, 0x02, 0x0f, 0x84, 0x00, 0x00,
        0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b,
        0x75, 0xf8, 0x49, 0x8b, 0x47, 0x10, 0x49, 0x39,
        0x47, 0x20, 0x7e, 0x1a, 0x49, 0x8b, 0x4f, 0x18,
        0x48, 0x89, 0x34, 0xc1, 0x48, 0xff, 0xc0, 0x49,
        0x89, 0x47, 0x10, 0xb1, 0x01, 0x41, 0x8b, 0x07,
        0x85, 0xc0, 0x79, 0x17, 0xeb, 0x2b, 0x4c, 0x89,
        0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x85,
        0xc0, 0x0f, 0x94, 0xc1, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x16, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x75, 0x0f, 0x4c, 0x89, 0xff, 0x41, 0x89, 0xcf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x44, 0x89,
        0xf9, 0x8b, 0x03, 0x85, 0xc0, 0x78, 0x13, 0xff,
        0xc8, 0x89, 0x03, 0x75, 0x0d, 0x48, 0x89, 0xdf,
        0x89, 0xcb, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x89, 0xd9, 0x84, 0xc9, 0x5d, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x83, 0xc5, 0xe8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyList_AppendTakeRefListResize+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyList_AppendTakeRefListResize);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x26, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x5b, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x7a, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x94, (uintptr_t)data + -0x4);
    patch_32r(code + 0x9f, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_METHOD_DESCRIPTOR_FAST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_METHOD_DESCRIPTOR_FAST.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 30                   subq    $0x30, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 4c 63 d1                      movslq  %ecx, %r10
    // 16: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 1b: 29 c1                         subl    %eax, %ecx
    // 1d: 4c 63 d9                      movslq  %ecx, %r11
    // 20: 4b 8b 54 dd 00                movq    (%r13,%r11,8), %rdx
    // 25: 31 ff                         xorl    %edi, %edi
    // 27: 45 31 ff                      xorl    %r15d, %r15d
    // 2a: 4b 83 7c d5 00 00             cmpq    $0x0, (%r13,%r10,8)
    // 30: 0f 94 c3                      sete    %bl
    // 33: 40 0f 95 c6                   setne   %sil
    // 37: 48 8b 4a 08                   movq    0x8(%rdx), %rcx
    // 3b: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x42 <__JIT_ENTRY+0x42>
    // 000000000000003e:  X86_64_RELOC_GOT     _PyMethodDescr_Type@GOTPCREL
    // 42: 75 33                         jne     0x77 <__JIT_ENTRY+0x77>
    // 44: 48 8b 4a 28                   movq    0x28(%rdx), %rcx
    // 48: 81 79 10 80 00 00 00          cmpl    $0x80, 0x10(%rcx)
    // 4f: 75 26                         jne     0x77 <__JIT_ENTRY+0x77>
    // 51: 44 8d 04 c5 00 00 00 00       leal    (,%rax,8), %r8d
    // 59: 4d 89 e9                      movq    %r13, %r9
    // 5c: 4d 29 c1                      subq    %r8, %r9
    // 5f: 40 88 df                      movb    %bl, %dil
    // 62: 49 8d 1c f9                   leaq    (%r9,%rdi,8), %rbx
    // 66: 48 83 c3 f8                   addq    $-0x8, %rbx
    // 6a: 48 8b 3b                      movq    (%rbx), %rdi
    // 6d: 4c 8b 47 08                   movq    0x8(%rdi), %r8
    // 71: 4c 3b 42 10                   cmpq    0x10(%rdx), %r8
    // 75: 74 0a                         je      0x81 <__JIT_ENTRY+0x81>
    // 77: 48 83 c4 30                   addq    $0x30, %rsp
    // 7b: 5d                            popq    %rbp
    // 7c: e9 00 00 00 00                jmp     0x81 <__JIT_ENTRY+0x81>
    // 000000000000007d:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 81: 4c 89 75 d0                   movq    %r14, -0x30(%rbp)
    // 85: 41 88 f7                      movb    %sil, %r15b
    // 88: 41 01 c7                      addl    %eax, %r15d
    // 8b: 41 8d 47 ff                   leal    -0x1(%r15), %eax
    // 8f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 94: 48 8d 73 08                   leaq    0x8(%rbx), %rsi
    // 98: 48 63 d0                      movslq  %eax, %rdx
    // 9b: 4c 89 65 e8                   movq    %r12, -0x18(%rbp)
    // 9f: 4c 89 55 f0                   movq    %r10, -0x10(%rbp)
    // a3: 4c 89 5d f8                   movq    %r11, -0x8(%rbp)
    // a7: ff 51 08                      callq   *0x8(%rcx)
    // aa: 48 8b 55 f8                   movq    -0x8(%rbp), %rdx
    // ae: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // b2: 4c 8b 65 e8                   movq    -0x18(%rbp), %r12
    // b6: 48 89 45 d8                   movq    %rax, -0x28(%rbp)
    // ba: 49 8b 44 24 40                movq    0x40(%r12), %rax
    // bf: 48 89 45 e0                   movq    %rax, -0x20(%rbp)
    // c3: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // cc: 41 83 ff 01                   cmpl    $0x1, %r15d
    // d0: 73 46                         jae     0x118 <__JIT_ENTRY+0x118>
    // d2: 49 8b 7c d5 00                movq    (%r13,%rdx,8), %rdi
    // d7: 8b 07                         movl    (%rdi), %eax
    // d9: 85 c0                         testl   %eax, %eax
    // db: 78 18                         js      0xf5 <__JIT_ENTRY+0xf5>
    // dd: ff c8                         decl    %eax
    // df: 89 07                         movl    %eax, (%rdi)
    // e1: 75 12                         jne     0xf5 <__JIT_ENTRY+0xf5>
    // e3: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xe9 <__JIT_ENTRY+0xe9>
    // 00000000000000e5:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // e9: 48 8b 55 f8                   movq    -0x8(%rbp), %rdx
    // ed: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // f1: 4c 8b 65 e8                   movq    -0x18(%rbp), %r12
    // f5: 48 8b 75 d8                   movq    -0x28(%rbp), %rsi
    // f9: 48 85 f6                      testq   %rsi, %rsi
    // fc: 4c 8b 75 d0                   movq    -0x30(%rbp), %r14
    // 100: 74 4a                         je      0x14c <__JIT_ENTRY+0x14c>
    // 102: 48 8b 45 e0                   movq    -0x20(%rbp), %rax
    // 106: 48 89 34 d0                   movq    %rsi, (%rax,%rdx,8)
    // 10a: 4c 8d 2c c8                   leaq    (%rax,%rcx,8), %r13
    // 10e: 48 83 c4 30                   addq    $0x30, %rsp
    // 112: 5d                            popq    %rbp
    // 113: e9 00 00 00 00                jmp     0x118 <__JIT_ENTRY+0x118>
    // 0000000000000114:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 118: 45 89 fe                      movl    %r15d, %r14d
    // 11b: 45 31 ff                      xorl    %r15d, %r15d
    // 11e: eb 08                         jmp     0x128 <__JIT_ENTRY+0x128>
    // 120: 49 ff c7                      incq    %r15
    // 123: 4d 39 fe                      cmpq    %r15, %r14
    // 126: 74 aa                         je      0xd2 <__JIT_ENTRY+0xd2>
    // 128: 4a 8b 3c fb                   movq    (%rbx,%r15,8), %rdi
    // 12c: 8b 07                         movl    (%rdi), %eax
    // 12e: 85 c0                         testl   %eax, %eax
    // 130: 78 ee                         js      0x120 <__JIT_ENTRY+0x120>
    // 132: ff c8                         decl    %eax
    // 134: 89 07                         movl    %eax, (%rdi)
    // 136: 75 e8                         jne     0x120 <__JIT_ENTRY+0x120>
    // 138: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x13e <__JIT_ENTRY+0x13e>
    // 000000000000013a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 13e: 48 8b 55 f8                   movq    -0x8(%rbp), %rdx
    // 142: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // 146: 4c 8b 65 e8                   movq    -0x18(%rbp), %r12
    // 14a: eb d4                         jmp     0x120 <__JIT_ENTRY+0x120>
    // 14c: 4c 8b 6d e0                   movq    -0x20(%rbp), %r13
    // 150: 48 83 c4 30                   addq    $0x30, %rsp
    // 154: 5d                            popq    %rbp
    // 155: e9 00 00 00 00                jmp     0x15a <__JIT_ENTRY+0x15a>
    // 0000000000000156:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[346] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x30,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x4c, 0x63, 0xd1, 0xb9, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc1, 0x4c, 0x63, 0xd9,
        0x4b, 0x8b, 0x54, 0xdd, 0x00, 0x31, 0xff, 0x45,
        0x31, 0xff, 0x4b, 0x83, 0x7c, 0xd5, 0x00, 0x00,
        0x0f, 0x94, 0xc3, 0x40, 0x0f, 0x95, 0xc6, 0x48,
        0x8b, 0x4a, 0x08, 0x48, 0x3b, 0x0d, 0x00, 0x00,
        0x00, 0x00, 0x75, 0x33, 0x48, 0x8b, 0x4a, 0x28,
        0x81, 0x79, 0x10, 0x80, 0x00, 0x00, 0x00, 0x75,
        0x26, 0x44, 0x8d, 0x04, 0xc5, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x89, 0xe9, 0x4d, 0x29, 0xc1, 0x40,
        0x88, 0xdf, 0x49, 0x8d, 0x1c, 0xf9, 0x48, 0x83,
        0xc3, 0xf8, 0x48, 0x8b, 0x3b, 0x4c, 0x8b, 0x47,
        0x08, 0x4c, 0x3b, 0x42, 0x10, 0x74, 0x0a, 0x48,
        0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x89, 0x75, 0xd0, 0x41, 0x88, 0xf7,
        0x41, 0x01, 0xc7, 0x41, 0x8d, 0x47, 0xff, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x8d, 0x73, 0x08,
        0x48, 0x63, 0xd0, 0x4c, 0x89, 0x65, 0xe8, 0x4c,
        0x89, 0x55, 0xf0, 0x4c, 0x89, 0x5d, 0xf8, 0xff,
        0x51, 0x08, 0x48, 0x8b, 0x55, 0xf8, 0x48, 0x8b,
        0x4d, 0xf0, 0x4c, 0x8b, 0x65, 0xe8, 0x48, 0x89,
        0x45, 0xd8, 0x49, 0x8b, 0x44, 0x24, 0x40, 0x48,
        0x89, 0x45, 0xe0, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x83, 0xff, 0x01,
        0x73, 0x46, 0x49, 0x8b, 0x7c, 0xd5, 0x00, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x18, 0xff, 0xc8, 0x89,
        0x07, 0x75, 0x12, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x55, 0xf8, 0x48, 0x8b, 0x4d,
        0xf0, 0x4c, 0x8b, 0x65, 0xe8, 0x48, 0x8b, 0x75,
        0xd8, 0x48, 0x85, 0xf6, 0x4c, 0x8b, 0x75, 0xd0,
        0x74, 0x4a, 0x48, 0x8b, 0x45, 0xe0, 0x48, 0x89,
        0x34, 0xd0, 0x4c, 0x8d, 0x2c, 0xc8, 0x48, 0x83,
        0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x45, 0x89, 0xfe, 0x45, 0x31, 0xff, 0xeb, 0x08,
        0x49, 0xff, 0xc7, 0x4d, 0x39, 0xfe, 0x74, 0xaa,
        0x4a, 0x8b, 0x3c, 0xfb, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0xee, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xe8,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x55, 0xf8, 0x48, 0x8b, 0x4d, 0xf0, 0x4c, 0x8b,
        0x65, 0xe8, 0xeb, 0xd4, 0x4c, 0x8b, 0x6d, 0xe0,
        0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyMethodDescr_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyMethodDescr_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x3e, (uintptr_t)data + 0x4);
    patch_32r(code + 0x7d, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0xe5, (uintptr_t)data + -0x4);
    patch_32r(code + 0x114, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x13a, (uintptr_t)data + -0x4);
    patch_32r(code + 0x156, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_METHOD_DESCRIPTOR_FAST_WITH_KEYWORDS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_METHOD_DESCRIPTOR_FAST_WITH_KEYWORDS.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 30                   subq    $0x30, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 4c 63 d1                      movslq  %ecx, %r10
    // 16: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 1b: 29 c1                         subl    %eax, %ecx
    // 1d: 4c 63 d9                      movslq  %ecx, %r11
    // 20: 4b 8b 4c dd 00                movq    (%r13,%r11,8), %rcx
    // 25: 31 f6                         xorl    %esi, %esi
    // 27: 45 31 ff                      xorl    %r15d, %r15d
    // 2a: 4b 83 7c d5 00 00             cmpq    $0x0, (%r13,%r10,8)
    // 30: 0f 94 c3                      sete    %bl
    // 33: 0f 95 c2                      setne   %dl
    // 36: 48 8b 79 08                   movq    0x8(%rcx), %rdi
    // 3a: 48 3b 3d 00 00 00 00          cmpq    (%rip), %rdi            ## 0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_GOT     _PyMethodDescr_Type@GOTPCREL
    // 41: 75 33                         jne     0x76 <__JIT_ENTRY+0x76>
    // 43: 4c 8b 41 28                   movq    0x28(%rcx), %r8
    // 47: 41 81 78 10 82 00 00 00       cmpl    $0x82, 0x10(%r8)
    // 4f: 75 25                         jne     0x76 <__JIT_ENTRY+0x76>
    // 51: 8d 3c c5 00 00 00 00          leal    (,%rax,8), %edi
    // 58: 4d 89 e9                      movq    %r13, %r9
    // 5b: 49 29 f9                      subq    %rdi, %r9
    // 5e: 40 88 de                      movb    %bl, %sil
    // 61: 49 8d 1c f1                   leaq    (%r9,%rsi,8), %rbx
    // 65: 48 83 c3 f8                   addq    $-0x8, %rbx
    // 69: 48 8b 3b                      movq    (%rbx), %rdi
    // 6c: 48 8b 77 08                   movq    0x8(%rdi), %rsi
    // 70: 48 3b 71 10                   cmpq    0x10(%rcx), %rsi
    // 74: 74 0a                         je      0x80 <__JIT_ENTRY+0x80>
    // 76: 48 83 c4 30                   addq    $0x30, %rsp
    // 7a: 5d                            popq    %rbp
    // 7b: e9 00 00 00 00                jmp     0x80 <__JIT_ENTRY+0x80>
    // 000000000000007c:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 80: 4c 89 75 d0                   movq    %r14, -0x30(%rbp)
    // 84: 41 88 d7                      movb    %dl, %r15b
    // 87: 41 01 c7                      addl    %eax, %r15d
    // 8a: 41 8d 47 ff                   leal    -0x1(%r15), %eax
    // 8e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 93: 48 8d 73 08                   leaq    0x8(%rbx), %rsi
    // 97: 48 63 d0                      movslq  %eax, %rdx
    // 9a: 31 c9                         xorl    %ecx, %ecx
    // 9c: 4c 89 65 e8                   movq    %r12, -0x18(%rbp)
    // a0: 4c 89 55 f0                   movq    %r10, -0x10(%rbp)
    // a4: 4c 89 5d f8                   movq    %r11, -0x8(%rbp)
    // a8: 41 ff 50 08                   callq   *0x8(%r8)
    // ac: 48 8b 55 f8                   movq    -0x8(%rbp), %rdx
    // b0: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // b4: 4c 8b 65 e8                   movq    -0x18(%rbp), %r12
    // b8: 48 89 45 d8                   movq    %rax, -0x28(%rbp)
    // bc: 49 8b 44 24 40                movq    0x40(%r12), %rax
    // c1: 48 89 45 e0                   movq    %rax, -0x20(%rbp)
    // c5: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // ce: 41 83 ff 01                   cmpl    $0x1, %r15d
    // d2: 73 46                         jae     0x11a <__JIT_ENTRY+0x11a>
    // d4: 49 8b 7c d5 00                movq    (%r13,%rdx,8), %rdi
    // d9: 8b 07                         movl    (%rdi), %eax
    // db: 85 c0                         testl   %eax, %eax
    // dd: 78 18                         js      0xf7 <__JIT_ENTRY+0xf7>
    // df: ff c8                         decl    %eax
    // e1: 89 07                         movl    %eax, (%rdi)
    // e3: 75 12                         jne     0xf7 <__JIT_ENTRY+0xf7>
    // e5: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xeb <__JIT_ENTRY+0xeb>
    // 00000000000000e7:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // eb: 48 8b 55 f8                   movq    -0x8(%rbp), %rdx
    // ef: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // f3: 4c 8b 65 e8                   movq    -0x18(%rbp), %r12
    // f7: 48 8b 75 d8                   movq    -0x28(%rbp), %rsi
    // fb: 48 85 f6                      testq   %rsi, %rsi
    // fe: 4c 8b 75 d0                   movq    -0x30(%rbp), %r14
    // 102: 74 58                         je      0x15c <__JIT_ENTRY+0x15c>
    // 104: 48 8b 45 e0                   movq    -0x20(%rbp), %rax
    // 108: 48 89 34 d0                   movq    %rsi, (%rax,%rdx,8)
    // 10c: 4c 8d 2c c8                   leaq    (%rax,%rcx,8), %r13
    // 110: 48 83 c4 30                   addq    $0x30, %rsp
    // 114: 5d                            popq    %rbp
    // 115: e9 00 00 00 00                jmp     0x11a <__JIT_ENTRY+0x11a>
    // 0000000000000116:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 11a: 45 89 fe                      movl    %r15d, %r14d
    // 11d: 45 31 ff                      xorl    %r15d, %r15d
    // 120: eb 16                         jmp     0x138 <__JIT_ENTRY+0x138>
    // 122: 66 66 66 66 66 2e 0f 1f 84 00 00 00 00 00     nopw    %cs:(%rax,%rax)
    // 130: 49 ff c7                      incq    %r15
    // 133: 4d 39 fe                      cmpq    %r15, %r14
    // 136: 74 9c                         je      0xd4 <__JIT_ENTRY+0xd4>
    // 138: 4a 8b 3c fb                   movq    (%rbx,%r15,8), %rdi
    // 13c: 8b 07                         movl    (%rdi), %eax
    // 13e: 85 c0                         testl   %eax, %eax
    // 140: 78 ee                         js      0x130 <__JIT_ENTRY+0x130>
    // 142: ff c8                         decl    %eax
    // 144: 89 07                         movl    %eax, (%rdi)
    // 146: 75 e8                         jne     0x130 <__JIT_ENTRY+0x130>
    // 148: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x14e <__JIT_ENTRY+0x14e>
    // 000000000000014a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 14e: 48 8b 55 f8                   movq    -0x8(%rbp), %rdx
    // 152: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // 156: 4c 8b 65 e8                   movq    -0x18(%rbp), %r12
    // 15a: eb d4                         jmp     0x130 <__JIT_ENTRY+0x130>
    // 15c: 4c 8b 6d e0                   movq    -0x20(%rbp), %r13
    // 160: 48 83 c4 30                   addq    $0x30, %rsp
    // 164: 5d                            popq    %rbp
    // 165: e9 00 00 00 00                jmp     0x16a <__JIT_ENTRY+0x16a>
    // 0000000000000166:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[362] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x30,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x4c, 0x63, 0xd1, 0xb9, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc1, 0x4c, 0x63, 0xd9,
        0x4b, 0x8b, 0x4c, 0xdd, 0x00, 0x31, 0xf6, 0x45,
        0x31, 0xff, 0x4b, 0x83, 0x7c, 0xd5, 0x00, 0x00,
        0x0f, 0x94, 0xc3, 0x0f, 0x95, 0xc2, 0x48, 0x8b,
        0x79, 0x08, 0x48, 0x3b, 0x3d, 0x00, 0x00, 0x00,
        0x00, 0x75, 0x33, 0x4c, 0x8b, 0x41, 0x28, 0x41,
        0x81, 0x78, 0x10, 0x82, 0x00, 0x00, 0x00, 0x75,
        0x25, 0x8d, 0x3c, 0xc5, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x89, 0xe9, 0x49, 0x29, 0xf9, 0x40, 0x88,
        0xde, 0x49, 0x8d, 0x1c, 0xf1, 0x48, 0x83, 0xc3,
        0xf8, 0x48, 0x8b, 0x3b, 0x48, 0x8b, 0x77, 0x08,
        0x48, 0x3b, 0x71, 0x10, 0x74, 0x0a, 0x48, 0x83,
        0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0x75, 0xd0, 0x41, 0x88, 0xd7, 0x41,
        0x01, 0xc7, 0x41, 0x8d, 0x47, 0xff, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x8d, 0x73, 0x08, 0x48,
        0x63, 0xd0, 0x31, 0xc9, 0x4c, 0x89, 0x65, 0xe8,
        0x4c, 0x89, 0x55, 0xf0, 0x4c, 0x89, 0x5d, 0xf8,
        0x41, 0xff, 0x50, 0x08, 0x48, 0x8b, 0x55, 0xf8,
        0x48, 0x8b, 0x4d, 0xf0, 0x4c, 0x8b, 0x65, 0xe8,
        0x48, 0x89, 0x45, 0xd8, 0x49, 0x8b, 0x44, 0x24,
        0x40, 0x48, 0x89, 0x45, 0xe0, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0x83,
        0xff, 0x01, 0x73, 0x46, 0x49, 0x8b, 0x7c, 0xd5,
        0x00, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x18, 0xff,
        0xc8, 0x89, 0x07, 0x75, 0x12, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x55, 0xf8, 0x48,
        0x8b, 0x4d, 0xf0, 0x4c, 0x8b, 0x65, 0xe8, 0x48,
        0x8b, 0x75, 0xd8, 0x48, 0x85, 0xf6, 0x4c, 0x8b,
        0x75, 0xd0, 0x74, 0x58, 0x48, 0x8b, 0x45, 0xe0,
        0x48, 0x89, 0x34, 0xd0, 0x4c, 0x8d, 0x2c, 0xc8,
        0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x45, 0x89, 0xfe, 0x45, 0x31, 0xff,
        0xeb, 0x16, 0x66, 0x66, 0x66, 0x66, 0x66, 0x2e,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x49, 0xff, 0xc7, 0x4d, 0x39, 0xfe, 0x74, 0x9c,
        0x4a, 0x8b, 0x3c, 0xfb, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0xee, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xe8,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x55, 0xf8, 0x48, 0x8b, 0x4d, 0xf0, 0x4c, 0x8b,
        0x65, 0xe8, 0xeb, 0xd4, 0x4c, 0x8b, 0x6d, 0xe0,
        0x48, 0x83, 0xc4, 0x30, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyMethodDescr_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyMethodDescr_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x3d, (uintptr_t)data + 0x4);
    patch_32r(code + 0x7c, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0xe7, (uintptr_t)data + -0x4);
    patch_32r(code + 0x116, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x14a, (uintptr_t)data + -0x4);
    patch_32r(code + 0x166, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_METHOD_DESCRIPTOR_NOARGS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_METHOD_DESCRIPTOR_NOARGS.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 48 63 d9                      movslq  %ecx, %rbx
    // 16: 31 c9                         xorl    %ecx, %ecx
    // 18: 31 f6                         xorl    %esi, %esi
    // 1a: 49 83 7c dd 00 00             cmpq    $0x0, (%r13,%rbx,8)
    // 20: 0f 94 c2                      sete    %dl
    // 23: 40 0f 95 c6                   setne   %sil
    // 27: 01 c6                         addl    %eax, %esi
    // 29: 83 fe 01                      cmpl    $0x1, %esi
    // 2c: 0f 85 ee 00 00 00             jne     0x120 <__JIT_ENTRY+0x120>
    // 32: be fe ff ff ff                movl    $0xfffffffe, %esi       ## imm = 0xFFFFFFFE
    // 37: 29 c6                         subl    %eax, %esi
    // 39: 4c 63 fe                      movslq  %esi, %r15
    // 3c: 4b 8b 74 fd 00                movq    (%r13,%r15,8), %rsi
    // 41: 48 8b 7e 08                   movq    0x8(%rsi), %rdi
    // 45: 48 3b 3d 00 00 00 00          cmpq    (%rip), %rdi            ## 0x4c <__JIT_ENTRY+0x4c>
    // 0000000000000048:  X86_64_RELOC_GOT     _PyMethodDescr_Type@GOTPCREL
    // 4c: 0f 85 ce 00 00 00             jne     0x120 <__JIT_ENTRY+0x120>
    // 52: c1 e0 03                      shll    $0x3, %eax
    // 55: 4c 89 ef                      movq    %r13, %rdi
    // 58: 48 29 c7                      subq    %rax, %rdi
    // 5b: 88 d1                         movb    %dl, %cl
    // 5d: 48 8d 04 cd f8 ff ff ff       leaq    -0x8(,%rcx,8), %rax
    // 65: 48 8b 14 07                   movq    (%rdi,%rax), %rdx
    // 69: 48 8b 42 08                   movq    0x8(%rdx), %rax
    // 6d: 48 3b 46 10                   cmpq    0x10(%rsi), %rax
    // 71: 0f 85 a9 00 00 00             jne     0x120 <__JIT_ENTRY+0x120>
    // 77: 48 8b 46 28                   movq    0x28(%rsi), %rax
    // 7b: 83 78 10 04                   cmpl    $0x4, 0x10(%rax)
    // 7f: 0f 85 9b 00 00 00             jne     0x120 <__JIT_ENTRY+0x120>
    // 85: 41 8b 4e 34                   movl    0x34(%r14), %ecx
    // 89: 85 c9                         testl   %ecx, %ecx
    // 8b: 0f 8e 8f 00 00 00             jle     0x120 <__JIT_ENTRY+0x120>
    // 91: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 95: ff c9                         decl    %ecx
    // 97: 41 89 4e 34                   movl    %ecx, 0x34(%r14)
    // 9b: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // a0: 48 89 55 f8                   movq    %rdx, -0x8(%rbp)
    // a4: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // a8: 31 f6                         xorl    %esi, %esi
    // aa: ff d0                         callq   *%rax
    // ac: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // b0: 49 8b 4c 24 40                movq    0x40(%r12), %rcx
    // b5: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // be: 41 ff 46 34                   incl    0x34(%r14)
    // c2: 8b 17                         movl    (%rdi), %edx
    // c4: 85 d2                         testl   %edx, %edx
    // c6: 78 1c                         js      0xe4 <__JIT_ENTRY+0xe4>
    // c8: ff ca                         decl    %edx
    // ca: 89 17                         movl    %edx, (%rdi)
    // cc: 75 16                         jne     0xe4 <__JIT_ENTRY+0xe4>
    // ce: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // d2: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // d6: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xdc <__JIT_ENTRY+0xdc>
    // 00000000000000d8:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // dc: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // e0: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // e4: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // e9: 8b 17                         movl    (%rdi), %edx
    // eb: 85 d2                         testl   %edx, %edx
    // ed: 78 1a                         js      0x109 <__JIT_ENTRY+0x109>
    // ef: ff ca                         decl    %edx
    // f1: 89 17                         movl    %edx, (%rdi)
    // f3: 75 14                         jne     0x109 <__JIT_ENTRY+0x109>
    // f5: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // f9: 49 89 c5                      movq    %rax, %r13
    // fc: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x102 <__JIT_ENTRY+0x102>
    // 00000000000000fe:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 102: 4c 89 e8                      movq    %r13, %rax
    // 105: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 109: 48 85 c0                      testq   %rax, %rax
    // 10c: 74 1c                         je      0x12a <__JIT_ENTRY+0x12a>
    // 10e: 4a 89 04 f9                   movq    %rax, (%rcx,%r15,8)
    // 112: 4c 8d 2c d9                   leaq    (%rcx,%rbx,8), %r13
    // 116: 48 83 c4 10                   addq    $0x10, %rsp
    // 11a: 5d                            popq    %rbp
    // 11b: e9 00 00 00 00                jmp     0x120 <__JIT_ENTRY+0x120>
    // 000000000000011c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 120: 48 83 c4 10                   addq    $0x10, %rsp
    // 124: 5d                            popq    %rbp
    // 125: e9 00 00 00 00                jmp     0x12a <__JIT_ENTRY+0x12a>
    // 0000000000000126:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 12a: 49 89 cd                      movq    %rcx, %r13
    // 12d: 48 83 c4 10                   addq    $0x10, %rsp
    // 131: 5d                            popq    %rbp
    // 132: e9 00 00 00 00                jmp     0x137 <__JIT_ENTRY+0x137>
    // 0000000000000133:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[311] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x48, 0x63, 0xd9, 0x31, 0xc9,
        0x31, 0xf6, 0x49, 0x83, 0x7c, 0xdd, 0x00, 0x00,
        0x0f, 0x94, 0xc2, 0x40, 0x0f, 0x95, 0xc6, 0x01,
        0xc6, 0x83, 0xfe, 0x01, 0x0f, 0x85, 0xee, 0x00,
        0x00, 0x00, 0xbe, 0xfe, 0xff, 0xff, 0xff, 0x29,
        0xc6, 0x4c, 0x63, 0xfe, 0x4b, 0x8b, 0x74, 0xfd,
        0x00, 0x48, 0x8b, 0x7e, 0x08, 0x48, 0x3b, 0x3d,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0x85, 0xce, 0x00,
        0x00, 0x00, 0xc1, 0xe0, 0x03, 0x4c, 0x89, 0xef,
        0x48, 0x29, 0xc7, 0x88, 0xd1, 0x48, 0x8d, 0x04,
        0xcd, 0xf8, 0xff, 0xff, 0xff, 0x48, 0x8b, 0x14,
        0x07, 0x48, 0x8b, 0x42, 0x08, 0x48, 0x3b, 0x46,
        0x10, 0x0f, 0x85, 0xa9, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x46, 0x28, 0x83, 0x78, 0x10, 0x04, 0x0f,
        0x85, 0x9b, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x4e,
        0x34, 0x85, 0xc9, 0x0f, 0x8e, 0x8f, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x40, 0x08, 0xff, 0xc9, 0x41,
        0x89, 0x4e, 0x34, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x48, 0x89, 0x55, 0xf8, 0x48, 0x8b, 0x7d, 0xf8,
        0x31, 0xf6, 0xff, 0xd0, 0x48, 0x8b, 0x7d, 0xf8,
        0x49, 0x8b, 0x4c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0xff,
        0x46, 0x34, 0x8b, 0x17, 0x85, 0xd2, 0x78, 0x1c,
        0xff, 0xca, 0x89, 0x17, 0x75, 0x16, 0x48, 0x89,
        0x4d, 0xf8, 0x48, 0x89, 0x45, 0xf0, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x4d, 0xf8, 0x4b, 0x8b, 0x7c, 0xfd,
        0x00, 0x8b, 0x17, 0x85, 0xd2, 0x78, 0x1a, 0xff,
        0xca, 0x89, 0x17, 0x75, 0x14, 0x48, 0x89, 0x4d,
        0xf8, 0x49, 0x89, 0xc5, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4c, 0x89, 0xe8, 0x48, 0x8b, 0x4d,
        0xf8, 0x48, 0x85, 0xc0, 0x74, 0x1c, 0x4a, 0x89,
        0x04, 0xf9, 0x4c, 0x8d, 0x2c, 0xd9, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x89, 0xcd, 0x48, 0x83, 0xc4,
        0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyMethodDescr_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyMethodDescr_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x48, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xd8, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xfe, (uintptr_t)data + -0x4);
    patch_32r(code + 0x11c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x126, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x133, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_METHOD_DESCRIPTOR_O(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_METHOD_DESCRIPTOR_O.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 48 63 d9                      movslq  %ecx, %rbx
    // 16: 31 c9                         xorl    %ecx, %ecx
    // 18: 31 f6                         xorl    %esi, %esi
    // 1a: 49 83 7c dd 00 00             cmpq    $0x0, (%r13,%rbx,8)
    // 20: 0f 94 c2                      sete    %dl
    // 23: 40 0f 95 c6                   setne   %sil
    // 27: 01 c6                         addl    %eax, %esi
    // 29: 83 fe 02                      cmpl    $0x2, %esi
    // 2c: 75 51                         jne     0x7f <__JIT_ENTRY+0x7f>
    // 2e: be fe ff ff ff                movl    $0xfffffffe, %esi       ## imm = 0xFFFFFFFE
    // 33: 29 c6                         subl    %eax, %esi
    // 35: 4c 63 fe                      movslq  %esi, %r15
    // 38: 4b 8b 74 fd 00                movq    (%r13,%r15,8), %rsi
    // 3d: 48 8b 7e 08                   movq    0x8(%rsi), %rdi
    // 41: 48 3b 3d 00 00 00 00          cmpq    (%rip), %rdi            ## 0x48 <__JIT_ENTRY+0x48>
    // 0000000000000044:  X86_64_RELOC_GOT     _PyMethodDescr_Type@GOTPCREL
    // 48: 75 35                         jne     0x7f <__JIT_ENTRY+0x7f>
    // 4a: 4c 8b 56 28                   movq    0x28(%rsi), %r10
    // 4e: 41 83 7a 10 08                cmpl    $0x8, 0x10(%r10)
    // 53: 75 2a                         jne     0x7f <__JIT_ENTRY+0x7f>
    // 55: 45 8b 46 34                   movl    0x34(%r14), %r8d
    // 59: 45 85 c0                      testl   %r8d, %r8d
    // 5c: 7e 21                         jle     0x7f <__JIT_ENTRY+0x7f>
    // 5e: c1 e0 03                      shll    $0x3, %eax
    // 61: 4d 89 e9                      movq    %r13, %r9
    // 64: 49 29 c1                      subq    %rax, %r9
    // 67: 88 d1                         movb    %dl, %cl
    // 69: 48 8d 04 cd f8 ff ff ff       leaq    -0x8(,%rcx,8), %rax
    // 71: 49 8b 3c 01                   movq    (%r9,%rax), %rdi
    // 75: 48 8b 4f 08                   movq    0x8(%rdi), %rcx
    // 79: 48 3b 4e 10                   cmpq    0x10(%rsi), %rcx
    // 7d: 74 0a                         je      0x89 <__JIT_ENTRY+0x89>
    // 7f: 48 83 c4 20                   addq    $0x20, %rsp
    // 83: 5d                            popq    %rbp
    // 84: e9 00 00 00 00                jmp     0x89 <__JIT_ENTRY+0x89>
    // 0000000000000085:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 89: 49 8b 74 01 08                movq    0x8(%r9,%rax), %rsi
    // 8e: 49 8b 42 08                   movq    0x8(%r10), %rax
    // 92: 41 ff c8                      decl    %r8d
    // 95: 45 89 46 34                   movl    %r8d, 0x34(%r14)
    // 99: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 9e: 48 89 75 e8                   movq    %rsi, -0x18(%rbp)
    // a2: 48 89 7d f8                   movq    %rdi, -0x8(%rbp)
    // a6: ff d0                         callq   *%rax
    // a8: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // ac: 49 8b 4c 24 40                movq    0x40(%r12), %rcx
    // b1: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // ba: 41 ff 46 34                   incl    0x34(%r14)
    // be: 8b 17                         movl    (%rdi), %edx
    // c0: 85 d2                         testl   %edx, %edx
    // c2: 78 1c                         js      0xe0 <__JIT_ENTRY+0xe0>
    // c4: ff ca                         decl    %edx
    // c6: 89 17                         movl    %edx, (%rdi)
    // c8: 75 16                         jne     0xe0 <__JIT_ENTRY+0xe0>
    // ca: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // ce: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // d2: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd8 <__JIT_ENTRY+0xd8>
    // 00000000000000d4:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // d8: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // dc: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // e0: 48 8b 7d e8                   movq    -0x18(%rbp), %rdi
    // e4: 8b 17                         movl    (%rdi), %edx
    // e6: 85 d2                         testl   %edx, %edx
    // e8: 78 1c                         js      0x106 <__JIT_ENTRY+0x106>
    // ea: ff ca                         decl    %edx
    // ec: 89 17                         movl    %edx, (%rdi)
    // ee: 75 16                         jne     0x106 <__JIT_ENTRY+0x106>
    // f0: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // f4: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // f8: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xfe <__JIT_ENTRY+0xfe>
    // 00000000000000fa:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // fe: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // 102: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 106: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // 10b: 8b 17                         movl    (%rdi), %edx
    // 10d: 85 d2                         testl   %edx, %edx
    // 10f: 78 1a                         js      0x12b <__JIT_ENTRY+0x12b>
    // 111: ff ca                         decl    %edx
    // 113: 89 17                         movl    %edx, (%rdi)
    // 115: 75 14                         jne     0x12b <__JIT_ENTRY+0x12b>
    // 117: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // 11b: 49 89 c5                      movq    %rax, %r13
    // 11e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x124 <__JIT_ENTRY+0x124>
    // 0000000000000120:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 124: 4c 89 e8                      movq    %r13, %rax
    // 127: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 12b: 48 85 c0                      testq   %rax, %rax
    // 12e: 74 12                         je      0x142 <__JIT_ENTRY+0x142>
    // 130: 4a 89 04 f9                   movq    %rax, (%rcx,%r15,8)
    // 134: 4c 8d 2c d9                   leaq    (%rcx,%rbx,8), %r13
    // 138: 48 83 c4 20                   addq    $0x20, %rsp
    // 13c: 5d                            popq    %rbp
    // 13d: e9 00 00 00 00                jmp     0x142 <__JIT_ENTRY+0x142>
    // 000000000000013e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 142: 49 89 cd                      movq    %rcx, %r13
    // 145: 48 83 c4 20                   addq    $0x20, %rsp
    // 149: 5d                            popq    %rbp
    // 14a: e9 00 00 00 00                jmp     0x14f <__JIT_ENTRY+0x14f>
    // 000000000000014b:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[335] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x48, 0x63, 0xd9, 0x31, 0xc9,
        0x31, 0xf6, 0x49, 0x83, 0x7c, 0xdd, 0x00, 0x00,
        0x0f, 0x94, 0xc2, 0x40, 0x0f, 0x95, 0xc6, 0x01,
        0xc6, 0x83, 0xfe, 0x02, 0x75, 0x51, 0xbe, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc6, 0x4c, 0x63, 0xfe,
        0x4b, 0x8b, 0x74, 0xfd, 0x00, 0x48, 0x8b, 0x7e,
        0x08, 0x48, 0x3b, 0x3d, 0x00, 0x00, 0x00, 0x00,
        0x75, 0x35, 0x4c, 0x8b, 0x56, 0x28, 0x41, 0x83,
        0x7a, 0x10, 0x08, 0x75, 0x2a, 0x45, 0x8b, 0x46,
        0x34, 0x45, 0x85, 0xc0, 0x7e, 0x21, 0xc1, 0xe0,
        0x03, 0x4d, 0x89, 0xe9, 0x49, 0x29, 0xc1, 0x88,
        0xd1, 0x48, 0x8d, 0x04, 0xcd, 0xf8, 0xff, 0xff,
        0xff, 0x49, 0x8b, 0x3c, 0x01, 0x48, 0x8b, 0x4f,
        0x08, 0x48, 0x3b, 0x4e, 0x10, 0x74, 0x0a, 0x48,
        0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x8b, 0x74, 0x01, 0x08, 0x49, 0x8b,
        0x42, 0x08, 0x41, 0xff, 0xc8, 0x45, 0x89, 0x46,
        0x34, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89,
        0x75, 0xe8, 0x48, 0x89, 0x7d, 0xf8, 0xff, 0xd0,
        0x48, 0x8b, 0x7d, 0xf8, 0x49, 0x8b, 0x4c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x41, 0xff, 0x46, 0x34, 0x8b, 0x17,
        0x85, 0xd2, 0x78, 0x1c, 0xff, 0xca, 0x89, 0x17,
        0x75, 0x16, 0x48, 0x89, 0x4d, 0xf8, 0x48, 0x89,
        0x45, 0xf0, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x45, 0xf0, 0x48, 0x8b, 0x4d, 0xf8,
        0x48, 0x8b, 0x7d, 0xe8, 0x8b, 0x17, 0x85, 0xd2,
        0x78, 0x1c, 0xff, 0xca, 0x89, 0x17, 0x75, 0x16,
        0x48, 0x89, 0x4d, 0xf8, 0x48, 0x89, 0x45, 0xf0,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x45, 0xf0, 0x48, 0x8b, 0x4d, 0xf8, 0x4b, 0x8b,
        0x7c, 0xfd, 0x00, 0x8b, 0x17, 0x85, 0xd2, 0x78,
        0x1a, 0xff, 0xca, 0x89, 0x17, 0x75, 0x14, 0x48,
        0x89, 0x4d, 0xf8, 0x49, 0x89, 0xc5, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xe8, 0x48,
        0x8b, 0x4d, 0xf8, 0x48, 0x85, 0xc0, 0x74, 0x12,
        0x4a, 0x89, 0x04, 0xf9, 0x4c, 0x8d, 0x2c, 0xd9,
        0x48, 0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x89, 0xcd, 0x48, 0x83, 0xc4,
        0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyMethodDescr_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyMethodDescr_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x44, (uintptr_t)data + 0x4);
    patch_32r(code + 0x85, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0xd4, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xfa, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x120, (uintptr_t)data + -0x4);
    patch_32r(code + 0x13e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x14b, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_NON_PY_GENERAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_NON_PY_GENERAL.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 40                   subq    $0x40, %rsp
    // 8: 4c 89 75 e8                   movq    %r14, -0x18(%rbp)
    // c: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 13: 0f b7 c8                      movzwl  %ax, %ecx
    // 16: 0f b7 d8                      movzwl  %ax, %ebx
    // 19: 8d 04 dd 00 00 00 00          leal    (,%rbx,8), %eax
    // 20: 4c 89 ea                      movq    %r13, %rdx
    // 23: 48 29 c2                      subq    %rax, %rdx
    // 26: 89 c8                         movl    %ecx, %eax
    // 28: f7 d0                         notl    %eax
    // 2a: 48 63 f0                      movslq  %eax, %rsi
    // 2d: b8 fe ff ff ff                movl    $0xfffffffe, %eax       ## imm = 0xFFFFFFFE
    // 32: 29 c8                         subl    %ecx, %eax
    // 34: 48 98                         cltq
    // 36: 48 89 45 c8                   movq    %rax, -0x38(%rbp)
    // 3a: 49 8b 7c c5 00                movq    (%r13,%rax,8), %rdi
    // 3f: 48 89 75 d8                   movq    %rsi, -0x28(%rbp)
    // 43: 49 8b 44 f5 00                movq    (%r13,%rsi,8), %rax
    // 48: 45 31 f6                      xorl    %r14d, %r14d
    // 4b: 45 31 ff                      xorl    %r15d, %r15d
    // 4e: 48 89 45 e0                   movq    %rax, -0x20(%rbp)
    // 52: 48 85 c0                      testq   %rax, %rax
    // 55: 41 0f 94 c6                   sete    %r14b
    // 59: 41 0f 95 c7                   setne   %r15b
    // 5d: 41 01 cf                      addl    %ecx, %r15d
    // 60: 4a 8d 34 f2                   leaq    (%rdx,%r14,8), %rsi
    // 64: 48 83 c6 f8                   addq    $-0x8, %rsi
    // 68: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 6d: 48 ba 00 00 00 00 00 00 00 80 movabsq $-0x8000000000000000, %rdx ## imm = 0x8000000000000000
    // 77: 4c 09 fa                      orq     %r15, %rdx
    // 7a: 31 c9                         xorl    %ecx, %ecx
    // 7c: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x82 <__JIT_ENTRY+0x82>
    // 000000000000007e:  X86_64_RELOC_GOT     _PyObject_Vectorcall@GOTPCREL
    // 82: 48 89 45 d0                   movq    %rax, -0x30(%rbp)
    // 86: 49 8b 44 24 40                movq    0x40(%r12), %rax
    // 8b: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // 8f: 4c 89 65 f0                   movq    %r12, -0x10(%rbp)
    // 93: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 9c: 45 85 ff                      testl   %r15d, %r15d
    // 9f: 74 4c                         je      0xed <__JIT_ENTRY+0xed>
    // a1: 48 f7 db                      negq    %rbx
    // a4: 4e 8d 34 f5 f8 ff ff ff       leaq    -0x8(,%r14,8), %r14
    // ac: 45 31 ff                      xorl    %r15d, %r15d
    // af: 48 83 7d e0 00                cmpq    $0x0, -0x20(%rbp)
    // b4: 41 0f 95 c7                   setne   %r15b
    // b8: 4d 01 ee                      addq    %r13, %r14
    // bb: 4c 8b 25 00 00 00 00          movq    (%rip), %r12            ## 0xc2 <__JIT_ENTRY+0xc2>
    // 00000000000000be:  X86_64_RELOC_GOT_LOAD        __Py_Dealloc@GOTPCREL
    // c2: eb 14                         jmp     0xd8 <__JIT_ENTRY+0xd8>
    // c4: 66 66 66 2e 0f 1f 84 00 00 00 00 00   nopw    %cs:(%rax,%rax)
    // d0: 48 ff c3                      incq    %rbx
    // d3: 49 39 df                      cmpq    %rbx, %r15
    // d6: 74 15                         je      0xed <__JIT_ENTRY+0xed>
    // d8: 49 8b 3c de                   movq    (%r14,%rbx,8), %rdi
    // dc: 8b 07                         movl    (%rdi), %eax
    // de: 85 c0                         testl   %eax, %eax
    // e0: 78 ee                         js      0xd0 <__JIT_ENTRY+0xd0>
    // e2: ff c8                         decl    %eax
    // e4: 89 07                         movl    %eax, (%rdi)
    // e6: 75 e8                         jne     0xd0 <__JIT_ENTRY+0xd0>
    // e8: 41 ff d4                      callq   *%r12
    // eb: eb e3                         jmp     0xd0 <__JIT_ENTRY+0xd0>
    // ed: 48 8b 5d c8                   movq    -0x38(%rbp), %rbx
    // f1: 49 8b 7c dd 00                movq    (%r13,%rbx,8), %rdi
    // f6: 8b 07                         movl    (%rdi), %eax
    // f8: 85 c0                         testl   %eax, %eax
    // fa: 78 06                         js      0x102 <__JIT_ENTRY+0x102>
    // fc: ff c8                         decl    %eax
    // fe: 89 07                         movl    %eax, (%rdi)
    // 100: 74 2b                         je      0x12d <__JIT_ENTRY+0x12d>
    // 102: 48 8b 45 d0                   movq    -0x30(%rbp), %rax
    // 106: 48 85 c0                      testq   %rax, %rax
    // 109: 74 31                         je      0x13c <__JIT_ENTRY+0x13c>
    // 10b: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 10f: 48 89 04 d9                   movq    %rax, (%rcx,%rbx,8)
    // 113: 48 8b 45 d8                   movq    -0x28(%rbp), %rax
    // 117: 4c 8d 2c c1                   leaq    (%rcx,%rax,8), %r13
    // 11b: 4c 8b 65 f0                   movq    -0x10(%rbp), %r12
    // 11f: 4c 8b 75 e8                   movq    -0x18(%rbp), %r14
    // 123: 48 83 c4 40                   addq    $0x40, %rsp
    // 127: 5d                            popq    %rbp
    // 128: e9 00 00 00 00                jmp     0x12d <__JIT_ENTRY+0x12d>
    // 0000000000000129:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 12d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x133 <__JIT_ENTRY+0x133>
    // 000000000000012f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 133: 48 8b 45 d0                   movq    -0x30(%rbp), %rax
    // 137: 48 85 c0                      testq   %rax, %rax
    // 13a: 75 cf                         jne     0x10b <__JIT_ENTRY+0x10b>
    // 13c: 4c 8b 65 f0                   movq    -0x10(%rbp), %r12
    // 140: 4c 8b 6d f8                   movq    -0x8(%rbp), %r13
    // 144: 4c 8b 75 e8                   movq    -0x18(%rbp), %r14
    // 148: 48 83 c4 40                   addq    $0x40, %rsp
    // 14c: 5d                            popq    %rbp
    // 14d: e9 00 00 00 00                jmp     0x152 <__JIT_ENTRY+0x152>
    // 000000000000014e:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[338] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x40,
        0x4c, 0x89, 0x75, 0xe8, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0xc8, 0x0f, 0xb7,
        0xd8, 0x8d, 0x04, 0xdd, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0xea, 0x48, 0x29, 0xc2, 0x89, 0xc8,
        0xf7, 0xd0, 0x48, 0x63, 0xf0, 0xb8, 0xfe, 0xff,
        0xff, 0xff, 0x29, 0xc8, 0x48, 0x98, 0x48, 0x89,
        0x45, 0xc8, 0x49, 0x8b, 0x7c, 0xc5, 0x00, 0x48,
        0x89, 0x75, 0xd8, 0x49, 0x8b, 0x44, 0xf5, 0x00,
        0x45, 0x31, 0xf6, 0x45, 0x31, 0xff, 0x48, 0x89,
        0x45, 0xe0, 0x48, 0x85, 0xc0, 0x41, 0x0f, 0x94,
        0xc6, 0x41, 0x0f, 0x95, 0xc7, 0x41, 0x01, 0xcf,
        0x4a, 0x8d, 0x34, 0xf2, 0x48, 0x83, 0xc6, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0xba, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x4c,
        0x09, 0xfa, 0x31, 0xc9, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0x45, 0xd0, 0x49, 0x8b,
        0x44, 0x24, 0x40, 0x48, 0x89, 0x45, 0xf8, 0x4c,
        0x89, 0x65, 0xf0, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x45, 0x85, 0xff, 0x74,
        0x4c, 0x48, 0xf7, 0xdb, 0x4e, 0x8d, 0x34, 0xf5,
        0xf8, 0xff, 0xff, 0xff, 0x45, 0x31, 0xff, 0x48,
        0x83, 0x7d, 0xe0, 0x00, 0x41, 0x0f, 0x95, 0xc7,
        0x4d, 0x01, 0xee, 0x4c, 0x8b, 0x25, 0x00, 0x00,
        0x00, 0x00, 0xeb, 0x14, 0x66, 0x66, 0x66, 0x2e,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x48, 0xff, 0xc3, 0x49, 0x39, 0xdf, 0x74, 0x15,
        0x49, 0x8b, 0x3c, 0xde, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0xee, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xe8,
        0x41, 0xff, 0xd4, 0xeb, 0xe3, 0x48, 0x8b, 0x5d,
        0xc8, 0x49, 0x8b, 0x7c, 0xdd, 0x00, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07,
        0x74, 0x2b, 0x48, 0x8b, 0x45, 0xd0, 0x48, 0x85,
        0xc0, 0x74, 0x31, 0x48, 0x8b, 0x4d, 0xf8, 0x48,
        0x89, 0x04, 0xd9, 0x48, 0x8b, 0x45, 0xd8, 0x4c,
        0x8d, 0x2c, 0xc1, 0x4c, 0x8b, 0x65, 0xf0, 0x4c,
        0x8b, 0x75, 0xe8, 0x48, 0x83, 0xc4, 0x40, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x45, 0xd0, 0x48,
        0x85, 0xc0, 0x75, 0xcf, 0x4c, 0x8b, 0x65, 0xf0,
        0x4c, 0x8b, 0x6d, 0xf8, 0x4c, 0x8b, 0x75, 0xe8,
        0x48, 0x83, 0xc4, 0x40, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_Vectorcall+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_Vectorcall);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x7e, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xbe, (uintptr_t)data + -0x4);
    patch_32r(code + 0x129, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x12f, (uintptr_t)data + -0x4);
    patch_32r(code + 0x14e, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_STR_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_STR_1.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 83 7d f0 00                cmpq    $0x0, -0x10(%r13)
    // 9: 75 0d                         jne     0x18 <__JIT_ENTRY+0x18>
    // b: 49 8b 45 e8                   movq    -0x18(%r13), %rax
    // f: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT     _PyUnicode_Type@GOTPCREL
    // 16: 74 06                         je      0x1e <__JIT_ENTRY+0x1e>
    // 18: 5d                            popq    %rbp
    // 19: e9 00 00 00 00                jmp     0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1e: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 22: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 27: 48 89 df                      movq    %rbx, %rdi
    // 2a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_GOT     _PyObject_Str@GOTPCREL
    // 30: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 35: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3e: 8b 0b                         movl    (%rbx), %ecx
    // 40: 85 c9                         testl   %ecx, %ecx
    // 42: 78 15                         js      0x59 <__JIT_ENTRY+0x59>
    // 44: ff c9                         decl    %ecx
    // 46: 89 0b                         movl    %ecx, (%rbx)
    // 48: 75 0f                         jne     0x59 <__JIT_ENTRY+0x59>
    // 4a: 48 89 df                      movq    %rbx, %rdi
    // 4d: 48 89 c3                      movq    %rax, %rbx
    // 50: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x56 <__JIT_ENTRY+0x56>
    // 0000000000000052:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 56: 48 89 d8                      movq    %rbx, %rax
    // 59: 48 85 c0                      testq   %rax, %rax
    // 5c: 74 0e                         je      0x6c <__JIT_ENTRY+0x6c>
    // 5e: 49 89 45 e8                   movq    %rax, -0x18(%r13)
    // 62: 49 83 c5 f0                   addq    $-0x10, %r13
    // 66: 5d                            popq    %rbp
    // 67: e9 00 00 00 00                jmp     0x6c <__JIT_ENTRY+0x6c>
    // 0000000000000068:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 6c: 5d                            popq    %rbp
    // 6d: e9 00 00 00 00                jmp     0x72 <__JIT_ENTRY+0x72>
    // 000000000000006e:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[114] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x83, 0x7d, 0xf0,
        0x00, 0x75, 0x0d, 0x49, 0x8b, 0x45, 0xe8, 0x48,
        0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x74, 0x06,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b,
        0x5d, 0xf8, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b,
        0x85, 0xc9, 0x78, 0x15, 0xff, 0xc9, 0x89, 0x0b,
        0x75, 0x0f, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xd8, 0x48, 0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89,
        0x45, 0xe8, 0x49, 0x83, 0xc5, 0xf0, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_Str+0x0
    // 10: &PyUnicode_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_Str);
    patch_64(data + 0x10, (uintptr_t)&PyUnicode_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0xc);
    patch_32r(code + 0x1a, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x2c, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x52, (uintptr_t)data + -0x4);
    patch_32r(code + 0x68, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x6e, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_TUPLE_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_TUPLE_1.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 83 7d f0 00                cmpq    $0x0, -0x10(%r13)
    // 9: 75 0d                         jne     0x18 <__JIT_ENTRY+0x18>
    // b: 49 8b 45 e8                   movq    -0x18(%r13), %rax
    // f: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT     _PyTuple_Type@GOTPCREL
    // 16: 74 06                         je      0x1e <__JIT_ENTRY+0x1e>
    // 18: 5d                            popq    %rbp
    // 19: e9 00 00 00 00                jmp     0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1e: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 22: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 27: 48 89 df                      movq    %rbx, %rdi
    // 2a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_GOT     _PySequence_Tuple@GOTPCREL
    // 30: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 35: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3e: 8b 0b                         movl    (%rbx), %ecx
    // 40: 85 c9                         testl   %ecx, %ecx
    // 42: 78 15                         js      0x59 <__JIT_ENTRY+0x59>
    // 44: ff c9                         decl    %ecx
    // 46: 89 0b                         movl    %ecx, (%rbx)
    // 48: 75 0f                         jne     0x59 <__JIT_ENTRY+0x59>
    // 4a: 48 89 df                      movq    %rbx, %rdi
    // 4d: 48 89 c3                      movq    %rax, %rbx
    // 50: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x56 <__JIT_ENTRY+0x56>
    // 0000000000000052:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 56: 48 89 d8                      movq    %rbx, %rax
    // 59: 48 85 c0                      testq   %rax, %rax
    // 5c: 74 0e                         je      0x6c <__JIT_ENTRY+0x6c>
    // 5e: 49 89 45 e8                   movq    %rax, -0x18(%r13)
    // 62: 49 83 c5 f0                   addq    $-0x10, %r13
    // 66: 5d                            popq    %rbp
    // 67: e9 00 00 00 00                jmp     0x6c <__JIT_ENTRY+0x6c>
    // 0000000000000068:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 6c: 5d                            popq    %rbp
    // 6d: e9 00 00 00 00                jmp     0x72 <__JIT_ENTRY+0x72>
    // 000000000000006e:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[114] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x83, 0x7d, 0xf0,
        0x00, 0x75, 0x0d, 0x49, 0x8b, 0x45, 0xe8, 0x48,
        0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x74, 0x06,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b,
        0x5d, 0xf8, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b,
        0x85, 0xc9, 0x78, 0x15, 0xff, 0xc9, 0x89, 0x0b,
        0x75, 0x0f, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xd8, 0x48, 0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89,
        0x45, 0xe8, 0x49, 0x83, 0xc5, 0xf0, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PySequence_Tuple+0x0
    // 10: &PyTuple_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PySequence_Tuple);
    patch_64(data + 0x10, (uintptr_t)&PyTuple_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0xc);
    patch_32r(code + 0x1a, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x2c, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x52, (uintptr_t)data + -0x4);
    patch_32r(code + 0x68, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x6e, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CALL_TYPE_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CALL_TYPE_1.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 83 7d f0 00                cmpq    $0x0, -0x10(%r13)
    // 5: 0f 85 00 00 00 00             jne     0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // b: 49 8b 45 e8                   movq    -0x18(%r13), %rax
    // f: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT     _PyType_Type@GOTPCREL
    // 16: 0f 85 00 00 00 00             jne     0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1c: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 20: 4c 8b 7f 08                   movq    0x8(%rdi), %r15
    // 24: 41 8b 07                      movl    (%r15), %eax
    // 27: 85 c0                         testl   %eax, %eax
    // 29: 78 05                         js      0x30 <__JIT_ENTRY+0x30>
    // 2b: ff c0                         incl    %eax
    // 2d: 41 89 07                      movl    %eax, (%r15)
    // 30: 49 8d 5d f0                   leaq    -0x10(%r13), %rbx
    // 34: 8b 07                         movl    (%rdi), %eax
    // 36: 85 c0                         testl   %eax, %eax
    // 38: 78 06                         js      0x40 <__JIT_ENTRY+0x40>
    // 3a: ff c8                         decl    %eax
    // 3c: 89 07                         movl    %eax, (%rdi)
    // 3e: 74 0c                         je      0x4c <__JIT_ENTRY+0x4c>
    // 40: 4d 89 7d e8                   movq    %r15, -0x18(%r13)
    // 44: 49 89 dd                      movq    %rbx, %r13
    // 47: e9 00 00 00 00                jmp     0x4c <__JIT_ENTRY+0x4c>
    // 0000000000000048:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 4c: 55                            pushq   %rbp
    // 4d: 48 89 e5                      movq    %rsp, %rbp
    // 50: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x56 <__JIT_ENTRY+0x56>
    // 0000000000000052:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 56: 5d                            popq    %rbp
    // 57: 4d 89 7d e8                   movq    %r15, -0x18(%r13)
    // 5b: 49 89 dd                      movq    %rbx, %r13
    // 5e: e9 00 00 00 00                jmp     0x63 <__JIT_ENTRY+0x63>
    // 000000000000005f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[94] = {
        0x49, 0x83, 0x7d, 0xf0, 0x00, 0x0f, 0x85, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x45, 0xe8, 0x48,
        0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x85,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x7d, 0xf8,
        0x4c, 0x8b, 0x7f, 0x08, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x05, 0xff, 0xc0, 0x41, 0x89, 0x07,
        0x49, 0x8d, 0x5d, 0xf0, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74, 0x0c,
        0x4d, 0x89, 0x7d, 0xe8, 0x49, 0x89, 0xdd, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0x4d,
        0x89, 0x7d, 0xe8, 0x49, 0x89, 0xdd,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyType_Type+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyType_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x7, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0x4);
    patch_32r(code + 0x18, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x48, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x52, (uintptr_t)data + -0x4);
}

void
emit__CHECK_AND_ALLOCATE_OBJECT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_AND_ALLOCATE_OBJECT.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 89 c1                         movl    %eax, %ecx
    // 11: f7 d1                         notl    %ecx
    // 13: 48 63 d9                      movslq  %ecx, %rbx
    // 16: 49 83 7c dd 00 00             cmpq    $0x0, (%r13,%rbx,8)
    // 1c: 0f 85 d8 00 00 00             jne     0xfa <__JIT_ENTRY+0xfa>
    // 22: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 27: 29 c1                         subl    %eax, %ecx
    // 29: 4c 63 f9                      movslq  %ecx, %r15
    // 2c: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // 31: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 35: f6 80 ab 00 00 00 80          testb   $-0x80, 0xab(%rax)
    // 3c: 0f 84 b8 00 00 00             je      0xfa <__JIT_ENTRY+0xfa>
    // 42: 8b 87 80 01 00 00             movl    0x180(%rdi), %eax
    // 48: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x4e <__JIT_ENTRY+0x4e>
    // 000000000000004a:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 4e: 0f 85 a6 00 00 00             jne     0xfa <__JIT_ENTRY+0xfa>
    // 54: 49 8b 86 f0 00 00 00          movq    0xf0(%r14), %rax
    // 5b: 48 85 c0                      testq   %rax, %rax
    // 5e: 0f 84 96 00 00 00             je      0xfa <__JIT_ENTRY+0xfa>
    // 64: 48 8b b7 a0 03 00 00          movq    0x3a0(%rdi), %rsi
    // 6b: 48 8b 4e 30                   movq    0x30(%rsi), %rcx
    // 6f: 48 63 49 4c                   movslq  0x4c(%rcx), %rcx
    // 73: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x7a <__JIT_ENTRY+0x7a>
    // 0000000000000076:  X86_64_RELOC_GOT_LOAD        __Py_InitCleanup@GOTPCREL
    // 7a: 48 63 52 4c                   movslq  0x4c(%rdx), %rdx
    // 7e: 48 01 ca                      addq    %rcx, %rdx
    // 81: 49 8b 8e f8 00 00 00          movq    0xf8(%r14), %rcx
    // 88: 48 29 c1                      subq    %rax, %rcx
    // 8b: 48 c1 f9 03                   sarq    $0x3, %rcx
    // 8f: 48 39 d1                      cmpq    %rdx, %rcx
    // 92: 7e 66                         jle     0xfa <__JIT_ENTRY+0xfa>
    // 94: 48 89 75 f8                   movq    %rsi, -0x8(%rbp)
    // 98: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 9d: 31 f6                         xorl    %esi, %esi
    // 9f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xa5 <__JIT_ENTRY+0xa5>
    // 00000000000000a1:  X86_64_RELOC_GOT     _PyType_GenericAlloc@GOTPCREL
    // a5: 49 8b 54 24 40                movq    0x40(%r12), %rdx
    // aa: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // b3: 48 85 c0                      testq   %rax, %rax
    // b6: 74 4c                         je      0x104 <__JIT_ENTRY+0x104>
    // b8: 49 89 44 dd 00                movq    %rax, (%r13,%rbx,8)
    // bd: 4b 8b 7c fd 00                movq    (%r13,%r15,8), %rdi
    // c2: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // c6: 8b 01                         movl    (%rcx), %eax
    // c8: 85 c0                         testl   %eax, %eax
    // ca: 78 04                         js      0xd0 <__JIT_ENTRY+0xd0>
    // cc: ff c0                         incl    %eax
    // ce: 89 01                         movl    %eax, (%rcx)
    // d0: 4b 89 4c fd 00                movq    %rcx, (%r13,%r15,8)
    // d5: 8b 07                         movl    (%rdi), %eax
    // d7: 85 c0                         testl   %eax, %eax
    // d9: 78 12                         js      0xed <__JIT_ENTRY+0xed>
    // db: ff c8                         decl    %eax
    // dd: 89 07                         movl    %eax, (%rdi)
    // df: 75 0c                         jne     0xed <__JIT_ENTRY+0xed>
    // e1: 48 89 d3                      movq    %rdx, %rbx
    // e4: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xea <__JIT_ENTRY+0xea>
    // 00000000000000e6:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ea: 48 89 da                      movq    %rbx, %rdx
    // ed: 49 89 d5                      movq    %rdx, %r13
    // f0: 48 83 c4 10                   addq    $0x10, %rsp
    // f4: 5d                            popq    %rbp
    // f5: e9 00 00 00 00                jmp     0xfa <__JIT_ENTRY+0xfa>
    // 00000000000000f6:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // fa: 48 83 c4 10                   addq    $0x10, %rsp
    // fe: 5d                            popq    %rbp
    // ff: e9 00 00 00 00                jmp     0x104 <__JIT_ENTRY+0x104>
    // 0000000000000100:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 104: 49 89 d5                      movq    %rdx, %r13
    // 107: 48 83 c4 10                   addq    $0x10, %rsp
    // 10b: 5d                            popq    %rbp
    // 10c: e9 00 00 00 00                jmp     0x111 <__JIT_ENTRY+0x111>
    // 000000000000010d:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[273] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xc1, 0xf7, 0xd1, 0x48, 0x63, 0xd9, 0x49, 0x83,
        0x7c, 0xdd, 0x00, 0x00, 0x0f, 0x85, 0xd8, 0x00,
        0x00, 0x00, 0xb9, 0xfe, 0xff, 0xff, 0xff, 0x29,
        0xc1, 0x4c, 0x63, 0xf9, 0x4b, 0x8b, 0x7c, 0xfd,
        0x00, 0x48, 0x8b, 0x47, 0x08, 0xf6, 0x80, 0xab,
        0x00, 0x00, 0x00, 0x80, 0x0f, 0x84, 0xb8, 0x00,
        0x00, 0x00, 0x8b, 0x87, 0x80, 0x01, 0x00, 0x00,
        0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x85,
        0xa6, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x86, 0xf0,
        0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x0f, 0x84,
        0x96, 0x00, 0x00, 0x00, 0x48, 0x8b, 0xb7, 0xa0,
        0x03, 0x00, 0x00, 0x48, 0x8b, 0x4e, 0x30, 0x48,
        0x63, 0x49, 0x4c, 0x48, 0x8b, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x63, 0x52, 0x4c, 0x48, 0x01,
        0xca, 0x49, 0x8b, 0x8e, 0xf8, 0x00, 0x00, 0x00,
        0x48, 0x29, 0xc1, 0x48, 0xc1, 0xf9, 0x03, 0x48,
        0x39, 0xd1, 0x7e, 0x66, 0x48, 0x89, 0x75, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x31, 0xf6, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x54,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x4c,
        0x49, 0x89, 0x44, 0xdd, 0x00, 0x4b, 0x8b, 0x7c,
        0xfd, 0x00, 0x48, 0x8b, 0x4d, 0xf8, 0x8b, 0x01,
        0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0, 0x89, 0x01,
        0x4b, 0x89, 0x4c, 0xfd, 0x00, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x12, 0xff, 0xc8, 0x89, 0x07, 0x75,
        0x0c, 0x48, 0x89, 0xd3, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xda, 0x49, 0x89, 0xd5,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0xd5, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyType_GenericAlloc+0x0
    // 10: &_Py_InitCleanup+0x0
    // 18: OPERAND0
    // 20: OPARG
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyType_GenericAlloc);
    patch_64(data + 0x10, (uintptr_t)&_Py_InitCleanup);
    patch_64(data + 0x18, instruction->operand0);
    patch_64(data + 0x20, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x4a, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x76, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xa1, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xe6, (uintptr_t)data + -0x4);
    patch_32r(code + 0xf6, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x100, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x10d, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CHECK_ATTR_CLASS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_ATTR_CLASS.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // c: f6 81 ab 00 00 00 80          testb   $-0x80, 0xab(%rcx)
    // 13: 74 14                         je      0x29 <__JIT_ENTRY+0x29>
    // 15: 8b 80 80 01 00 00             movl    0x180(%rax), %eax
    // 1b: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 21: 75 06                         jne     0x29 <__JIT_ENTRY+0x29>
    // 23: 5d                            popq    %rbp
    // 24: e9 00 00 00 00                jmp     0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 29: 5d                            popq    %rbp
    // 2a: e9 00 00 00 00                jmp     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[47] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x08, 0xf6, 0x81, 0xab, 0x00,
        0x00, 0x00, 0x80, 0x74, 0x14, 0x8b, 0x80, 0x80,
        0x01, 0x00, 0x00, 0x3b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x75, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
    patch_32r(code + 0x25, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2b, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_ATTR_METHOD_LAZY_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_ATTR_METHOD_LAZY_DICT.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // f: 48 83 7c 08 e8 00             cmpq    $0x0, -0x18(%rax,%rcx)
    // 15: 74 06                         je      0x1d <__JIT_ENTRY+0x1d>
    // 17: 5d                            popq    %rbp
    // 18: e9 00 00 00 00                jmp     0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1d: 5d                            popq    %rbp
    // 1e: e9 00 00 00 00                jmp     0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[30] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x83, 0x7c, 0x08, 0xe8, 0x00, 0x74, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + -0x4);
    patch_32r(code + 0x19, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_ATTR_MODULE_PUSH_KEYS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_ATTR_MODULE_PUSH_KEYS.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // c: 48 8b 89 90 00 00 00          movq    0x90(%rcx), %rcx
    // 13: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x1a <__JIT_ENTRY+0x1a>
    // 0000000000000016:  X86_64_RELOC_GOT_LOAD        _PyModule_Type@GOTPCREL
    // 1a: 48 3b 8a 90 00 00 00          cmpq    0x90(%rdx), %rcx
    // 21: 75 21                         jne     0x44 <__JIT_ENTRY+0x44>
    // 23: 48 8b 40 10                   movq    0x10(%rax), %rax
    // 27: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 2b: 8b 48 0c                      movl    0xc(%rax), %ecx
    // 2e: 3b 0d 00 00 00 00             cmpl    (%rip), %ecx            ## 0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 34: 75 0e                         jne     0x44 <__JIT_ENTRY+0x44>
    // 36: 49 89 45 00                   movq    %rax, (%r13)
    // 3a: 49 83 c5 08                   addq    $0x8, %r13
    // 3e: 5d                            popq    %rbp
    // 3f: e9 00 00 00 00                jmp     0x44 <__JIT_ENTRY+0x44>
    // 0000000000000040:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 44: 5d                            popq    %rbp
    // 45: e9 00 00 00 00                jmp     0x4a <__JIT_ENTRY+0x4a>
    // 0000000000000046:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[74] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x08, 0x48, 0x8b, 0x89, 0x90,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x3b, 0x8a, 0x90, 0x00, 0x00,
        0x00, 0x75, 0x21, 0x48, 0x8b, 0x40, 0x10, 0x48,
        0x8b, 0x40, 0x20, 0x8b, 0x48, 0x0c, 0x3b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x75, 0x0e, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: OPERAND0
    // 8: &PyModule_Type+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyModule_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x16, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x30, (uintptr_t)data + -0x4);
    patch_32r(code + 0x40, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x46, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_ATTR_WITH_HINT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_ATTR_WITH_HINT.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 83 78 e8 00                cmpq    $0x0, -0x18(%rax)
    // d: 74 06                         je      0x15 <__JIT_ENTRY+0x15>
    // f: 5d                            popq    %rbp
    // 10: e9 00 00 00 00                jmp     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[27] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x83, 0x78, 0xe8, 0x00, 0x74, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x11, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_CALL_BOUND_METHOD_EXACT_ARGS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_CALL_BOUND_METHOD_EXACT_ARGS.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 89 c1                         movl    %eax, %ecx
    // d: f7 d1                         notl    %ecx
    // f: 48 63 c9                      movslq  %ecx, %rcx
    // 12: 49 83 7c cd 00 00             cmpq    $0x0, (%r13,%rcx,8)
    // 18: 75 1c                         jne     0x36 <__JIT_ENTRY+0x36>
    // 1a: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 1f: 29 c1                         subl    %eax, %ecx
    // 21: 48 63 c1                      movslq  %ecx, %rax
    // 24: 49 8b 44 c5 00                movq    (%r13,%rax,8), %rax
    // 29: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 2d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_GOT     _PyMethod_Type@GOTPCREL
    // 34: 74 06                         je      0x3c <__JIT_ENTRY+0x3c>
    // 36: 5d                            popq    %rbp
    // 37: e9 00 00 00 00                jmp     0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 3c: 5d                            popq    %rbp
    // 3d: e9 00 00 00 00                jmp     0x42 <__JIT_ENTRY+0x42>
    // 000000000000003e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[61] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x89, 0xc1, 0xf7, 0xd1, 0x48,
        0x63, 0xc9, 0x49, 0x83, 0x7c, 0xcd, 0x00, 0x00,
        0x75, 0x1c, 0xb9, 0xfe, 0xff, 0xff, 0xff, 0x29,
        0xc1, 0x48, 0x63, 0xc1, 0x49, 0x8b, 0x44, 0xc5,
        0x00, 0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyMethod_Type+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyMethod_Type);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x30, (uintptr_t)data + -0x4);
    patch_32r(code + 0x38, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_EG_MATCH(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_EG_MATCH.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // c: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 10: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 15: 4c 89 f7                      movq    %r14, %rdi
    // 18: 48 89 de                      movq    %rbx, %rsi
    // 1b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __PyEval_CheckExceptStarTypeValid@GOTPCREL
    // 21: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 26: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 2f: 85 c0                         testl   %eax, %eax
    // 31: 0f 88 c2 00 00 00             js      0xf9 <__JIT_ENTRY+0xf9>
    // 37: 4c 89 75 f0                   movq    %r14, -0x10(%rbp)
    // 3b: 48 c7 45 f8 00 00 00 00       movq    $0x0, -0x8(%rbp)
    // 43: 48 c7 45 e8 00 00 00 00       movq    $0x0, -0x18(%rbp)
    // 4b: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 50: 48 8d 55 f8                   leaq    -0x8(%rbp), %rdx
    // 54: 48 8d 4d e8                   leaq    -0x18(%rbp), %rcx
    // 58: 4c 89 ff                      movq    %r15, %rdi
    // 5b: 48 89 de                      movq    %rbx, %rsi
    // 5e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_GOT     __PyEval_ExceptionGroupMatch@GOTPCREL
    // 64: 41 89 c6                      movl    %eax, %r14d
    // 67: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 6c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 75: 41 8b 07                      movl    (%r15), %eax
    // 78: 85 c0                         testl   %eax, %eax
    // 7a: 78 10                         js      0x8c <__JIT_ENTRY+0x8c>
    // 7c: ff c8                         decl    %eax
    // 7e: 41 89 07                      movl    %eax, (%r15)
    // 81: 75 09                         jne     0x8c <__JIT_ENTRY+0x8c>
    // 83: 4c 89 ff                      movq    %r15, %rdi
    // 86: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 8c: 8b 03                         movl    (%rbx), %eax
    // 8e: 85 c0                         testl   %eax, %eax
    // 90: 78 0a                         js      0x9c <__JIT_ENTRY+0x9c>
    // 92: ff c8                         decl    %eax
    // 94: 89 03                         movl    %eax, (%rbx)
    // 96: 0f 84 8a 00 00 00             je      0x126 <__JIT_ENTRY+0x126>
    // 9c: 45 85 f6                      testl   %r14d, %r14d
    // 9f: 0f 88 93 00 00 00             js      0x138 <__JIT_ENTRY+0x138>
    // a5: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // a9: 48 85 ff                      testq   %rdi, %rdi
    // ac: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // b0: 74 6a                         je      0x11c <__JIT_ENTRY+0x11c>
    // b2: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb9 <__JIT_ENTRY+0xb9>
    // 00000000000000b5:  X86_64_RELOC_GOT_LOAD        __Py_NoneStruct@GOTPCREL
    // b9: 48 39 c7                      cmpq    %rax, %rdi
    // bc: 74 25                         je      0xe3 <__JIT_ENTRY+0xe3>
    // be: 49 83 c5 f0                   addq    $-0x10, %r13
    // c2: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // c7: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xcd <__JIT_ENTRY+0xcd>
    // 00000000000000c9:  X86_64_RELOC_GOT     _PyErr_SetHandledException@GOTPCREL
    // cd: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // d2: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // db: 49 83 c5 10                   addq    $0x10, %r13
    // df: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // e3: 48 8b 4d e8                   movq    -0x18(%rbp), %rcx
    // e7: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // eb: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // ef: 48 83 c4 20                   addq    $0x20, %rsp
    // f3: 5d                            popq    %rbp
    // f4: e9 00 00 00 00                jmp     0xf9 <__JIT_ENTRY+0xf9>
    // 00000000000000f5:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // f9: 41 8b 07                      movl    (%r15), %eax
    // fc: 85 c0                         testl   %eax, %eax
    // fe: 78 10                         js      0x110 <__JIT_ENTRY+0x110>
    // 100: ff c8                         decl    %eax
    // 102: 41 89 07                      movl    %eax, (%r15)
    // 105: 75 09                         jne     0x110 <__JIT_ENTRY+0x110>
    // 107: 4c 89 ff                      movq    %r15, %rdi
    // 10a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x110 <__JIT_ENTRY+0x110>
    // 000000000000010c:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 110: 8b 03                         movl    (%rbx), %eax
    // 112: 85 c0                         testl   %eax, %eax
    // 114: 78 06                         js      0x11c <__JIT_ENTRY+0x11c>
    // 116: ff c8                         decl    %eax
    // 118: 89 03                         movl    %eax, (%rbx)
    // 11a: 74 2a                         je      0x146 <__JIT_ENTRY+0x146>
    // 11c: 48 83 c4 20                   addq    $0x20, %rsp
    // 120: 5d                            popq    %rbp
    // 121: e9 00 00 00 00                jmp     0x126 <__JIT_ENTRY+0x126>
    // 0000000000000122:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 126: 48 89 df                      movq    %rbx, %rdi
    // 129: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x12f <__JIT_ENTRY+0x12f>
    // 000000000000012b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 12f: 45 85 f6                      testl   %r14d, %r14d
    // 132: 0f 89 6d ff ff ff             jns     0xa5 <__JIT_ENTRY+0xa5>
    // 138: 4c 8b 75 f0                   movq    -0x10(%rbp), %r14
    // 13c: 48 83 c4 20                   addq    $0x20, %rsp
    // 140: 5d                            popq    %rbp
    // 141: e9 00 00 00 00                jmp     0x146 <__JIT_ENTRY+0x146>
    // 0000000000000142:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 146: 48 89 df                      movq    %rbx, %rdi
    // 149: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x14f <__JIT_ENTRY+0x14f>
    // 000000000000014b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 14f: 48 83 c4 20                   addq    $0x20, %rsp
    // 153: 5d                            popq    %rbp
    // 154: e9 00 00 00 00                jmp     0x159 <__JIT_ENTRY+0x159>
    // 0000000000000155:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[345] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x4d, 0x8b, 0x7d, 0xf0, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0xf7,
        0x48, 0x89, 0xde, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x85,
        0xc0, 0x0f, 0x88, 0xc2, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0x75, 0xf0, 0x48, 0xc7, 0x45, 0xf8, 0x00,
        0x00, 0x00, 0x00, 0x48, 0xc7, 0x45, 0xe8, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x48, 0x8d, 0x55, 0xf8, 0x48, 0x8d, 0x4d, 0xe8,
        0x4c, 0x89, 0xff, 0x48, 0x89, 0xde, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x89, 0xc6, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x10, 0xff, 0xc8, 0x41, 0x89,
        0x07, 0x75, 0x09, 0x4c, 0x89, 0xff, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x03, 0x85, 0xc0,
        0x78, 0x0a, 0xff, 0xc8, 0x89, 0x03, 0x0f, 0x84,
        0x8a, 0x00, 0x00, 0x00, 0x45, 0x85, 0xf6, 0x0f,
        0x88, 0x93, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x7d,
        0xf8, 0x48, 0x85, 0xff, 0x4c, 0x8b, 0x75, 0xf0,
        0x74, 0x6a, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x39, 0xc7, 0x74, 0x25, 0x49, 0x83,
        0xc5, 0xf0, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x83, 0xc5, 0x10, 0x48,
        0x8b, 0x45, 0xf8, 0x48, 0x8b, 0x4d, 0xe8, 0x49,
        0x89, 0x4d, 0xf0, 0x49, 0x89, 0x45, 0xf8, 0x48,
        0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x10,
        0xff, 0xc8, 0x41, 0x89, 0x07, 0x75, 0x09, 0x4c,
        0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x03, 0x74, 0x2a, 0x48, 0x83, 0xc4, 0x20,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x45,
        0x85, 0xf6, 0x0f, 0x89, 0x6d, 0xff, 0xff, 0xff,
        0x4c, 0x8b, 0x75, 0xf0, 0x48, 0x83, 0xc4, 0x20,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x83, 0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyErr_SetHandledException+0x0
    // 10: &_Py_NoneStruct+0x0
    // 18: &_PyEval_ExceptionGroupMatch+0x0
    // 20: &_PyEval_CheckExceptStarTypeValid+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyErr_SetHandledException);
    patch_64(data + 0x10, (uintptr_t)&_Py_NoneStruct);
    patch_64(data + 0x18, (uintptr_t)&_PyEval_ExceptionGroupMatch);
    patch_64(data + 0x20, (uintptr_t)&_PyEval_CheckExceptStarTypeValid);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x60, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x88, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xb5, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xc9, (uintptr_t)data + 0x4);
    patch_32r(code + 0xf5, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x10c, (uintptr_t)data + -0x4);
    patch_32r(code + 0x122, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x12b, (uintptr_t)data + -0x4);
    patch_32r(code + 0x142, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x14b, (uintptr_t)data + -0x4);
    patch_32r(code + 0x155, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CHECK_EXC_MATCH(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_EXC_MATCH.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 8: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // c: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 11: 4c 89 f7                      movq    %r14, %rdi
    // 14: 48 89 de                      movq    %rbx, %rsi
    // 17: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_GOT     __PyEval_CheckExceptTypeValid@GOTPCREL
    // 1d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 22: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 2b: 85 c0                         testl   %eax, %eax
    // 2d: 78 40                         js      0x6f <__JIT_ENTRY+0x6f>
    // 2f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 34: 4c 89 ff                      movq    %r15, %rdi
    // 37: 48 89 de                      movq    %rbx, %rsi
    // 3a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x40 <__JIT_ENTRY+0x40>
    // 000000000000003c:  X86_64_RELOC_GOT     _PyErr_GivenExceptionMatches@GOTPCREL
    // 40: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 45: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 4e: 8b 0b                         movl    (%rbx), %ecx
    // 50: 85 c9                         testl   %ecx, %ecx
    // 52: 78 06                         js      0x5a <__JIT_ENTRY+0x5a>
    // 54: ff c9                         decl    %ecx
    // 56: 89 0b                         movl    %ecx, (%rbx)
    // 58: 74 27                         je      0x81 <__JIT_ENTRY+0x81>
    // 5a: 85 c0                         testl   %eax, %eax
    // 5c: 75 34                         jne     0x92 <__JIT_ENTRY+0x92>
    // 5e: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x65 <__JIT_ENTRY+0x65>
    // 0000000000000061:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 65: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 69: 5d                            popq    %rbp
    // 6a: e9 00 00 00 00                jmp     0x6f <__JIT_ENTRY+0x6f>
    // 000000000000006b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 6f: 8b 03                         movl    (%rbx), %eax
    // 71: 85 c0                         testl   %eax, %eax
    // 73: 78 06                         js      0x7b <__JIT_ENTRY+0x7b>
    // 75: ff c8                         decl    %eax
    // 77: 89 03                         movl    %eax, (%rbx)
    // 79: 74 28                         je      0xa3 <__JIT_ENTRY+0xa3>
    // 7b: 5d                            popq    %rbp
    // 7c: e9 00 00 00 00                jmp     0x81 <__JIT_ENTRY+0x81>
    // 000000000000007d:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 81: 48 89 df                      movq    %rbx, %rdi
    // 84: 89 c3                         movl    %eax, %ebx
    // 86: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 8c: 89 d8                         movl    %ebx, %eax
    // 8e: 85 c0                         testl   %eax, %eax
    // 90: 74 cc                         je      0x5e <__JIT_ENTRY+0x5e>
    // 92: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x99 <__JIT_ENTRY+0x99>
    // 0000000000000095:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 99: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 9d: 5d                            popq    %rbp
    // 9e: e9 00 00 00 00                jmp     0xa3 <__JIT_ENTRY+0xa3>
    // 000000000000009f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // a3: 48 89 df                      movq    %rbx, %rdi
    // a6: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xac <__JIT_ENTRY+0xac>
    // 00000000000000a8:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ac: 5d                            popq    %rbp
    // ad: e9 00 00 00 00                jmp     0xb2 <__JIT_ENTRY+0xb2>
    // 00000000000000ae:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[178] = {
        0x55, 0x48, 0x89, 0xe5, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x4c, 0x89, 0xf7, 0x48, 0x89, 0xde, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x85, 0xc0, 0x78, 0x40, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0xff, 0x48,
        0x89, 0xde, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b,
        0x85, 0xc9, 0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b,
        0x74, 0x27, 0x85, 0xc0, 0x75, 0x34, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x45,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x03, 0x74, 0x28, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0x89, 0xc3, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x89, 0xd8, 0x85, 0xc0,
        0x74, 0xcc, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x45, 0xf8, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: &PyErr_GivenExceptionMatches+0x0
    // 20: &_PyEval_CheckExceptTypeValid+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, (uintptr_t)&PyErr_GivenExceptionMatches);
    patch_64(data + 0x20, (uintptr_t)&_PyEval_CheckExceptTypeValid);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x19, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x3c, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x61, (uintptr_t)data + 0xc);
    patch_32r(code + 0x6b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x7d, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x88, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x95, (uintptr_t)data + 0x4);
    patch_32r(code + 0x9f, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xa8, (uintptr_t)data + -0x4);
    patch_32r(code + 0xae, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CHECK_FUNCTION(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_FUNCTION.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 10                movq    0x10(%r12), %rax
    // 9: 8b 80 90 00 00 00             movl    0x90(%rax), %eax
    // f: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 15: 75 06                         jne     0x1d <__JIT_ENTRY+0x1d>
    // 17: 5d                            popq    %rbp
    // 18: e9 00 00 00 00                jmp     0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1d: 5d                            popq    %rbp
    // 1e: e9 00 00 00 00                jmp     0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[35] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x10, 0x8b, 0x80, 0x90, 0x00, 0x00, 0x00, 0x3b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x75, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x11, (uintptr_t)data + -0x4);
    patch_32r(code + 0x19, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x1f, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_FUNCTION_EXACT_ARGS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_FUNCTION_EXACT_ARGS.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 89 c1                         movl    %eax, %ecx
    // d: f7 d1                         notl    %ecx
    // f: 48 63 c9                      movslq  %ecx, %rcx
    // 12: ba fe ff ff ff                movl    $0xfffffffe, %edx       ## imm = 0xFFFFFFFE
    // 17: 29 c2                         subl    %eax, %edx
    // 19: 48 63 d2                      movslq  %edx, %rdx
    // 1c: 49 8b 54 d5 00                movq    (%r13,%rdx,8), %rdx
    // 21: 48 8b 52 30                   movq    0x30(%rdx), %rdx
    // 25: 49 83 7c cd 00 01             cmpq    $0x1, (%r13,%rcx,8)
    // 2b: 83 d8 ff                      sbbl    $-0x1, %eax
    // 2e: 39 42 34                      cmpl    %eax, 0x34(%rdx)
    // 31: 75 06                         jne     0x39 <__JIT_ENTRY+0x39>
    // 33: 5d                            popq    %rbp
    // 34: e9 00 00 00 00                jmp     0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[63] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x89, 0xc1, 0xf7, 0xd1, 0x48,
        0x63, 0xc9, 0xba, 0xfe, 0xff, 0xff, 0xff, 0x29,
        0xc2, 0x48, 0x63, 0xd2, 0x49, 0x8b, 0x54, 0xd5,
        0x00, 0x48, 0x8b, 0x52, 0x30, 0x49, 0x83, 0x7c,
        0xcd, 0x00, 0x01, 0x83, 0xd8, 0xff, 0x39, 0x42,
        0x34, 0x75, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
    patch_32r(code + 0x35, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x3b, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_FUNCTION_VERSION(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_FUNCTION_VERSION.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 48 c7 c1 fe ff ff ff          movq    $-0x2, %rcx
    // 12: 48 29 c1                      subq    %rax, %rcx
    // 15: 49 8b 44 cd 00                movq    (%r13,%rcx,8), %rax
    // 1a: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // 1e: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyFunction_Type@GOTPCREL
    // 25: 75 14                         jne     0x3b <__JIT_ENTRY+0x3b>
    // 27: 8b 80 90 00 00 00             movl    0x90(%rax), %eax
    // 2d: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x33 <__JIT_ENTRY+0x33>
    // 000000000000002f:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 33: 75 06                         jne     0x3b <__JIT_ENTRY+0x3b>
    // 35: 5d                            popq    %rbp
    // 36: e9 00 00 00 00                jmp     0x3b <__JIT_ENTRY+0x3b>
    // 0000000000000037:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3b: 5d                            popq    %rbp
    // 3c: e9 00 00 00 00                jmp     0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[65] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0xc7, 0xc1, 0xfe, 0xff,
        0xff, 0xff, 0x48, 0x29, 0xc1, 0x49, 0x8b, 0x44,
        0xcd, 0x00, 0x48, 0x8b, 0x48, 0x08, 0x48, 0x3b,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0x75, 0x14, 0x8b,
        0x80, 0x90, 0x00, 0x00, 0x00, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: OPERAND0
    // 8: &PyFunction_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyFunction_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2f, (uintptr_t)data + -0x4);
    patch_32r(code + 0x37, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x3d, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_FUNCTION_VERSION_INLINE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_FUNCTION_VERSION_INLINE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND1@GOTPCREL
    // b: 8b 80 90 00 00 00             movl    0x90(%rax), %eax
    // 11: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 17: 75 06                         jne     0x1f <__JIT_ENTRY+0x1f>
    // 19: 5d                            popq    %rbp
    // 1a: e9 00 00 00 00                jmp     0x1f <__JIT_ENTRY+0x1f>
    // 000000000000001b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1f: 5d                            popq    %rbp
    // 20: e9 00 00 00 00                jmp     0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[37] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x80, 0x90, 0x00, 0x00,
        0x00, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x75,
        0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPERAND0
    // 8: OPERAND1
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, instruction->operand1);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + -0x4);
    patch_32r(code + 0x1b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x21, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_FUNCTION_VERSION_KW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_FUNCTION_VERSION_KW.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 48 c7 c1 fd ff ff ff          movq    $-0x3, %rcx
    // 12: 48 29 c1                      subq    %rax, %rcx
    // 15: 49 8b 44 cd 00                movq    (%r13,%rcx,8), %rax
    // 1a: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // 1e: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyFunction_Type@GOTPCREL
    // 25: 75 14                         jne     0x3b <__JIT_ENTRY+0x3b>
    // 27: 8b 80 90 00 00 00             movl    0x90(%rax), %eax
    // 2d: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x33 <__JIT_ENTRY+0x33>
    // 000000000000002f:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 33: 75 06                         jne     0x3b <__JIT_ENTRY+0x3b>
    // 35: 5d                            popq    %rbp
    // 36: e9 00 00 00 00                jmp     0x3b <__JIT_ENTRY+0x3b>
    // 0000000000000037:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3b: 5d                            popq    %rbp
    // 3c: e9 00 00 00 00                jmp     0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[65] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0xc7, 0xc1, 0xfd, 0xff,
        0xff, 0xff, 0x48, 0x29, 0xc1, 0x49, 0x8b, 0x44,
        0xcd, 0x00, 0x48, 0x8b, 0x48, 0x08, 0x48, 0x3b,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0x75, 0x14, 0x8b,
        0x80, 0x90, 0x00, 0x00, 0x00, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: OPERAND0
    // 8: &PyFunction_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyFunction_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2f, (uintptr_t)data + -0x4);
    patch_32r(code + 0x37, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x3d, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_IS_NOT_PY_CALLABLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_IS_NOT_PY_CALLABLE.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 48 c7 c1 fe ff ff ff          movq    $-0x2, %rcx
    // 12: 48 29 c1                      subq    %rax, %rcx
    // 15: 49 8b 44 cd 00                movq    (%r13,%rcx,8), %rax
    // 1a: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 1e: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyFunction_Type@GOTPCREL
    // 25: 74 0f                         je      0x36 <__JIT_ENTRY+0x36>
    // 27: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x2e <__JIT_ENTRY+0x2e>
    // 000000000000002a:  X86_64_RELOC_GOT     _PyMethod_Type@GOTPCREL
    // 2e: 74 06                         je      0x36 <__JIT_ENTRY+0x36>
    // 30: 5d                            popq    %rbp
    // 31: e9 00 00 00 00                jmp     0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 36: 5d                            popq    %rbp
    // 37: e9 00 00 00 00                jmp     0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[60] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0xc7, 0xc1, 0xfe, 0xff,
        0xff, 0xff, 0x48, 0x29, 0xc1, 0x49, 0x8b, 0x44,
        0xcd, 0x00, 0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x74, 0x0f, 0x48,
        0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x74, 0x06,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &PyMethod_Type+0x0
    // 8: &PyFunction_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyMethod_Type);
    patch_64(data + 0x8, (uintptr_t)&PyFunction_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2a, (uintptr_t)data + -0x4);
    patch_32r(code + 0x32, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x38, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_IS_NOT_PY_CALLABLE_KW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_IS_NOT_PY_CALLABLE_KW.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 48 c7 c1 fd ff ff ff          movq    $-0x3, %rcx
    // 12: 48 29 c1                      subq    %rax, %rcx
    // 15: 49 8b 44 cd 00                movq    (%r13,%rcx,8), %rax
    // 1a: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 1e: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyFunction_Type@GOTPCREL
    // 25: 74 0f                         je      0x36 <__JIT_ENTRY+0x36>
    // 27: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x2e <__JIT_ENTRY+0x2e>
    // 000000000000002a:  X86_64_RELOC_GOT     _PyMethod_Type@GOTPCREL
    // 2e: 74 06                         je      0x36 <__JIT_ENTRY+0x36>
    // 30: 5d                            popq    %rbp
    // 31: e9 00 00 00 00                jmp     0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 36: 5d                            popq    %rbp
    // 37: e9 00 00 00 00                jmp     0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[60] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0xc7, 0xc1, 0xfd, 0xff,
        0xff, 0xff, 0x48, 0x29, 0xc1, 0x49, 0x8b, 0x44,
        0xcd, 0x00, 0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x74, 0x0f, 0x48,
        0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x74, 0x06,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &PyMethod_Type+0x0
    // 8: &PyFunction_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyMethod_Type);
    patch_64(data + 0x8, (uintptr_t)&PyFunction_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2a, (uintptr_t)data + -0x4);
    patch_32r(code + 0x32, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x38, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_MANAGED_OBJECT_HAS_VALUES(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_MANAGED_OBJECT_HAS_VALUES.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // c: 48 8b 49 20                   movq    0x20(%rcx), %rcx
    // 10: 80 7c 08 03 00                cmpb    $0x0, 0x3(%rax,%rcx)
    // 15: 74 06                         je      0x1d <__JIT_ENTRY+0x1d>
    // 17: 5d                            popq    %rbp
    // 18: e9 00 00 00 00                jmp     0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1d: 5d                            popq    %rbp
    // 1e: e9 00 00 00 00                jmp     0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[35] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x08, 0x48, 0x8b, 0x49, 0x20,
        0x80, 0x7c, 0x08, 0x03, 0x00, 0x74, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x19, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x1f, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_METHOD_VERSION(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_METHOD_VERSION.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 10: 29 c1                         subl    %eax, %ecx
    // 12: 48 63 c9                      movslq  %ecx, %rcx
    // 15: 49 8b 4c cd 00                movq    (%r13,%rcx,8), %rcx
    // 1a: 48 8b 51 08                   movq    0x8(%rcx), %rdx
    // 1e: 48 3b 15 00 00 00 00          cmpq    (%rip), %rdx            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyMethod_Type@GOTPCREL
    // 25: 75 2b                         jne     0x52 <__JIT_ENTRY+0x52>
    // 27: 48 8b 49 10                   movq    0x10(%rcx), %rcx
    // 2b: 48 8b 51 08                   movq    0x8(%rcx), %rdx
    // 2f: 48 3b 15 00 00 00 00          cmpq    (%rip), %rdx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT     _PyFunction_Type@GOTPCREL
    // 36: 75 1a                         jne     0x52 <__JIT_ENTRY+0x52>
    // 38: 8b 89 90 00 00 00             movl    0x90(%rcx), %ecx
    // 3e: 3b 0d 00 00 00 00             cmpl    (%rip), %ecx            ## 0x44 <__JIT_ENTRY+0x44>
    // 0000000000000040:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 44: 75 0c                         jne     0x52 <__JIT_ENTRY+0x52>
    // 46: f7 d0                         notl    %eax
    // 48: 48 98                         cltq
    // 4a: 49 83 7c c5 00 00             cmpq    $0x0, (%r13,%rax,8)
    // 50: 74 06                         je      0x58 <__JIT_ENTRY+0x58>
    // 52: 5d                            popq    %rbp
    // 53: e9 00 00 00 00                jmp     0x58 <__JIT_ENTRY+0x58>
    // 0000000000000054:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 58: 5d                            popq    %rbp
    // 59: e9 00 00 00 00                jmp     0x5e <__JIT_ENTRY+0x5e>
    // 000000000000005a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[89] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xb9, 0xfe, 0xff, 0xff, 0xff,
        0x29, 0xc1, 0x48, 0x63, 0xc9, 0x49, 0x8b, 0x4c,
        0xcd, 0x00, 0x48, 0x8b, 0x51, 0x08, 0x48, 0x3b,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x75, 0x2b, 0x48,
        0x8b, 0x49, 0x10, 0x48, 0x8b, 0x51, 0x08, 0x48,
        0x3b, 0x15, 0x00, 0x00, 0x00, 0x00, 0x75, 0x1a,
        0x8b, 0x89, 0x90, 0x00, 0x00, 0x00, 0x3b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x75, 0x0c, 0xf7, 0xd0,
        0x48, 0x98, 0x49, 0x83, 0x7c, 0xc5, 0x00, 0x00,
        0x74, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x5d,
    };
    // 0: OPERAND0
    // 8: &PyFunction_Type+0x0
    // 10: &PyMethod_Type+0x0
    // 18: OPARG
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyFunction_Type);
    patch_64(data + 0x10, (uintptr_t)&PyMethod_Type);
    patch_64(data + 0x18, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x40, (uintptr_t)data + -0x4);
    patch_32r(code + 0x54, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_METHOD_VERSION_KW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_METHOD_VERSION_KW.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: b9 fd ff ff ff                movl    $0xfffffffd, %ecx       ## imm = 0xFFFFFFFD
    // 10: 29 c1                         subl    %eax, %ecx
    // 12: 48 63 c9                      movslq  %ecx, %rcx
    // 15: 49 8b 4c cd 00                movq    (%r13,%rcx,8), %rcx
    // 1a: 48 8b 51 08                   movq    0x8(%rcx), %rdx
    // 1e: 48 3b 15 00 00 00 00          cmpq    (%rip), %rdx            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyMethod_Type@GOTPCREL
    // 25: 75 31                         jne     0x58 <__JIT_ENTRY+0x58>
    // 27: 48 8b 49 10                   movq    0x10(%rcx), %rcx
    // 2b: 48 8b 51 08                   movq    0x8(%rcx), %rdx
    // 2f: 48 3b 15 00 00 00 00          cmpq    (%rip), %rdx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT     _PyFunction_Type@GOTPCREL
    // 36: 75 20                         jne     0x58 <__JIT_ENTRY+0x58>
    // 38: 8b 89 90 00 00 00             movl    0x90(%rcx), %ecx
    // 3e: 3b 0d 00 00 00 00             cmpl    (%rip), %ecx            ## 0x44 <__JIT_ENTRY+0x44>
    // 0000000000000040:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 44: 75 12                         jne     0x58 <__JIT_ENTRY+0x58>
    // 46: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 4b: 29 c1                         subl    %eax, %ecx
    // 4d: 48 63 c1                      movslq  %ecx, %rax
    // 50: 49 83 7c c5 00 00             cmpq    $0x0, (%r13,%rax,8)
    // 56: 74 06                         je      0x5e <__JIT_ENTRY+0x5e>
    // 58: 5d                            popq    %rbp
    // 59: e9 00 00 00 00                jmp     0x5e <__JIT_ENTRY+0x5e>
    // 000000000000005a:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 5e: 5d                            popq    %rbp
    // 5f: e9 00 00 00 00                jmp     0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[95] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xb9, 0xfd, 0xff, 0xff, 0xff,
        0x29, 0xc1, 0x48, 0x63, 0xc9, 0x49, 0x8b, 0x4c,
        0xcd, 0x00, 0x48, 0x8b, 0x51, 0x08, 0x48, 0x3b,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x75, 0x31, 0x48,
        0x8b, 0x49, 0x10, 0x48, 0x8b, 0x51, 0x08, 0x48,
        0x3b, 0x15, 0x00, 0x00, 0x00, 0x00, 0x75, 0x20,
        0x8b, 0x89, 0x90, 0x00, 0x00, 0x00, 0x3b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x75, 0x12, 0xb9, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xc1, 0x48, 0x63, 0xc1,
        0x49, 0x83, 0x7c, 0xc5, 0x00, 0x00, 0x74, 0x06,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: OPERAND0
    // 8: &PyFunction_Type+0x0
    // 10: &PyMethod_Type+0x0
    // 18: OPARG
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyFunction_Type);
    patch_64(data + 0x10, (uintptr_t)&PyMethod_Type);
    patch_64(data + 0x18, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x40, (uintptr_t)data + -0x4);
    patch_32r(code + 0x5a, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_PEP_523(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_PEP_523.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 46 10                   movq    0x10(%r14), %rax
    // 8: 48 83 b8 48 21 00 00 00       cmpq    $0x0, 0x2148(%rax)
    // 10: 74 06                         je      0x18 <__JIT_ENTRY+0x18>
    // 12: 5d                            popq    %rbp
    // 13: e9 00 00 00 00                jmp     0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 18: 5d                            popq    %rbp
    // 19: e9 00 00 00 00                jmp     0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[25] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x46, 0x10,
        0x48, 0x83, 0xb8, 0x48, 0x21, 0x00, 0x00, 0x00,
        0x74, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x14, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_PERIODIC(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_PERIODIC.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 46 18                   movq    0x18(%r14), %rax
    // 4: 84 c0                         testb   %al, %al
    // 6: 0f 84 00 00 00 00             je      0xc <__JIT_ENTRY+0xc>
    // 0000000000000008:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // c: 55                            pushq   %rbp
    // d: 48 89 e5                      movq    %rsp, %rbp
    // 10: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 15: 4c 89 f7                      movq    %r14, %rdi
    // 18: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_GOT     __Py_HandlePending@GOTPCREL
    // 1e: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 23: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 2c: 85 c0                         testl   %eax, %eax
    // 2e: 5d                            popq    %rbp
    // 2f: 0f 84 00 00 00 00             je      0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 35: e9 00 00 00 00                jmp     0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[58] = {
        0x49, 0x8b, 0x46, 0x18, 0x84, 0xc0, 0x0f, 0x84,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0xf7,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x85, 0xc0, 0x5d, 0x0f,
        0x84, 0x00, 0x00, 0x00, 0x00, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_HandlePending+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_HandlePending);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x8, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x1a, (uintptr_t)data + -0x4);
    patch_32r(code + 0x31, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x36, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CHECK_PERIODIC_IF_NOT_YIELD_FROM(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_PERIODIC_IF_NOT_YIELD_FROM.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: a8 02                         testb   $0x2, %al
    // 9: 0f 85 00 00 00 00             jne     0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // f: 49 8b 46 18                   movq    0x18(%r14), %rax
    // 13: 84 c0                         testb   %al, %al
    // 15: 0f 84 00 00 00 00             je      0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 55                            pushq   %rbp
    // 1c: 48 89 e5                      movq    %rsp, %rbp
    // 1f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 24: 4c 89 f7                      movq    %r14, %rdi
    // 27: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2d <__JIT_ENTRY+0x2d>
    // 0000000000000029:  X86_64_RELOC_GOT     __Py_HandlePending@GOTPCREL
    // 2d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 32: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3b: 85 c0                         testl   %eax, %eax
    // 3d: 5d                            popq    %rbp
    // 3e: 0f 84 00 00 00 00             je      0x44 <__JIT_ENTRY+0x44>
    // 0000000000000040:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 44: e9 00 00 00 00                jmp     0x49 <__JIT_ENTRY+0x49>
    // 0000000000000045:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[73] = {
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0xa8,
        0x02, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8b, 0x46, 0x18, 0x84, 0xc0, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0xf7, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x85, 0xc0, 0x5d, 0x0f, 0x84,
        0x00, 0x00, 0x00, 0x00, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_HandlePending+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_HandlePending);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0x4);
    patch_32r(code + 0xb, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x29, (uintptr_t)data + -0x4);
    patch_32r(code + 0x40, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x45, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CHECK_STACK_SPACE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_STACK_SPACE.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 86 f0 00 00 00          movq    0xf0(%r14), %rax
    // b: 48 85 c0                      testq   %rax, %rax
    // e: 74 38                         je      0x48 <__JIT_ENTRY+0x48>
    // 10: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 17: 48 c7 c2 fe ff ff ff          movq    $-0x2, %rdx
    // 1e: 48 29 ca                      subq    %rcx, %rdx
    // 21: 49 8b 4c d5 00                movq    (%r13,%rdx,8), %rcx
    // 26: 48 8b 49 30                   movq    0x30(%rcx), %rcx
    // 2a: 48 63 49 4c                   movslq  0x4c(%rcx), %rcx
    // 2e: 49 8b 96 f8 00 00 00          movq    0xf8(%r14), %rdx
    // 35: 48 29 c2                      subq    %rax, %rdx
    // 38: 48 c1 fa 03                   sarq    $0x3, %rdx
    // 3c: 48 39 ca                      cmpq    %rcx, %rdx
    // 3f: 7e 07                         jle     0x48 <__JIT_ENTRY+0x48>
    // 41: 41 83 7e 2c 01                cmpl    $0x1, 0x2c(%r14)
    // 46: 7f 06                         jg      0x4e <__JIT_ENTRY+0x4e>
    // 48: 5d                            popq    %rbp
    // 49: e9 00 00 00 00                jmp     0x4e <__JIT_ENTRY+0x4e>
    // 000000000000004a:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 4e: 5d                            popq    %rbp
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[79] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x86, 0xf0,
        0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x38,
        0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48,
        0xc7, 0xc2, 0xfe, 0xff, 0xff, 0xff, 0x48, 0x29,
        0xca, 0x49, 0x8b, 0x4c, 0xd5, 0x00, 0x48, 0x8b,
        0x49, 0x30, 0x48, 0x63, 0x49, 0x4c, 0x49, 0x8b,
        0x96, 0xf8, 0x00, 0x00, 0x00, 0x48, 0x29, 0xc2,
        0x48, 0xc1, 0xfa, 0x03, 0x48, 0x39, 0xca, 0x7e,
        0x07, 0x41, 0x83, 0x7e, 0x2c, 0x01, 0x7f, 0x06,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + -0x4);
    patch_32r(code + 0x4a, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_STACK_SPACE_OPERAND(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_STACK_SPACE_OPERAND.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 86 f0 00 00 00          movq    0xf0(%r14), %rax
    // b: 48 85 c0                      testq   %rax, %rax
    // e: 74 21                         je      0x31 <__JIT_ENTRY+0x31>
    // 10: 48 63 0d 00 00 00 00          movslq  (%rip), %rcx            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 17: 49 8b 96 f8 00 00 00          movq    0xf8(%r14), %rdx
    // 1e: 48 29 c2                      subq    %rax, %rdx
    // 21: 48 c1 fa 03                   sarq    $0x3, %rdx
    // 25: 48 39 ca                      cmpq    %rcx, %rdx
    // 28: 7e 07                         jle     0x31 <__JIT_ENTRY+0x31>
    // 2a: 41 83 7e 2c 01                cmpl    $0x1, 0x2c(%r14)
    // 2f: 7f 06                         jg      0x37 <__JIT_ENTRY+0x37>
    // 31: 5d                            popq    %rbp
    // 32: e9 00 00 00 00                jmp     0x37 <__JIT_ENTRY+0x37>
    // 0000000000000033:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 37: 5d                            popq    %rbp
    // 38: e9 00 00 00 00                jmp     0x3d <__JIT_ENTRY+0x3d>
    // 0000000000000039:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[56] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x86, 0xf0,
        0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x21,
        0x48, 0x63, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8b, 0x96, 0xf8, 0x00, 0x00, 0x00, 0x48, 0x29,
        0xc2, 0x48, 0xc1, 0xfa, 0x03, 0x48, 0x39, 0xca,
        0x7e, 0x07, 0x41, 0x83, 0x7e, 0x2c, 0x01, 0x7f,
        0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + -0x4);
    patch_32r(code + 0x33, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_VALIDITY(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_VALIDITY.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // b: f6 40 22 01                   testb   $0x1, 0x22(%rax)
    // f: 75 06                         jne     0x17 <__JIT_ENTRY+0x17>
    // 11: 5d                            popq    %rbp
    // 12: e9 00 00 00 00                jmp     0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 17: 5d                            popq    %rbp
    // 18: e9 00 00 00 00                jmp     0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[24] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xf6, 0x40, 0x22, 0x01, 0x75,
        0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: EXECUTOR
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)executor);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
    patch_32r(code + 0x13, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__CHECK_VALIDITY_AND_SET_IP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CHECK_VALIDITY_AND_SET_IP.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // b: f6 40 22 01                   testb   $0x1, 0x22(%rax)
    // f: 75 06                         jne     0x17 <__JIT_ENTRY+0x17>
    // 11: 5d                            popq    %rbp
    // 12: e9 00 00 00 00                jmp     0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 17: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 1e: 49 89 44 24 38                movq    %rax, 0x38(%r12)
    // 23: 5d                            popq    %rbp
    // 24: e9 00 00 00 00                jmp     0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[36] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xf6, 0x40, 0x22, 0x01, 0x75,
        0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89,
        0x44, 0x24, 0x38, 0x5d,
    };
    // 0: OPERAND0
    // 8: EXECUTOR
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)executor);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x13, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x1a, (uintptr_t)data + -0x4);
}

void
emit__COMPARE_OP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _COMPARE_OP.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 44 0f b7 35 00 00 00 00       movzwl  (%rip), %r14d           ## 0x14 <__JIT_ENTRY+0x14>
    // 0000000000000010:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 14: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 18: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 1c: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 21: 44 89 f2                      movl    %r14d, %edx
    // 24: c1 ea 05                      shrl    $0x5, %edx
    // 27: 48 89 df                      movq    %rbx, %rdi
    // 2a: 4c 89 fe                      movq    %r15, %rsi
    // 2d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x33 <__JIT_ENTRY+0x33>
    // 000000000000002f:  X86_64_RELOC_GOT     _PyObject_RichCompare@GOTPCREL
    // 33: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 38: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 41: 8b 0b                         movl    (%rbx), %ecx
    // 43: 85 c9                         testl   %ecx, %ecx
    // 45: 78 17                         js      0x5e <__JIT_ENTRY+0x5e>
    // 47: ff c9                         decl    %ecx
    // 49: 89 0b                         movl    %ecx, (%rbx)
    // 4b: 75 11                         jne     0x5e <__JIT_ENTRY+0x5e>
    // 4d: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // 51: 48 89 df                      movq    %rbx, %rdi
    // 54: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5a <__JIT_ENTRY+0x5a>
    // 0000000000000056:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5a: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // 5e: 41 8b 0f                      movl    (%r15), %ecx
    // 61: 85 c9                         testl   %ecx, %ecx
    // 63: 78 07                         js      0x6c <__JIT_ENTRY+0x6c>
    // 65: ff c9                         decl    %ecx
    // 67: 41 89 0f                      movl    %ecx, (%r15)
    // 6a: 74 4d                         je      0xb9 <__JIT_ENTRY+0xb9>
    // 6c: 48 85 c0                      testq   %rax, %rax
    // 6f: 0f 84 88 00 00 00             je      0xfd <__JIT_ENTRY+0xfd>
    // 75: 49 83 c5 f0                   addq    $-0x10, %r13
    // 79: 41 f6 c6 10                   testb   $0x10, %r14b
    // 7d: 74 57                         je      0xd6 <__JIT_ENTRY+0xd6>
    // 7f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 84: 48 89 c3                      movq    %rax, %rbx
    // 87: 48 89 c7                      movq    %rax, %rdi
    // 8a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x90 <__JIT_ENTRY+0x90>
    // 000000000000008c:  X86_64_RELOC_GOT     _PyObject_IsTrue@GOTPCREL
    // 90: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 95: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 9e: 8b 0b                         movl    (%rbx), %ecx
    // a0: 85 c9                         testl   %ecx, %ecx
    // a2: 78 06                         js      0xaa <__JIT_ENTRY+0xaa>
    // a4: ff c9                         decl    %ecx
    // a6: 89 0b                         movl    %ecx, (%rbx)
    // a8: 74 42                         je      0xec <__JIT_ENTRY+0xec>
    // aa: 85 c0                         testl   %eax, %eax
    // ac: 78 4f                         js      0xfd <__JIT_ENTRY+0xfd>
    // ae: 75 1f                         jne     0xcf <__JIT_ENTRY+0xcf>
    // b0: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb7 <__JIT_ENTRY+0xb7>
    // 00000000000000b3:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // b7: eb 1d                         jmp     0xd6 <__JIT_ENTRY+0xd6>
    // b9: 48 89 c3                      movq    %rax, %rbx
    // bc: 4c 89 ff                      movq    %r15, %rdi
    // bf: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xc5 <__JIT_ENTRY+0xc5>
    // 00000000000000c1:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // c5: 48 89 d8                      movq    %rbx, %rax
    // c8: 48 85 c0                      testq   %rax, %rax
    // cb: 75 a8                         jne     0x75 <__JIT_ENTRY+0x75>
    // cd: eb 2e                         jmp     0xfd <__JIT_ENTRY+0xfd>
    // cf: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xd6 <__JIT_ENTRY+0xd6>
    // 00000000000000d2:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // d6: 49 89 45 00                   movq    %rax, (%r13)
    // da: 49 83 c5 08                   addq    $0x8, %r13
    // de: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // e2: 48 83 c4 10                   addq    $0x10, %rsp
    // e6: 5d                            popq    %rbp
    // e7: e9 00 00 00 00                jmp     0xec <__JIT_ENTRY+0xec>
    // 00000000000000e8:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // ec: 48 89 df                      movq    %rbx, %rdi
    // ef: 89 c3                         movl    %eax, %ebx
    // f1: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xf7 <__JIT_ENTRY+0xf7>
    // 00000000000000f3:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // f7: 89 d8                         movl    %ebx, %eax
    // f9: 85 c0                         testl   %eax, %eax
    // fb: 79 b1                         jns     0xae <__JIT_ENTRY+0xae>
    // fd: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 101: 48 83 c4 10                   addq    $0x10, %rsp
    // 105: 5d                            popq    %rbp
    // 106: e9 00 00 00 00                jmp     0x10b <__JIT_ENTRY+0x10b>
    // 0000000000000107:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[267] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x44, 0x0f, 0xb7, 0x35,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d, 0xf0,
        0x4d, 0x8b, 0x7d, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x44, 0x89, 0xf2, 0xc1, 0xea, 0x05, 0x48,
        0x89, 0xdf, 0x4c, 0x89, 0xfe, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x17, 0xff,
        0xc9, 0x89, 0x0b, 0x75, 0x11, 0x48, 0x89, 0x45,
        0xf0, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x45, 0xf0, 0x41, 0x8b,
        0x0f, 0x85, 0xc9, 0x78, 0x07, 0xff, 0xc9, 0x41,
        0x89, 0x0f, 0x74, 0x4d, 0x48, 0x85, 0xc0, 0x0f,
        0x84, 0x88, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc5,
        0xf0, 0x41, 0xf6, 0xc6, 0x10, 0x74, 0x57, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xc3, 0x48,
        0x89, 0xc7, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b,
        0x85, 0xc9, 0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b,
        0x74, 0x42, 0x85, 0xc0, 0x78, 0x4f, 0x75, 0x1f,
        0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0xeb,
        0x1d, 0x48, 0x89, 0xc3, 0x4c, 0x89, 0xff, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xd8,
        0x48, 0x85, 0xc0, 0x75, 0xa8, 0xeb, 0x2e, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0x89,
        0xc3, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xd8, 0x85, 0xc0, 0x79, 0xb1, 0x4c, 0x8b, 0x75,
        0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: &PyObject_IsTrue+0x0
    // 20: &PyObject_RichCompare+0x0
    // 28: OPARG
    const unsigned char data_body[48] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, (uintptr_t)&PyObject_IsTrue);
    patch_64(data + 0x20, (uintptr_t)&PyObject_RichCompare);
    patch_64(data + 0x28, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x10, (uintptr_t)data + 0x24);
    patch_x86_64_32rx(code + 0x2f, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x56, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x8c, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0xb3, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xc1, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xd2, (uintptr_t)data + 0x4);
    patch_32r(code + 0xe8, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xf3, (uintptr_t)data + -0x4);
    patch_32r(code + 0x107, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__COMPARE_OP_FLOAT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _COMPARE_OP_FLOAT.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // c: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 10: f2 41 0f 10 47 10             movsd   0x10(%r15), %xmm0
    // 16: f2 0f 10 4b 10                movsd   0x10(%rbx), %xmm1
    // 1b: 41 8b 07                      movl    (%r15), %eax
    // 1e: 85 c0                         testl   %eax, %eax
    // 20: 78 48                         js      0x6a <__JIT_ENTRY+0x6a>
    // 22: ff c8                         decl    %eax
    // 24: 41 89 07                      movl    %eax, (%r15)
    // 27: 75 41                         jne     0x6a <__JIT_ENTRY+0x6a>
    // 29: f2 0f 11 4d f8                movsd   %xmm1, -0x8(%rbp)
    // 2e: f2 0f 11 45 f0                movsd   %xmm0, -0x10(%rbp)
    // 33: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 3a: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 41: 48 85 c0                      testq   %rax, %rax
    // 44: 74 11                         je      0x57 <__JIT_ENTRY+0x57>
    // 46: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 4d: 4c 89 ff                      movq    %r15, %rdi
    // 50: be 01 00 00 00                movl    $0x1, %esi
    // 55: ff d0                         callq   *%rax
    // 57: 4c 89 ff                      movq    %r15, %rdi
    // 5a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x60 <__JIT_ENTRY+0x60>
    // 000000000000005c:  X86_64_RELOC_GOT     __PyFloat_ExactDealloc@GOTPCREL
    // 60: f2 0f 10 45 f0                movsd   -0x10(%rbp), %xmm0
    // 65: f2 0f 10 4d f8                movsd   -0x8(%rbp), %xmm1
    // 6a: 8b 03                         movl    (%rbx), %eax
    // 6c: 85 c0                         testl   %eax, %eax
    // 6e: 78 47                         js      0xb7 <__JIT_ENTRY+0xb7>
    // 70: ff c8                         decl    %eax
    // 72: 89 03                         movl    %eax, (%rbx)
    // 74: 75 41                         jne     0xb7 <__JIT_ENTRY+0xb7>
    // 76: f2 0f 11 4d f8                movsd   %xmm1, -0x8(%rbp)
    // 7b: f2 0f 11 45 f0                movsd   %xmm0, -0x10(%rbp)
    // 80: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x87 <__JIT_ENTRY+0x87>
    // 0000000000000083:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 87: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 8e: 48 85 c0                      testq   %rax, %rax
    // 91: 74 11                         je      0xa4 <__JIT_ENTRY+0xa4>
    // 93: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 9a: 48 89 df                      movq    %rbx, %rdi
    // 9d: be 01 00 00 00                movl    $0x1, %esi
    // a2: ff d0                         callq   *%rax
    // a4: 48 89 df                      movq    %rbx, %rdi
    // a7: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xad <__JIT_ENTRY+0xad>
    // 00000000000000a9:  X86_64_RELOC_GOT     __PyFloat_ExactDealloc@GOTPCREL
    // ad: f2 0f 10 45 f0                movsd   -0x10(%rbp), %xmm0
    // b2: f2 0f 10 4d f8                movsd   -0x8(%rbp), %xmm1
    // b7: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // bb: 31 c9                         xorl    %ecx, %ecx
    // bd: 66 0f 2e c1                   ucomisd %xmm1, %xmm0
    // c1: 0f 93 c1                      setae   %cl
    // c4: 01 c9                         addl    %ecx, %ecx
    // c6: 31 d2                         xorl    %edx, %edx
    // c8: 66 0f 2e c8                   ucomisd %xmm0, %xmm1
    // cc: 0f 93 c2                      setae   %dl
    // cf: 09 ca                         orl     %ecx, %edx
    // d1: 8b 0d 00 00 00 00             movl    (%rip), %ecx            ## 0xd7 <__JIT_ENTRY+0xd7>
    // 00000000000000d3:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // d7: 0f a3 d1                      btl     %edx, %ecx
    // da: 72 09                         jb      0xe5 <__JIT_ENTRY+0xe5>
    // dc: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xe3 <__JIT_ENTRY+0xe3>
    // 00000000000000df:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // e3: eb 07                         jmp     0xec <__JIT_ENTRY+0xec>
    // e5: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xec <__JIT_ENTRY+0xec>
    // 00000000000000e8:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // ec: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // f0: 49 89 c5                      movq    %rax, %r13
    // f3: 48 83 c4 10                   addq    $0x10, %rsp
    // f7: 5d                            popq    %rbp
    // f8: e9 00 00 00 00                jmp     0xfd <__JIT_ENTRY+0xfd>
    // 00000000000000f9:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[248] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4d, 0x8b, 0x7d, 0xf0, 0x49, 0x8b, 0x5d, 0xf8,
        0xf2, 0x41, 0x0f, 0x10, 0x47, 0x10, 0xf2, 0x0f,
        0x10, 0x4b, 0x10, 0x41, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x48, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x75,
        0x41, 0xf2, 0x0f, 0x11, 0x4d, 0xf8, 0xf2, 0x0f,
        0x11, 0x45, 0xf0, 0x48, 0x8b, 0x0d, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x81, 0xf8, 0x25, 0x00,
        0x00, 0x48, 0x85, 0xc0, 0x74, 0x11, 0x48, 0x8b,
        0x91, 0x00, 0x26, 0x00, 0x00, 0x4c, 0x89, 0xff,
        0xbe, 0x01, 0x00, 0x00, 0x00, 0xff, 0xd0, 0x4c,
        0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0xf2, 0x0f, 0x10, 0x45, 0xf0, 0xf2, 0x0f, 0x10,
        0x4d, 0xf8, 0x8b, 0x03, 0x85, 0xc0, 0x78, 0x47,
        0xff, 0xc8, 0x89, 0x03, 0x75, 0x41, 0xf2, 0x0f,
        0x11, 0x4d, 0xf8, 0xf2, 0x0f, 0x11, 0x45, 0xf0,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85,
        0xc0, 0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26,
        0x00, 0x00, 0x48, 0x89, 0xdf, 0xbe, 0x01, 0x00,
        0x00, 0x00, 0xff, 0xd0, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0xf2, 0x0f, 0x10,
        0x45, 0xf0, 0xf2, 0x0f, 0x10, 0x4d, 0xf8, 0x49,
        0x8d, 0x45, 0xf8, 0x31, 0xc9, 0x66, 0x0f, 0x2e,
        0xc1, 0x0f, 0x93, 0xc1, 0x01, 0xc9, 0x31, 0xd2,
        0x66, 0x0f, 0x2e, 0xc8, 0x0f, 0x93, 0xc2, 0x09,
        0xca, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0xa3, 0xd1, 0x72, 0x09, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0xeb, 0x07, 0x48, 0x8b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x4d, 0xf0,
        0x49, 0x89, 0xc5, 0x48, 0x83, 0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    // 10: OPARG
    // 18: &_PyFloat_ExactDealloc+0x0
    // 20: &_PyRuntime+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x10, instruction->oparg);
    patch_64(data + 0x18, (uintptr_t)&_PyFloat_ExactDealloc);
    patch_64(data + 0x20, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x36, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x5c, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x83, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0xa9, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0xd3, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xdf, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xe8, (uintptr_t)data + -0x4);
}

void
emit__COMPARE_OP_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _COMPARE_OP_INT.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 4: 49 8b 5f 10                   movq    0x10(%r15), %rbx
    // 8: 48 83 fb 10                   cmpq    $0x10, %rbx
    // c: 0f 83 00 00 00 00             jae     0x12 <__JIT_ENTRY+0x12>
    // 000000000000000e:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 12: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 16: 48 8b 77 10                   movq    0x10(%rdi), %rsi
    // 1a: 48 83 fe 10                   cmpq    $0x10, %rsi
    // 1e: 0f 83 00 00 00 00             jae     0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 24: 55                            pushq   %rbp
    // 25: 48 89 e5                      movq    %rsp, %rbp
    // 28: 48 83 ec 20                   subq    $0x20, %rsp
    // 2c: 41 8b 07                      movl    (%r15), %eax
    // 2f: 45 8b 47 18                   movl    0x18(%r15), %r8d
    // 33: 44 8b 4f 18                   movl    0x18(%rdi), %r9d
    // 37: 85 c0                         testl   %eax, %eax
    // 39: 78 54                         js      0x8f <__JIT_ENTRY+0x8f>
    // 3b: ff c8                         decl    %eax
    // 3d: 41 89 07                      movl    %eax, (%r15)
    // 40: 75 4d                         jne     0x8f <__JIT_ENTRY+0x8f>
    // 42: 48 89 7d e0                   movq    %rdi, -0x20(%rbp)
    // 46: 4c 89 45 f8                   movq    %r8, -0x8(%rbp)
    // 4a: 4c 89 4d f0                   movq    %r9, -0x10(%rbp)
    // 4e: 48 89 75 e8                   movq    %rsi, -0x18(%rbp)
    // 52: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 59: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 60: 48 85 c0                      testq   %rax, %rax
    // 63: 74 11                         je      0x76 <__JIT_ENTRY+0x76>
    // 65: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 6c: 4c 89 ff                      movq    %r15, %rdi
    // 6f: be 01 00 00 00                movl    $0x1, %esi
    // 74: ff d0                         callq   *%rax
    // 76: 4c 89 ff                      movq    %r15, %rdi
    // 79: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7f <__JIT_ENTRY+0x7f>
    // 000000000000007b:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // 7f: 48 8b 75 e8                   movq    -0x18(%rbp), %rsi
    // 83: 4c 8b 4d f0                   movq    -0x10(%rbp), %r9
    // 87: 4c 8b 45 f8                   movq    -0x8(%rbp), %r8
    // 8b: 48 8b 7d e0                   movq    -0x20(%rbp), %rdi
    // 8f: 8b 07                         movl    (%rdi), %eax
    // 91: 85 c0                         testl   %eax, %eax
    // 93: 78 4b                         js      0xe0 <__JIT_ENTRY+0xe0>
    // 95: ff c8                         decl    %eax
    // 97: 89 07                         movl    %eax, (%rdi)
    // 99: 75 45                         jne     0xe0 <__JIT_ENTRY+0xe0>
    // 9b: 4c 89 45 f8                   movq    %r8, -0x8(%rbp)
    // 9f: 4c 89 4d f0                   movq    %r9, -0x10(%rbp)
    // a3: 48 89 75 e8                   movq    %rsi, -0x18(%rbp)
    // a7: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xae <__JIT_ENTRY+0xae>
    // 00000000000000aa:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // ae: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // b5: 48 85 c0                      testq   %rax, %rax
    // b8: 74 14                         je      0xce <__JIT_ENTRY+0xce>
    // ba: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // c1: be 01 00 00 00                movl    $0x1, %esi
    // c6: 49 89 ff                      movq    %rdi, %r15
    // c9: ff d0                         callq   *%rax
    // cb: 4c 89 ff                      movq    %r15, %rdi
    // ce: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd4 <__JIT_ENTRY+0xd4>
    // 00000000000000d0:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // d4: 48 8b 75 e8                   movq    -0x18(%rbp), %rsi
    // d8: 4c 8b 4d f0                   movq    -0x10(%rbp), %r9
    // dc: 4c 8b 45 f8                   movq    -0x8(%rbp), %r8
    // e0: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // e4: 83 e3 03                      andl    $0x3, %ebx
    // e7: b9 01 00 00 00                movl    $0x1, %ecx
    // ec: ba 01 00 00 00                movl    $0x1, %edx
    // f1: 48 29 da                      subq    %rbx, %rdx
    // f4: 49 0f af d0                   imulq   %r8, %rdx
    // f8: 83 e6 03                      andl    $0x3, %esi
    // fb: 48 29 f1                      subq    %rsi, %rcx
    // fe: 49 0f af c9                   imulq   %r9, %rcx
    // 102: 31 f6                         xorl    %esi, %esi
    // 104: 31 ff                         xorl    %edi, %edi
    // 106: 48 39 ca                      cmpq    %rcx, %rdx
    // 109: 40 0f 9d c6                   setge   %sil
    // 10d: 40 0f 9e c7                   setle   %dil
    // 111: 01 f6                         addl    %esi, %esi
    // 113: 09 f7                         orl     %esi, %edi
    // 115: 8b 0d 00 00 00 00             movl    (%rip), %ecx            ## 0x11b <__JIT_ENTRY+0x11b>
    // 0000000000000117:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 11b: 0f a3 f9                      btl     %edi, %ecx
    // 11e: 72 09                         jb      0x129 <__JIT_ENTRY+0x129>
    // 120: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x127 <__JIT_ENTRY+0x127>
    // 0000000000000123:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 127: eb 07                         jmp     0x130 <__JIT_ENTRY+0x130>
    // 129: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x130 <__JIT_ENTRY+0x130>
    // 000000000000012c:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 130: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // 134: 49 89 c5                      movq    %rax, %r13
    // 137: 48 83 c4 20                   addq    $0x20, %rsp
    // 13b: 5d                            popq    %rbp
    // 13c: e9 00 00 00 00                jmp     0x141 <__JIT_ENTRY+0x141>
    // 000000000000013d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[316] = {
        0x4d, 0x8b, 0x7d, 0xf0, 0x49, 0x8b, 0x5f, 0x10,
        0x48, 0x83, 0xfb, 0x10, 0x0f, 0x83, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b,
        0x77, 0x10, 0x48, 0x83, 0xfe, 0x10, 0x0f, 0x83,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0x48, 0x83, 0xec, 0x20, 0x41, 0x8b, 0x07, 0x45,
        0x8b, 0x47, 0x18, 0x44, 0x8b, 0x4f, 0x18, 0x85,
        0xc0, 0x78, 0x54, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x75, 0x4d, 0x48, 0x89, 0x7d, 0xe0, 0x4c, 0x89,
        0x45, 0xf8, 0x4c, 0x89, 0x4d, 0xf0, 0x48, 0x89,
        0x75, 0xe8, 0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x81, 0xf8, 0x25, 0x00, 0x00,
        0x48, 0x85, 0xc0, 0x74, 0x11, 0x48, 0x8b, 0x91,
        0x00, 0x26, 0x00, 0x00, 0x4c, 0x89, 0xff, 0xbe,
        0x01, 0x00, 0x00, 0x00, 0xff, 0xd0, 0x4c, 0x89,
        0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x75, 0xe8, 0x4c, 0x8b, 0x4d, 0xf0, 0x4c,
        0x8b, 0x45, 0xf8, 0x48, 0x8b, 0x7d, 0xe0, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x4b, 0xff, 0xc8, 0x89,
        0x07, 0x75, 0x45, 0x4c, 0x89, 0x45, 0xf8, 0x4c,
        0x89, 0x4d, 0xf0, 0x48, 0x89, 0x75, 0xe8, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x14, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0xbe, 0x01, 0x00, 0x00, 0x00, 0x49, 0x89,
        0xff, 0xff, 0xd0, 0x4c, 0x89, 0xff, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x75, 0xe8,
        0x4c, 0x8b, 0x4d, 0xf0, 0x4c, 0x8b, 0x45, 0xf8,
        0x49, 0x8d, 0x45, 0xf8, 0x83, 0xe3, 0x03, 0xb9,
        0x01, 0x00, 0x00, 0x00, 0xba, 0x01, 0x00, 0x00,
        0x00, 0x48, 0x29, 0xda, 0x49, 0x0f, 0xaf, 0xd0,
        0x83, 0xe6, 0x03, 0x48, 0x29, 0xf1, 0x49, 0x0f,
        0xaf, 0xc9, 0x31, 0xf6, 0x31, 0xff, 0x48, 0x39,
        0xca, 0x40, 0x0f, 0x9d, 0xc6, 0x40, 0x0f, 0x9e,
        0xc7, 0x01, 0xf6, 0x09, 0xf7, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xa3, 0xf9, 0x72, 0x09,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0xeb,
        0x07, 0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x4d, 0xf0, 0x49, 0x89, 0xc5, 0x48,
        0x83, 0xc4, 0x20, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    // 10: OPARG
    // 18: &_PyLong_ExactDealloc+0x0
    // 20: &_PyRuntime+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x10, instruction->oparg);
    patch_64(data + 0x18, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x20, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0xe, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x20, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x55, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x7b, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0xaa, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0xd0, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x117, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x123, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x12c, (uintptr_t)data + -0x4);
}

void
emit__COMPARE_OP_STR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _COMPARE_OP_STR.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 10: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 14: 48 89 df                      movq    %rbx, %rdi
    // 17: 4c 89 fe                      movq    %r15, %rsi
    // 1a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     __PyUnicode_Equal@GOTPCREL
    // 20: 41 89 c6                      movl    %eax, %r14d
    // 23: 8b 03                         movl    (%rbx), %eax
    // 25: 85 c0                         testl   %eax, %eax
    // 27: 78 33                         js      0x5c <__JIT_ENTRY+0x5c>
    // 29: ff c8                         decl    %eax
    // 2b: 89 03                         movl    %eax, (%rbx)
    // 2d: 75 2d                         jne     0x5c <__JIT_ENTRY+0x5c>
    // 2f: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 36: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 3d: 48 85 c0                      testq   %rax, %rax
    // 40: 74 11                         je      0x53 <__JIT_ENTRY+0x53>
    // 42: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 49: 48 89 df                      movq    %rbx, %rdi
    // 4c: be 01 00 00 00                movl    $0x1, %esi
    // 51: ff d0                         callq   *%rax
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __PyUnicode_ExactDealloc@GOTPCREL
    // 5c: 41 8b 07                      movl    (%r15), %eax
    // 5f: 85 c0                         testl   %eax, %eax
    // 61: 78 34                         js      0x97 <__JIT_ENTRY+0x97>
    // 63: ff c8                         decl    %eax
    // 65: 41 89 07                      movl    %eax, (%r15)
    // 68: 75 2d                         jne     0x97 <__JIT_ENTRY+0x97>
    // 6a: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x71 <__JIT_ENTRY+0x71>
    // 000000000000006d:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 71: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 78: 48 85 c0                      testq   %rax, %rax
    // 7b: 74 11                         je      0x8e <__JIT_ENTRY+0x8e>
    // 7d: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 84: 4c 89 ff                      movq    %r15, %rdi
    // 87: be 01 00 00 00                movl    $0x1, %esi
    // 8c: ff d0                         callq   *%rax
    // 8e: 4c 89 ff                      movq    %r15, %rdi
    // 91: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x97 <__JIT_ENTRY+0x97>
    // 0000000000000093:  X86_64_RELOC_GOT     __PyUnicode_ExactDealloc@GOTPCREL
    // 97: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // 9b: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xa2 <__JIT_ENTRY+0xa2>
    // 000000000000009e:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // a2: 41 83 c6 07                   addl    $0x7, %r14d
    // a6: 66 44 85 f1                   testw   %r14w, %cx
    // aa: 75 09                         jne     0xb5 <__JIT_ENTRY+0xb5>
    // ac: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xb3 <__JIT_ENTRY+0xb3>
    // 00000000000000af:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // b3: eb 07                         jmp     0xbc <__JIT_ENTRY+0xbc>
    // b5: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xbc <__JIT_ENTRY+0xbc>
    // 00000000000000b8:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // bc: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // c0: 49 89 c5                      movq    %rax, %r13
    // c3: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // c7: 48 83 c4 10                   addq    $0x10, %rsp
    // cb: 5d                            popq    %rbp
    // cc: e9 00 00 00 00                jmp     0xd1 <__JIT_ENTRY+0xd1>
    // 00000000000000cd:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[204] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x8b, 0x5d, 0xf0,
        0x4d, 0x8b, 0x7d, 0xf8, 0x48, 0x89, 0xdf, 0x4c,
        0x89, 0xfe, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x41, 0x89, 0xc6, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x33, 0xff, 0xc8, 0x89, 0x03, 0x75, 0x2d, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xbe, 0x01, 0x00, 0x00,
        0x00, 0xff, 0xd0, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x34, 0xff, 0xc8, 0x41, 0x89, 0x07,
        0x75, 0x2d, 0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x81, 0xf8, 0x25, 0x00, 0x00,
        0x48, 0x85, 0xc0, 0x74, 0x11, 0x48, 0x8b, 0x91,
        0x00, 0x26, 0x00, 0x00, 0x4c, 0x89, 0xff, 0xbe,
        0x01, 0x00, 0x00, 0x00, 0xff, 0xd0, 0x4c, 0x89,
        0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8d, 0x45, 0xf8, 0x48, 0x8b, 0x0d, 0x00, 0x00,
        0x00, 0x00, 0x41, 0x83, 0xc6, 0x07, 0x66, 0x44,
        0x85, 0xf1, 0x75, 0x09, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0xeb, 0x07, 0x48, 0x8b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x4d, 0xf0,
        0x49, 0x89, 0xc5, 0x4c, 0x8b, 0x75, 0xf8, 0x48,
        0x83, 0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    // 10: OPARG
    // 18: &_PyUnicode_ExactDealloc+0x0
    // 20: &_PyRuntime+0x0
    // 28: &_PyUnicode_Equal+0x0
    const unsigned char data_body[48] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x10, instruction->oparg);
    patch_64(data + 0x18, (uintptr_t)&_PyUnicode_ExactDealloc);
    patch_64(data + 0x20, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x28, (uintptr_t)&_PyUnicode_Equal);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0x24);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x6d, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x93, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x9e, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xaf, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xb8, (uintptr_t)data + -0x4);
}

void
emit__CONTAINS_OP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CONTAINS_OP.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 10: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 14: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 19: 4c 89 ff                      movq    %r15, %rdi
    // 1c: 48 89 de                      movq    %rbx, %rsi
    // 1f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PySequence_Contains@GOTPCREL
    // 25: 41 89 c6                      movl    %eax, %r14d
    // 28: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2d: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 36: 8b 03                         movl    (%rbx), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 0f                         js      0x4b <__JIT_ENTRY+0x4b>
    // 3c: ff c8                         decl    %eax
    // 3e: 89 03                         movl    %eax, (%rbx)
    // 40: 75 09                         jne     0x4b <__JIT_ENTRY+0x4b>
    // 42: 48 89 df                      movq    %rbx, %rdi
    // 45: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4b: 41 8b 07                      movl    (%r15), %eax
    // 4e: 85 c0                         testl   %eax, %eax
    // 50: 78 07                         js      0x59 <__JIT_ENTRY+0x59>
    // 52: ff c8                         decl    %eax
    // 54: 41 89 07                      movl    %eax, (%r15)
    // 57: 74 37                         je      0x90 <__JIT_ENTRY+0x90>
    // 59: 45 85 f6                      testl   %r14d, %r14d
    // 5c: 78 40                         js      0x9e <__JIT_ENTRY+0x9e>
    // 5e: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x65 <__JIT_ENTRY+0x65>
    // 0000000000000061:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 65: 41 39 c6                      cmpl    %eax, %r14d
    // 68: 75 09                         jne     0x73 <__JIT_ENTRY+0x73>
    // 6a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x71 <__JIT_ENTRY+0x71>
    // 000000000000006d:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 71: eb 07                         jmp     0x7a <__JIT_ENTRY+0x7a>
    // 73: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x7a <__JIT_ENTRY+0x7a>
    // 0000000000000076:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 7a: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // 7e: 49 83 c5 f8                   addq    $-0x8, %r13
    // 82: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 86: 48 83 c4 10                   addq    $0x10, %rsp
    // 8a: 5d                            popq    %rbp
    // 8b: e9 00 00 00 00                jmp     0x90 <__JIT_ENTRY+0x90>
    // 000000000000008c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 90: 4c 89 ff                      movq    %r15, %rdi
    // 93: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x99 <__JIT_ENTRY+0x99>
    // 0000000000000095:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 99: 45 85 f6                      testl   %r14d, %r14d
    // 9c: 79 c0                         jns     0x5e <__JIT_ENTRY+0x5e>
    // 9e: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // a2: 48 83 c4 10                   addq    $0x10, %rsp
    // a6: 5d                            popq    %rbp
    // a7: e9 00 00 00 00                jmp     0xac <__JIT_ENTRY+0xac>
    // 00000000000000a8:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[172] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x8b, 0x5d, 0xf0,
        0x4d, 0x8b, 0x7d, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x4c, 0x89, 0xff, 0x48, 0x89, 0xde, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x41, 0x89, 0xc6,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x03,
        0x85, 0xc0, 0x78, 0x0f, 0xff, 0xc8, 0x89, 0x03,
        0x75, 0x09, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x07, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x74,
        0x37, 0x45, 0x85, 0xf6, 0x78, 0x40, 0x0f, 0xb7,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x41, 0x39, 0xc6,
        0x75, 0x09, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0xeb, 0x07, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x89, 0x45, 0xf0, 0x49, 0x83,
        0xc5, 0xf8, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x45, 0x85, 0xf6, 0x79, 0xc0, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: OPARG
    // 20: &PySequence_Contains+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, instruction->oparg);
    patch_64(data + 0x20, (uintptr_t)&PySequence_Contains);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x47, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x61, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x6d, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x76, (uintptr_t)data + 0x4);
    patch_32r(code + 0x8c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x95, (uintptr_t)data + -0x4);
    patch_32r(code + 0xa8, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CONTAINS_OP_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CONTAINS_OP_DICT.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyDict_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 1f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 24: 48 89 df                      movq    %rbx, %rdi
    // 27: 4c 89 fe                      movq    %r15, %rsi
    // 2a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_GOT     _PyDict_Contains@GOTPCREL
    // 30: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 35: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3e: 41 8b 0f                      movl    (%r15), %ecx
    // 41: 85 c9                         testl   %ecx, %ecx
    // 43: 78 16                         js      0x5b <__JIT_ENTRY+0x5b>
    // 45: ff c9                         decl    %ecx
    // 47: 41 89 0f                      movl    %ecx, (%r15)
    // 4a: 75 0f                         jne     0x5b <__JIT_ENTRY+0x5b>
    // 4c: 4c 89 ff                      movq    %r15, %rdi
    // 4f: 41 89 c7                      movl    %eax, %r15d
    // 52: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x58 <__JIT_ENTRY+0x58>
    // 0000000000000054:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 58: 44 89 f8                      movl    %r15d, %eax
    // 5b: 8b 0b                         movl    (%rbx), %ecx
    // 5d: 85 c9                         testl   %ecx, %ecx
    // 5f: 78 06                         js      0x67 <__JIT_ENTRY+0x67>
    // 61: ff c9                         decl    %ecx
    // 63: 89 0b                         movl    %ecx, (%rbx)
    // 65: 74 39                         je      0xa0 <__JIT_ENTRY+0xa0>
    // 67: 85 c0                         testl   %eax, %eax
    // 69: 78 46                         js      0xb1 <__JIT_ENTRY+0xb1>
    // 6b: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x72 <__JIT_ENTRY+0x72>
    // 000000000000006e:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 72: 39 c8                         cmpl    %ecx, %eax
    // 74: 75 15                         jne     0x8b <__JIT_ENTRY+0x8b>
    // 76: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x7d <__JIT_ENTRY+0x7d>
    // 0000000000000079:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 7d: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // 81: 49 83 c5 f8                   addq    $-0x8, %r13
    // 85: 5d                            popq    %rbp
    // 86: e9 00 00 00 00                jmp     0x8b <__JIT_ENTRY+0x8b>
    // 0000000000000087:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 8b: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x92 <__JIT_ENTRY+0x92>
    // 000000000000008e:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 92: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // 96: 49 83 c5 f8                   addq    $-0x8, %r13
    // 9a: 5d                            popq    %rbp
    // 9b: e9 00 00 00 00                jmp     0xa0 <__JIT_ENTRY+0xa0>
    // 000000000000009c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // a0: 48 89 df                      movq    %rbx, %rdi
    // a3: 89 c3                         movl    %eax, %ebx
    // a5: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xab <__JIT_ENTRY+0xab>
    // 00000000000000a7:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ab: 89 d8                         movl    %ebx, %eax
    // ad: 85 c0                         testl   %eax, %eax
    // af: 79 ba                         jns     0x6b <__JIT_ENTRY+0x6b>
    // b1: 5d                            popq    %rbp
    // b2: e9 00 00 00 00                jmp     0xb7 <__JIT_ENTRY+0xb7>
    // 00000000000000b3:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[183] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x48, 0x8b, 0x43, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x7d, 0xf0, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf, 0x4c,
        0x89, 0xfe, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b,
        0x0f, 0x85, 0xc9, 0x78, 0x16, 0xff, 0xc9, 0x41,
        0x89, 0x0f, 0x75, 0x0f, 0x4c, 0x89, 0xff, 0x41,
        0x89, 0xc7, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x44, 0x89, 0xf8, 0x8b, 0x0b, 0x85, 0xc9, 0x78,
        0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x39, 0x85,
        0xc0, 0x78, 0x46, 0x0f, 0xb7, 0x0d, 0x00, 0x00,
        0x00, 0x00, 0x39, 0xc8, 0x75, 0x15, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x45,
        0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x89, 0x45, 0xf0, 0x49, 0x83,
        0xc5, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0xdf, 0x89, 0xc3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x89, 0xd8, 0x85, 0xc0, 0x79,
        0xba, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: OPARG
    // 20: &PyDict_Contains+0x0
    // 28: &PyDict_Type+0x0
    const unsigned char data_body[48] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, instruction->oparg);
    patch_64(data + 0x20, (uintptr_t)&PyDict_Contains);
    patch_64(data + 0x28, (uintptr_t)&PyDict_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x24);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x2c, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x54, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x6e, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x79, (uintptr_t)data + 0xc);
    patch_32r(code + 0x87, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x8e, (uintptr_t)data + 0x4);
    patch_32r(code + 0x9c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xa7, (uintptr_t)data + -0x4);
    patch_32r(code + 0xb3, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CONTAINS_OP_SET(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CONTAINS_OP_SET.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // c: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 10: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     _PySet_Type@GOTPCREL
    // 17: 0f 94 c1                      sete    %cl
    // 1a: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     _PyFrozenSet_Type@GOTPCREL
    // 21: 0f 94 c0                      sete    %al
    // 24: 08 c8                         orb     %cl, %al
    // 26: 74 67                         je      0x8f <__JIT_ENTRY+0x8f>
    // 28: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 2c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 30: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 35: 48 89 df                      movq    %rbx, %rdi
    // 38: 4c 89 fe                      movq    %r15, %rsi
    // 3b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_GOT     __PySet_Contains@GOTPCREL
    // 41: 41 89 c6                      movl    %eax, %r14d
    // 44: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 49: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 52: 41 8b 07                      movl    (%r15), %eax
    // 55: 85 c0                         testl   %eax, %eax
    // 57: 78 10                         js      0x69 <__JIT_ENTRY+0x69>
    // 59: ff c8                         decl    %eax
    // 5b: 41 89 07                      movl    %eax, (%r15)
    // 5e: 75 09                         jne     0x69 <__JIT_ENTRY+0x69>
    // 60: 4c 89 ff                      movq    %r15, %rdi
    // 63: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x69 <__JIT_ENTRY+0x69>
    // 0000000000000065:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 69: 8b 03                         movl    (%rbx), %eax
    // 6b: 85 c0                         testl   %eax, %eax
    // 6d: 78 06                         js      0x75 <__JIT_ENTRY+0x75>
    // 6f: ff c8                         decl    %eax
    // 71: 89 03                         movl    %eax, (%rbx)
    // 73: 74 41                         je      0xb6 <__JIT_ENTRY+0xb6>
    // 75: 45 85 f6                      testl   %r14d, %r14d
    // 78: 78 4a                         js      0xc4 <__JIT_ENTRY+0xc4>
    // 7a: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x81 <__JIT_ENTRY+0x81>
    // 000000000000007d:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 81: 41 39 c6                      cmpl    %eax, %r14d
    // 84: 75 13                         jne     0x99 <__JIT_ENTRY+0x99>
    // 86: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x8d <__JIT_ENTRY+0x8d>
    // 0000000000000089:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 8d: eb 11                         jmp     0xa0 <__JIT_ENTRY+0xa0>
    // 8f: 48 83 c4 10                   addq    $0x10, %rsp
    // 93: 5d                            popq    %rbp
    // 94: e9 00 00 00 00                jmp     0x99 <__JIT_ENTRY+0x99>
    // 0000000000000095:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 99: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xa0 <__JIT_ENTRY+0xa0>
    // 000000000000009c:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // a0: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // a4: 49 89 45 f0                   movq    %rax, -0x10(%r13)
    // a8: 49 83 c5 f8                   addq    $-0x8, %r13
    // ac: 48 83 c4 10                   addq    $0x10, %rsp
    // b0: 5d                            popq    %rbp
    // b1: e9 00 00 00 00                jmp     0xb6 <__JIT_ENTRY+0xb6>
    // 00000000000000b2:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // b6: 48 89 df                      movq    %rbx, %rdi
    // b9: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xbf <__JIT_ENTRY+0xbf>
    // 00000000000000bb:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // bf: 45 85 f6                      testl   %r14d, %r14d
    // c2: 79 b6                         jns     0x7a <__JIT_ENTRY+0x7a>
    // c4: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // c8: 48 83 c4 10                   addq    $0x10, %rsp
    // cc: 5d                            popq    %rbp
    // cd: e9 00 00 00 00                jmp     0xd2 <__JIT_ENTRY+0xd2>
    // 00000000000000ce:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[210] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x49, 0x8b, 0x5d, 0xf8, 0x48, 0x8b, 0x43, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x94, 0xc1, 0x48, 0x3b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x0f, 0x94, 0xc0, 0x08, 0xc8, 0x74, 0x67,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf,
        0x4c, 0x89, 0xfe, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x89, 0xc6, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78,
        0x10, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x75, 0x09,
        0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x03, 0x85, 0xc0, 0x78, 0x06, 0xff,
        0xc8, 0x89, 0x03, 0x74, 0x41, 0x45, 0x85, 0xf6,
        0x78, 0x4a, 0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x39, 0xc6, 0x75, 0x13, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0xeb, 0x11, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x8b, 0x75, 0xf8, 0x49, 0x89, 0x45, 0xf0,
        0x49, 0x83, 0xc5, 0xf8, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x45,
        0x85, 0xf6, 0x79, 0xb6, 0x4c, 0x8b, 0x75, 0xf8,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: OPARG
    // 20: &_PySet_Contains+0x0
    // 28: &PyFrozenSet_Type+0x0
    // 30: &PySet_Type+0x0
    const unsigned char data_body[56] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, instruction->oparg);
    patch_64(data + 0x20, (uintptr_t)&_PySet_Contains);
    patch_64(data + 0x28, (uintptr_t)&PyFrozenSet_Type);
    patch_64(data + 0x30, (uintptr_t)&PySet_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + 0x2c);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + 0x24);
    patch_x86_64_32rx(code + 0x3d, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x65, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x7d, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x89, (uintptr_t)data + 0xc);
    patch_32r(code + 0x95, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x9c, (uintptr_t)data + 0x4);
    patch_32r(code + 0xb2, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xbb, (uintptr_t)data + -0x4);
    patch_32r(code + 0xce, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__CONVERT_VALUE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CONVERT_VALUE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT_LOAD        __PyEval_ConversionFuncs@GOTPCREL
    // 16: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1b: 48 89 df                      movq    %rbx, %rdi
    // 1e: ff 14 c1                      callq   *(%rcx,%rax,8)
    // 21: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 26: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 2f: 8b 0b                         movl    (%rbx), %ecx
    // 31: 85 c9                         testl   %ecx, %ecx
    // 33: 78 06                         js      0x3b <__JIT_ENTRY+0x3b>
    // 35: ff c9                         decl    %ecx
    // 37: 89 0b                         movl    %ecx, (%rbx)
    // 39: 74 0f                         je      0x4a <__JIT_ENTRY+0x4a>
    // 3b: 48 85 c0                      testq   %rax, %rax
    // 3e: 74 1e                         je      0x5e <__JIT_ENTRY+0x5e>
    // 40: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 44: 5d                            popq    %rbp
    // 45: e9 00 00 00 00                jmp     0x4a <__JIT_ENTRY+0x4a>
    // 0000000000000046:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 4a: 48 89 df                      movq    %rbx, %rdi
    // 4d: 48 89 c3                      movq    %rax, %rbx
    // 50: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x56 <__JIT_ENTRY+0x56>
    // 0000000000000052:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 56: 48 89 d8                      movq    %rbx, %rax
    // 59: 48 85 c0                      testq   %rax, %rax
    // 5c: 75 e2                         jne     0x40 <__JIT_ENTRY+0x40>
    // 5e: 5d                            popq    %rbp
    // 5f: e9 00 00 00 00                jmp     0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[100] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf, 0xff, 0x14,
        0xc1, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x0b, 0x85, 0xc9, 0x78, 0x06, 0xff, 0xc9, 0x89,
        0x0b, 0x74, 0x0f, 0x48, 0x85, 0xc0, 0x74, 0x1e,
        0x49, 0x89, 0x45, 0xf8, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xd8, 0x48, 0x85, 0xc0, 0x75, 0xe2, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_ConversionFuncs+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_ConversionFuncs);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0x4);
    patch_32r(code + 0x46, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x52, (uintptr_t)data + -0x4);
    patch_32r(code + 0x60, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__COPY(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _COPY.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: c1 e0 03                      shll    $0x3, %eax
    // e: 4c 89 e9                      movq    %r13, %rcx
    // 11: 48 29 c1                      subq    %rax, %rcx
    // 14: 48 8b 01                      movq    (%rcx), %rax
    // 17: 8b 08                         movl    (%rax), %ecx
    // 19: 85 c9                         testl   %ecx, %ecx
    // 1b: 78 04                         js      0x21 <__JIT_ENTRY+0x21>
    // 1d: ff c1                         incl    %ecx
    // 1f: 89 08                         movl    %ecx, (%rax)
    // 21: 49 89 45 00                   movq    %rax, (%r13)
    // 25: 49 83 c5 08                   addq    $0x8, %r13
    // 29: 5d                            popq    %rbp
    // 2a: e9 00 00 00 00                jmp     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[42] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xc1, 0xe0, 0x03, 0x4c, 0x89,
        0xe9, 0x48, 0x29, 0xc1, 0x48, 0x8b, 0x01, 0x8b,
        0x08, 0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1, 0x89,
        0x08, 0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5,
        0x08, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__COPY_FREE_VARS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _COPY_FREE_VARS.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 66 85 c0                      testw   %ax, %ax
    // e: 74 45                         je      0x55 <__JIT_ENTRY+0x55>
    // 10: 49 8b 04 24                   movq    (%r12), %rax
    // 14: 49 8b 4c 24 10                movq    0x10(%r12), %rcx
    // 19: 8b 40 48                      movl    0x48(%rax), %eax
    // 1c: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 23: 0f b7 f2                      movzwl  %dx, %esi
    // 26: 29 f0                         subl    %esi, %eax
    // 28: 48 8b 49 48                   movq    0x48(%rcx), %rcx
    // 2c: 48 98                         cltq
    // 2e: 0f b7 d2                      movzwl  %dx, %edx
    // 31: 66 83 fa 01                   cmpw    $0x1, %dx
    // 35: 75 24                         jne     0x5b <__JIT_ENTRY+0x5b>
    // 37: 31 f6                         xorl    %esi, %esi
    // 39: f6 c2 01                      testb   $0x1, %dl
    // 3c: 74 17                         je      0x55 <__JIT_ENTRY+0x55>
    // 3e: 48 8b 4c f1 18                movq    0x18(%rcx,%rsi,8), %rcx
    // 43: 48 01 f0                      addq    %rsi, %rax
    // 46: 8b 11                         movl    (%rcx), %edx
    // 48: 85 d2                         testl   %edx, %edx
    // 4a: 78 04                         js      0x50 <__JIT_ENTRY+0x50>
    // 4c: ff c2                         incl    %edx
    // 4e: 89 11                         movl    %edx, (%rcx)
    // 50: 49 89 4c c4 50                movq    %rcx, 0x50(%r12,%rax,8)
    // 55: 5d                            popq    %rbp
    // 56: e9 00 00 00 00                jmp     0x5b <__JIT_ENTRY+0x5b>
    // 0000000000000057:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 5b: 89 d7                         movl    %edx, %edi
    // 5d: 83 e7 fe                      andl    $-0x2, %edi
    // 60: 4d 8d 04 c4                   leaq    (%r12,%rax,8), %r8
    // 64: 49 83 c0 58                   addq    $0x58, %r8
    // 68: 31 f6                         xorl    %esi, %esi
    // 6a: eb 11                         jmp     0x7d <__JIT_ENTRY+0x7d>
    // 6c: 0f 1f 40 00                   nopl    (%rax)
    // 70: 4d 89 0c f0                   movq    %r9, (%r8,%rsi,8)
    // 74: 48 83 c6 02                   addq    $0x2, %rsi
    // 78: 48 39 f7                      cmpq    %rsi, %rdi
    // 7b: 74 bc                         je      0x39 <__JIT_ENTRY+0x39>
    // 7d: 4c 8b 4c f1 18                movq    0x18(%rcx,%rsi,8), %r9
    // 82: 41 8b 19                      movl    (%r9), %ebx
    // 85: 85 db                         testl   %ebx, %ebx
    // 87: 78 05                         js      0x8e <__JIT_ENTRY+0x8e>
    // 89: ff c3                         incl    %ebx
    // 8b: 41 89 19                      movl    %ebx, (%r9)
    // 8e: 4d 89 4c f0 f8                movq    %r9, -0x8(%r8,%rsi,8)
    // 93: 4c 8b 4c f1 20                movq    0x20(%rcx,%rsi,8), %r9
    // 98: 41 8b 19                      movl    (%r9), %ebx
    // 9b: 85 db                         testl   %ebx, %ebx
    // 9d: 78 d1                         js      0x70 <__JIT_ENTRY+0x70>
    // 9f: ff c3                         incl    %ebx
    // a1: 41 89 19                      movl    %ebx, (%r9)
    // a4: eb ca                         jmp     0x70 <__JIT_ENTRY+0x70>
    const unsigned char code_body[166] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x66, 0x85, 0xc0, 0x74, 0x45,
        0x49, 0x8b, 0x04, 0x24, 0x49, 0x8b, 0x4c, 0x24,
        0x10, 0x8b, 0x40, 0x48, 0x48, 0x8b, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0xf2, 0x29, 0xf0,
        0x48, 0x8b, 0x49, 0x48, 0x48, 0x98, 0x0f, 0xb7,
        0xd2, 0x66, 0x83, 0xfa, 0x01, 0x75, 0x24, 0x31,
        0xf6, 0xf6, 0xc2, 0x01, 0x74, 0x17, 0x48, 0x8b,
        0x4c, 0xf1, 0x18, 0x48, 0x01, 0xf0, 0x8b, 0x11,
        0x85, 0xd2, 0x78, 0x04, 0xff, 0xc2, 0x89, 0x11,
        0x49, 0x89, 0x4c, 0xc4, 0x50, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x89, 0xd7, 0x83, 0xe7, 0xfe,
        0x4d, 0x8d, 0x04, 0xc4, 0x49, 0x83, 0xc0, 0x58,
        0x31, 0xf6, 0xeb, 0x11, 0x0f, 0x1f, 0x40, 0x00,
        0x4d, 0x89, 0x0c, 0xf0, 0x48, 0x83, 0xc6, 0x02,
        0x48, 0x39, 0xf7, 0x74, 0xbc, 0x4c, 0x8b, 0x4c,
        0xf1, 0x18, 0x41, 0x8b, 0x19, 0x85, 0xdb, 0x78,
        0x05, 0xff, 0xc3, 0x41, 0x89, 0x19, 0x4d, 0x89,
        0x4c, 0xf0, 0xf8, 0x4c, 0x8b, 0x4c, 0xf1, 0x20,
        0x41, 0x8b, 0x19, 0x85, 0xdb, 0x78, 0xd1, 0xff,
        0xc3, 0x41, 0x89, 0x19, 0xeb, 0xca,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x1f, (uintptr_t)data + -0x4);
    patch_32r(code + 0x57, (uintptr_t)code + sizeof(code_body) + -0x4);
}

void
emit__CREATE_INIT_FRAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _CREATE_INIT_FRAME.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 e8                      movq    %r13, %rax
    // b: 44 0f b7 05 00 00 00 00       movzwl  (%rip), %r8d            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 13: 42 8d 14 c5 00 00 00 00       leal    (,%r8,8), %edx
    // 1b: 4c 89 e9                      movq    %r13, %rcx
    // 1e: 48 29 d1                      subq    %rdx, %rcx
    // 21: 44 89 c2                      movl    %r8d, %edx
    // 24: f7 d2                         notl    %edx
    // 26: 48 63 f2                      movslq  %edx, %rsi
    // 29: ba fe ff ff ff                movl    $0xfffffffe, %edx       ## imm = 0xFFFFFFFE
    // 2e: 44 29 c2                      subl    %r8d, %edx
    // 31: 4c 63 ea                      movslq  %edx, %r13
    // 34: 49 89 44 24 40                movq    %rax, 0x40(%r12)
    // 39: 49 8b 9e f0 00 00 00          movq    0xf0(%r14), %rbx
    // 40: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x47 <__JIT_ENTRY+0x47>
    // 0000000000000043:  X86_64_RELOC_GOT_LOAD        __Py_InitCleanup@GOTPCREL
    // 47: 48 63 7a 4c                   movslq  0x4c(%rdx), %rdi
    // 4b: 48 8d 3c fb                   leaq    (%rbx,%rdi,8), %rdi
    // 4f: 49 89 be f0 00 00 00          movq    %rdi, 0xf0(%r14)
    // 56: 4c 89 63 08                   movq    %r12, 0x8(%rbx)
    // 5a: 48 8b 3d 00 00 00 00          movq    (%rip), %rdi            ## 0x61 <__JIT_ENTRY+0x61>
    // 000000000000005d:  X86_64_RELOC_GOT_LOAD        __Py_NoneStruct@GOTPCREL
    // 61: 48 89 7b 10                   movq    %rdi, 0x10(%rbx)
    // 65: 48 89 13                      movq    %rdx, (%rbx)
    // 68: 0f 57 c0                      xorps   %xmm0, %xmm0
    // 6b: 0f 11 43 28                   movups  %xmm0, 0x28(%rbx)
    // 6f: 48 63 7a 48                   movslq  0x48(%rdx), %rdi
    // 73: 48 8d 3c fb                   leaq    (%rbx,%rdi,8), %rdi
    // 77: 48 83 c7 58                   addq    $0x58, %rdi
    // 7b: 48 89 7b 40                   movq    %rdi, 0x40(%rbx)
    // 7f: 48 81 c2 d0 00 00 00          addq    $0xd0, %rdx
    // 86: 48 89 53 38                   movq    %rdx, 0x38(%rbx)
    // 8a: c7 43 48 00 00 00 00          movl    $0x0, 0x48(%rbx)
    // 91: 49 8b 54 24 40                movq    0x40(%r12), %rdx
    // 96: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 9f: 48 8b 34 f0                   movq    (%rax,%rsi,8), %rsi
    // a3: 8b 3e                         movl    (%rsi), %edi
    // a5: 85 ff                         testl   %edi, %edi
    // a7: 78 04                         js      0xad <__JIT_ENTRY+0xad>
    // a9: ff c7                         incl    %edi
    // ab: 89 3e                         movl    %edi, (%rsi)
    // ad: 48 89 73 50                   movq    %rsi, 0x50(%rbx)
    // b1: 49 89 54 24 40                movq    %rdx, 0x40(%r12)
    // b6: 48 83 c1 f8                   addq    $-0x8, %rcx
    // ba: 41 ff c0                      incl    %r8d
    // bd: 4a 8b 34 e8                   movq    (%rax,%r13,8), %rsi
    // c1: 49 c1 e5 03                   shlq    $0x3, %r13
    // c5: 48 89 1c 24                   movq    %rbx, (%rsp)
    // c9: 4c 89 f7                      movq    %r14, %rdi
    // cc: 31 d2                         xorl    %edx, %edx
    // ce: 45 31 c9                      xorl    %r9d, %r9d
    // d1: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd7 <__JIT_ENTRY+0xd7>
    // 00000000000000d3:  X86_64_RELOC_GOT     __PyEvalFramePushAndInit@GOTPCREL
    // d7: 4d 03 6c 24 40                addq    0x40(%r12), %r13
    // dc: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // e5: 48 85 c0                      testq   %rax, %rax
    // e8: 74 1e                         je      0x108 <__JIT_ENTRY+0x108>
    // ea: 66 41 c7 44 24 48 04 00       movw    $0x4, 0x48(%r12)
    // f2: 41 ff 4e 2c                   decl    0x2c(%r14)
    // f6: 49 89 45 00                   movq    %rax, (%r13)
    // fa: 49 83 c5 08                   addq    $0x8, %r13
    // fe: 48 83 c4 10                   addq    $0x10, %rsp
    // 102: 5d                            popq    %rbp
    // 103: e9 00 00 00 00                jmp     0x108 <__JIT_ENTRY+0x108>
    // 0000000000000104:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 108: 4c 89 f7                      movq    %r14, %rdi
    // 10b: 48 89 de                      movq    %rbx, %rsi
    // 10e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x114 <__JIT_ENTRY+0x114>
    // 0000000000000110:  X86_64_RELOC_GOT     __PyEval_FrameClearAndPop@GOTPCREL
    // 114: 48 83 c4 10                   addq    $0x10, %rsp
    // 118: 5d                            popq    %rbp
    // 119: e9 00 00 00 00                jmp     0x11e <__JIT_ENTRY+0x11e>
    // 000000000000011a:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[286] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0xe8, 0x44, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x42, 0x8d, 0x14, 0xc5, 0x00,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0xe9, 0x48, 0x29,
        0xd1, 0x44, 0x89, 0xc2, 0xf7, 0xd2, 0x48, 0x63,
        0xf2, 0xba, 0xfe, 0xff, 0xff, 0xff, 0x44, 0x29,
        0xc2, 0x4c, 0x63, 0xea, 0x49, 0x89, 0x44, 0x24,
        0x40, 0x49, 0x8b, 0x9e, 0xf0, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x63, 0x7a, 0x4c, 0x48, 0x8d, 0x3c, 0xfb, 0x49,
        0x89, 0xbe, 0xf0, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0x63, 0x08, 0x48, 0x8b, 0x3d, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0x7b, 0x10, 0x48, 0x89, 0x13,
        0x0f, 0x57, 0xc0, 0x0f, 0x11, 0x43, 0x28, 0x48,
        0x63, 0x7a, 0x48, 0x48, 0x8d, 0x3c, 0xfb, 0x48,
        0x83, 0xc7, 0x58, 0x48, 0x89, 0x7b, 0x40, 0x48,
        0x81, 0xc2, 0xd0, 0x00, 0x00, 0x00, 0x48, 0x89,
        0x53, 0x38, 0xc7, 0x43, 0x48, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x8b, 0x54, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x34, 0xf0, 0x8b, 0x3e, 0x85, 0xff, 0x78,
        0x04, 0xff, 0xc7, 0x89, 0x3e, 0x48, 0x89, 0x73,
        0x50, 0x49, 0x89, 0x54, 0x24, 0x40, 0x48, 0x83,
        0xc1, 0xf8, 0x41, 0xff, 0xc0, 0x4a, 0x8b, 0x34,
        0xe8, 0x49, 0xc1, 0xe5, 0x03, 0x48, 0x89, 0x1c,
        0x24, 0x4c, 0x89, 0xf7, 0x31, 0xd2, 0x45, 0x31,
        0xc9, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x03, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x1e, 0x66, 0x41, 0xc7, 0x44, 0x24, 0x48,
        0x04, 0x00, 0x41, 0xff, 0x4e, 0x2c, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0xf7, 0x48, 0x89, 0xde, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyEval_FrameClearAndPop+0x0
    // 8: &_PyEvalFramePushAndInit+0x0
    // 10: &_Py_NoneStruct+0x0
    // 18: &_Py_InitCleanup+0x0
    // 20: OPARG
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_FrameClearAndPop);
    patch_64(data + 0x8, (uintptr_t)&_PyEvalFramePushAndInit);
    patch_64(data + 0x10, (uintptr_t)&_Py_NoneStruct);
    patch_64(data + 0x18, (uintptr_t)&_Py_InitCleanup);
    patch_64(data + 0x20, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x43, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x5d, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xd3, (uintptr_t)data + 0x4);
    patch_32r(code + 0x104, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x110, (uintptr_t)data + -0x4);
    patch_32r(code + 0x11a, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__DELETE_ATTR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DELETE_ATTR.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 49 8b 04 24                   movq    (%r12), %rax
    // c: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 10: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 17: 48 8b 74 c8 18                movq    0x18(%rax,%rcx,8), %rsi
    // 1c: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 21: 48 89 df                      movq    %rbx, %rdi
    // 24: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_GOT     _PyObject_DelAttr@GOTPCREL
    // 2a: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2f: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 38: 8b 0b                         movl    (%rbx), %ecx
    // 3a: 85 c9                         testl   %ecx, %ecx
    // 3c: 78 06                         js      0x44 <__JIT_ENTRY+0x44>
    // 3e: ff c9                         decl    %ecx
    // 40: 89 0b                         movl    %ecx, (%rbx)
    // 42: 74 0a                         je      0x4e <__JIT_ENTRY+0x4e>
    // 44: 85 c0                         testl   %eax, %eax
    // 46: 74 17                         je      0x5f <__JIT_ENTRY+0x5f>
    // 48: 5d                            popq    %rbp
    // 49: e9 00 00 00 00                jmp     0x4e <__JIT_ENTRY+0x4e>
    // 000000000000004a:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 4e: 48 89 df                      movq    %rbx, %rdi
    // 51: 89 c3                         movl    %eax, %ebx
    // 53: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 59: 89 d8                         movl    %ebx, %eax
    // 5b: 85 c0                         testl   %eax, %eax
    // 5d: 75 e9                         jne     0x48 <__JIT_ENTRY+0x48>
    // 5f: 49 83 c5 f8                   addq    $-0x8, %r13
    // 63: 5d                            popq    %rbp
    // 64: e9 00 00 00 00                jmp     0x69 <__JIT_ENTRY+0x69>
    // 0000000000000065:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[100] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x49, 0x8b, 0x04, 0x24, 0x48, 0x8b, 0x40, 0x20,
        0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x74, 0xc8, 0x18, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x06, 0xff, 0xc9,
        0x89, 0x0b, 0x74, 0x0a, 0x85, 0xc0, 0x74, 0x17,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0x89, 0xc3, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x89, 0xd8, 0x85, 0xc0, 0x75, 0xe9, 0x49,
        0x83, 0xc5, 0xf8, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_DelAttr+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_DelAttr);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x26, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4a, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x55, (uintptr_t)data + -0x4);
}

void
emit__DELETE_DEREF(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DELETE_DEREF.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 44 c4 50                movq    0x50(%r12,%rax,8), %rax
    // 10: 48 8b 78 10                   movq    0x10(%rax), %rdi
    // 14: 48 c7 40 10 00 00 00 00       movq    $0x0, 0x10(%rax)
    // 1c: 48 85 ff                      testq   %rdi, %rdi
    // 1f: 74 12                         je      0x33 <__JIT_ENTRY+0x33>
    // 21: 8b 07                         movl    (%rdi), %eax
    // 23: 85 c0                         testl   %eax, %eax
    // 25: 78 06                         js      0x2d <__JIT_ENTRY+0x2d>
    // 27: ff c8                         decl    %eax
    // 29: 89 07                         movl    %eax, (%rdi)
    // 2b: 74 33                         je      0x60 <__JIT_ENTRY+0x60>
    // 2d: 5d                            popq    %rbp
    // 2e: e9 00 00 00 00                jmp     0x33 <__JIT_ENTRY+0x33>
    // 000000000000002f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 33: 0f b7 15 00 00 00 00          movzwl  (%rip), %edx            ## 0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 3a: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 3f: 49 8b 34 24                   movq    (%r12), %rsi
    // 43: 4c 89 f7                      movq    %r14, %rdi
    // 46: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4c <__JIT_ENTRY+0x4c>
    // 0000000000000048:  X86_64_RELOC_GOT     __PyEval_FormatExcUnbound@GOTPCREL
    // 4c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 51: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 5a: 5d                            popq    %rbp
    // 5b: e9 00 00 00 00                jmp     0x60 <__JIT_ENTRY+0x60>
    // 000000000000005c:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 60: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x66 <__JIT_ENTRY+0x66>
    // 0000000000000062:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 66: 5d                            popq    %rbp
    // 67: e9 00 00 00 00                jmp     0x6c <__JIT_ENTRY+0x6c>
    // 0000000000000068:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[103] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x44, 0xc4, 0x50,
        0x48, 0x8b, 0x78, 0x10, 0x48, 0xc7, 0x40, 0x10,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xff, 0x74,
        0x12, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06, 0xff,
        0xc8, 0x89, 0x07, 0x74, 0x33, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49,
        0x8b, 0x34, 0x24, 0x4c, 0x89, 0xf7, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_FormatExcUnbound+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_FormatExcUnbound);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_32r(code + 0x2f, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x36, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x48, (uintptr_t)data + 0x4);
    patch_32r(code + 0x5c, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x62, (uintptr_t)data + -0x4);
}

void
emit__DELETE_FAST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DELETE_FAST.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 0f b7 f0                      movzwl  %ax, %esi
    // e: 0f b7 c0                      movzwl  %ax, %eax
    // 11: 49 8b 7c c4 50                movq    0x50(%r12,%rax,8), %rdi
    // 16: 48 85 ff                      testq   %rdi, %rdi
    // 19: 74 1b                         je      0x36 <__JIT_ENTRY+0x36>
    // 1b: 49 c7 44 f4 50 00 00 00 00    movq    $0x0, 0x50(%r12,%rsi,8)
    // 24: 8b 07                         movl    (%rdi), %eax
    // 26: 85 c0                         testl   %eax, %eax
    // 28: 78 06                         js      0x30 <__JIT_ENTRY+0x30>
    // 2a: ff c8                         decl    %eax
    // 2c: 89 07                         movl    %eax, (%rdi)
    // 2e: 74 4d                         je      0x7d <__JIT_ENTRY+0x7d>
    // 30: 5d                            popq    %rbp
    // 31: e9 00 00 00 00                jmp     0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 36: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 3b: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x42 <__JIT_ENTRY+0x42>
    // 000000000000003e:  X86_64_RELOC_GOT_LOAD        _PyExc_UnboundLocalError@GOTPCREL
    // 42: 48 8b 18                      movq    (%rax), %rbx
    // 45: 49 8b 04 24                   movq    (%r12), %rax
    // 49: 48 8b 78 60                   movq    0x60(%rax), %rdi
    // 4d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x53 <__JIT_ENTRY+0x53>
    // 000000000000004f:  X86_64_RELOC_GOT     _PyTuple_GetItem@GOTPCREL
    // 53: 48 8d 15 2f 00 00 00          leaq    0x2f(%rip), %rdx        ## 0x89 <__JIT_ENTRY+0x89>
    // 0000000000000056:  X86_64_RELOC_SIGNED  __cstring
    // 5a: 4c 89 f7                      movq    %r14, %rdi
    // 5d: 48 89 de                      movq    %rbx, %rsi
    // 60: 48 89 c1                      movq    %rax, %rcx
    // 63: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x69 <__JIT_ENTRY+0x69>
    // 0000000000000065:  X86_64_RELOC_GOT     __PyEval_FormatExcCheckArg@GOTPCREL
    // 69: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 6e: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 77: 5d                            popq    %rbp
    // 78: e9 00 00 00 00                jmp     0x7d <__JIT_ENTRY+0x7d>
    // 0000000000000079:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 7d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x83 <__JIT_ENTRY+0x83>
    // 000000000000007f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 83: 5d                            popq    %rbp
    // 84: e9 00 00 00 00                jmp     0x89 <__JIT_ENTRY+0x89>
    // 0000000000000085:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[132] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0xf0, 0x0f, 0xb7,
        0xc0, 0x49, 0x8b, 0x7c, 0xc4, 0x50, 0x48, 0x85,
        0xff, 0x74, 0x1b, 0x49, 0xc7, 0x44, 0xf4, 0x50,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74, 0x4d,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x18, 0x49, 0x8b, 0x04,
        0x24, 0x48, 0x8b, 0x78, 0x60, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8d, 0x15, 0x2f, 0x00,
        0x00, 0x00, 0x4c, 0x89, 0xf7, 0x48, 0x89, 0xde,
        0x48, 0x89, 0xc1, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: "cannot access local variable '%s' where it is not associated with a value\x00"
    // 4a: 00 00 00 00 00 00
    // 50: &_Py_Dealloc+0x0
    // 58: &_PyEval_FormatExcCheckArg+0x0
    // 60: &PyTuple_GetItem+0x0
    // 68: &PyExc_UnboundLocalError+0x0
    // 70: OPARG
    const unsigned char data_body[120] = {
        0x63, 0x61, 0x6e, 0x6e, 0x6f, 0x74, 0x20, 0x61,
        0x63, 0x63, 0x65, 0x73, 0x73, 0x20, 0x6c, 0x6f,
        0x63, 0x61, 0x6c, 0x20, 0x76, 0x61, 0x72, 0x69,
        0x61, 0x62, 0x6c, 0x65, 0x20, 0x27, 0x25, 0x73,
        0x27, 0x20, 0x77, 0x68, 0x65, 0x72, 0x65, 0x20,
        0x69, 0x74, 0x20, 0x69, 0x73, 0x20, 0x6e, 0x6f,
        0x74, 0x20, 0x61, 0x73, 0x73, 0x6f, 0x63, 0x69,
        0x61, 0x74, 0x65, 0x64, 0x20, 0x77, 0x69, 0x74,
        0x68, 0x20, 0x61, 0x20, 0x76, 0x61, 0x6c, 0x75,
        0x65, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x50, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x58, (uintptr_t)&_PyEval_FormatExcCheckArg);
    patch_64(data + 0x60, (uintptr_t)&PyTuple_GetItem);
    patch_64(data + 0x68, (uintptr_t)&PyExc_UnboundLocalError);
    patch_64(data + 0x70, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x6c);
    patch_32r(code + 0x32, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3e, (uintptr_t)data + 0x64);
    patch_x86_64_32rx(code + 0x4f, (uintptr_t)data + 0x5c);
    patch_32r(code + 0x56, (uintptr_t)data + 0xb4);
    patch_x86_64_32rx(code + 0x65, (uintptr_t)data + 0x54);
    patch_32r(code + 0x79, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x7f, (uintptr_t)data + 0x4c);
}

void
emit__DELETE_GLOBAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DELETE_GLOBAL.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 04 24                   movq    (%r12), %rax
    // 8: 49 8b 7c 24 18                movq    0x18(%r12), %rdi
    // d: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 11: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 18: 48 8b 5c c8 18                movq    0x18(%rax,%rcx,8), %rbx
    // 1d: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 22: 48 89 de                      movq    %rbx, %rsi
    // 25: 31 d2                         xorl    %edx, %edx
    // 27: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2d <__JIT_ENTRY+0x2d>
    // 0000000000000029:  X86_64_RELOC_GOT     _PyDict_Pop@GOTPCREL
    // 2d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 32: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3b: 85 c0                         testl   %eax, %eax
    // 3d: 78 08                         js      0x47 <__JIT_ENTRY+0x47>
    // 3f: 74 0c                         je      0x4d <__JIT_ENTRY+0x4d>
    // 41: 5d                            popq    %rbp
    // 42: e9 00 00 00 00                jmp     0x47 <__JIT_ENTRY+0x47>
    // 0000000000000043:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 47: 5d                            popq    %rbp
    // 48: e9 00 00 00 00                jmp     0x4d <__JIT_ENTRY+0x4d>
    // 0000000000000049:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 4d: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 52: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_GOT_LOAD        _PyExc_NameError@GOTPCREL
    // 59: 48 8b 30                      movq    (%rax), %rsi
    // 5c: 48 8d 15 20 00 00 00          leaq    0x20(%rip), %rdx        ## 0x83 <__JIT_ENTRY+0x83>
    // 000000000000005f:  X86_64_RELOC_SIGNED  __cstring
    // 63: 4c 89 f7                      movq    %r14, %rdi
    // 66: 48 89 d9                      movq    %rbx, %rcx
    // 69: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x6f <__JIT_ENTRY+0x6f>
    // 000000000000006b:  X86_64_RELOC_GOT     __PyEval_FormatExcCheckArg@GOTPCREL
    // 6f: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 74: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 7d: 5d                            popq    %rbp
    // 7e: e9 00 00 00 00                jmp     0x83 <__JIT_ENTRY+0x83>
    // 000000000000007f:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[131] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x04, 0x24,
        0x49, 0x8b, 0x7c, 0x24, 0x18, 0x48, 0x8b, 0x40,
        0x20, 0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x5c, 0xc8, 0x18, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x89, 0xde, 0x31, 0xd2, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x85, 0xc0, 0x78, 0x08, 0x74,
        0x0c, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x30, 0x48, 0x8d, 0x15, 0x20,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0x48, 0x89,
        0xd9, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: "name '%.200s' is not defined\x00"
    // 1d: 00 00 00
    // 20: &_PyEval_FormatExcCheckArg+0x0
    // 28: &PyExc_NameError+0x0
    // 30: &PyDict_Pop+0x0
    // 38: OPARG
    const unsigned char data_body[64] = {
        0x6e, 0x61, 0x6d, 0x65, 0x20, 0x27, 0x25, 0x2e,
        0x32, 0x30, 0x30, 0x73, 0x27, 0x20, 0x69, 0x73,
        0x20, 0x6e, 0x6f, 0x74, 0x20, 0x64, 0x65, 0x66,
        0x69, 0x6e, 0x65, 0x64, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x20, (uintptr_t)&_PyEval_FormatExcCheckArg);
    patch_64(data + 0x28, (uintptr_t)&PyExc_NameError);
    patch_64(data + 0x30, (uintptr_t)&PyDict_Pop);
    patch_64(data + 0x38, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + 0x34);
    patch_x86_64_32rx(code + 0x29, (uintptr_t)data + 0x2c);
    patch_32r(code + 0x43, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x49, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x55, (uintptr_t)data + 0x24);
    patch_32r(code + 0x5f, (uintptr_t)data + 0x9f);
    patch_x86_64_32rx(code + 0x6b, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x7f, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__DELETE_NAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DELETE_NAME.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 04 24                   movq    (%r12), %rax
    // 8: 49 8b 7c 24 28                movq    0x28(%r12), %rdi
    // d: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 11: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 18: 48 8b 5c c8 18                movq    0x18(%rax,%rcx,8), %rbx
    // 1d: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 22: 48 85 ff                      testq   %rdi, %rdi
    // 25: 74 51                         je      0x78 <__JIT_ENTRY+0x78>
    // 27: 48 89 de                      movq    %rbx, %rsi
    // 2a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_GOT     _PyObject_DelItem@GOTPCREL
    // 30: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 35: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3e: 85 c0                         testl   %eax, %eax
    // 40: 74 69                         je      0xab <__JIT_ENTRY+0xab>
    // 42: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 47: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x4e <__JIT_ENTRY+0x4e>
    // 000000000000004a:  X86_64_RELOC_GOT_LOAD        _PyExc_NameError@GOTPCREL
    // 4e: 48 8b 30                      movq    (%rax), %rsi
    // 51: 48 8d 15 74 00 00 00          leaq    0x74(%rip), %rdx        ## 0xcc <__JIT_ENTRY+0xcc>
    // 0000000000000054:  X86_64_RELOC_SIGNED  __cstring
    // 58: 4c 89 f7                      movq    %r14, %rdi
    // 5b: 48 89 d9                      movq    %rbx, %rcx
    // 5e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_GOT     __PyEval_FormatExcCheckArg@GOTPCREL
    // 64: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 69: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 72: 5d                            popq    %rbp
    // 73: e9 00 00 00 00                jmp     0x78 <__JIT_ENTRY+0x78>
    // 0000000000000074:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 78: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x7f <__JIT_ENTRY+0x7f>
    // 000000000000007b:  X86_64_RELOC_GOT_LOAD        _PyExc_SystemError@GOTPCREL
    // 7f: 48 8b 30                      movq    (%rax), %rsi
    // 82: 48 8d 15 28 00 00 00          leaq    0x28(%rip), %rdx        ## 0xb1 <__JIT_ENTRY+0xb1>
    // 0000000000000085:  X86_64_RELOC_SIGNED  __cstring
    // 89: 4c 89 f7                      movq    %r14, %rdi
    // 8c: 48 89 d9                      movq    %rbx, %rcx
    // 8f: 31 c0                         xorl    %eax, %eax
    // 91: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x97 <__JIT_ENTRY+0x97>
    // 0000000000000093:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // 97: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 9c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // a5: 5d                            popq    %rbp
    // a6: e9 00 00 00 00                jmp     0xab <__JIT_ENTRY+0xab>
    // 00000000000000a7:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // ab: 5d                            popq    %rbp
    // ac: e9 00 00 00 00                jmp     0xb1 <__JIT_ENTRY+0xb1>
    // 00000000000000ad:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[172] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x04, 0x24,
        0x49, 0x8b, 0x7c, 0x24, 0x28, 0x48, 0x8b, 0x40,
        0x20, 0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x5c, 0xc8, 0x18, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x85, 0xff, 0x74, 0x51, 0x48,
        0x89, 0xde, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x85, 0xc0,
        0x74, 0x69, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x30, 0x48, 0x8d, 0x15, 0x74, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0xf7, 0x48, 0x89, 0xd9, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x30, 0x48, 0x8d, 0x15, 0x28, 0x00, 0x00,
        0x00, 0x4c, 0x89, 0xf7, 0x48, 0x89, 0xd9, 0x31,
        0xc0, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: "no locals when deleting %R\x00name '%.200s' is not defined\x00"
    // 38: &_PyErr_Format+0x0
    // 40: &PyExc_SystemError+0x0
    // 48: &_PyEval_FormatExcCheckArg+0x0
    // 50: &PyExc_NameError+0x0
    // 58: &PyObject_DelItem+0x0
    // 60: OPARG
    const unsigned char data_body[104] = {
        0x6e, 0x6f, 0x20, 0x6c, 0x6f, 0x63, 0x61, 0x6c,
        0x73, 0x20, 0x77, 0x68, 0x65, 0x6e, 0x20, 0x64,
        0x65, 0x6c, 0x65, 0x74, 0x69, 0x6e, 0x67, 0x20,
        0x25, 0x52, 0x00, 0x6e, 0x61, 0x6d, 0x65, 0x20,
        0x27, 0x25, 0x2e, 0x32, 0x30, 0x30, 0x73, 0x27,
        0x20, 0x69, 0x73, 0x20, 0x6e, 0x6f, 0x74, 0x20,
        0x64, 0x65, 0x66, 0x69, 0x6e, 0x65, 0x64, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x38, (uintptr_t)&_PyErr_Format);
    patch_64(data + 0x40, (uintptr_t)&PyExc_SystemError);
    patch_64(data + 0x48, (uintptr_t)&_PyEval_FormatExcCheckArg);
    patch_64(data + 0x50, (uintptr_t)&PyExc_NameError);
    patch_64(data + 0x58, (uintptr_t)&PyObject_DelItem);
    patch_64(data + 0x60, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + 0x5c);
    patch_x86_64_32rx(code + 0x2c, (uintptr_t)data + 0x54);
    patch_x86_64_32rx(code + 0x4a, (uintptr_t)data + 0x4c);
    patch_32r(code + 0x54, (uintptr_t)data + 0x121);
    patch_x86_64_32rx(code + 0x60, (uintptr_t)data + 0x44);
    patch_32r(code + 0x74, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x7b, (uintptr_t)data + 0x3c);
    patch_32r(code + 0x85, (uintptr_t)data + 0xd5);
    patch_x86_64_32rx(code + 0x93, (uintptr_t)data + 0x34);
    patch_32r(code + 0xa7, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__DELETE_SUBSCR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DELETE_SUBSCR.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 10: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 14: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 19: 4c 89 ff                      movq    %r15, %rdi
    // 1c: 48 89 de                      movq    %rbx, %rsi
    // 1f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyObject_DelItem@GOTPCREL
    // 25: 41 89 c6                      movl    %eax, %r14d
    // 28: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2d: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 36: 41 8b 07                      movl    (%r15), %eax
    // 39: 85 c0                         testl   %eax, %eax
    // 3b: 78 10                         js      0x4d <__JIT_ENTRY+0x4d>
    // 3d: ff c8                         decl    %eax
    // 3f: 41 89 07                      movl    %eax, (%r15)
    // 42: 75 09                         jne     0x4d <__JIT_ENTRY+0x4d>
    // 44: 4c 89 ff                      movq    %r15, %rdi
    // 47: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4d <__JIT_ENTRY+0x4d>
    // 0000000000000049:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4d: 8b 03                         movl    (%rbx), %eax
    // 4f: 85 c0                         testl   %eax, %eax
    // 51: 78 06                         js      0x59 <__JIT_ENTRY+0x59>
    // 53: ff c8                         decl    %eax
    // 55: 89 03                         movl    %eax, (%rbx)
    // 57: 74 13                         je      0x6c <__JIT_ENTRY+0x6c>
    // 59: 45 85 f6                      testl   %r14d, %r14d
    // 5c: 74 1c                         je      0x7a <__JIT_ENTRY+0x7a>
    // 5e: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 62: 48 83 c4 10                   addq    $0x10, %rsp
    // 66: 5d                            popq    %rbp
    // 67: e9 00 00 00 00                jmp     0x6c <__JIT_ENTRY+0x6c>
    // 0000000000000068:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 6c: 48 89 df                      movq    %rbx, %rdi
    // 6f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x75 <__JIT_ENTRY+0x75>
    // 0000000000000071:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 75: 45 85 f6                      testl   %r14d, %r14d
    // 78: 75 e4                         jne     0x5e <__JIT_ENTRY+0x5e>
    // 7a: 49 83 c5 f0                   addq    $-0x10, %r13
    // 7e: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 82: 48 83 c4 10                   addq    $0x10, %rsp
    // 86: 5d                            popq    %rbp
    // 87: e9 00 00 00 00                jmp     0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[135] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x4c, 0x89, 0xff, 0x48, 0x89, 0xde, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x41, 0x89, 0xc6,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x10, 0xff, 0xc8, 0x41,
        0x89, 0x07, 0x75, 0x09, 0x4c, 0x89, 0xff, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x03, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x03, 0x74,
        0x13, 0x45, 0x85, 0xf6, 0x74, 0x1c, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x45, 0x85, 0xf6,
        0x75, 0xe4, 0x49, 0x83, 0xc5, 0xf0, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_DelItem+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_DelItem);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x49, (uintptr_t)data + -0x4);
    patch_32r(code + 0x68, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x71, (uintptr_t)data + -0x4);
}

void
emit__DEOPT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DEOPT.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // b: 49 89 86 10 01 00 00          movq    %rax, 0x110(%r14)
    // 12: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 17: 49 8b 04 24                   movq    (%r12), %rax
    // 1b: 8b 0d 00 00 00 00             movl    (%rip), %ecx            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __JIT_TARGET@GOTPCREL
    // 21: 48 8d 04 48                   leaq    (%rax,%rcx,2), %rax
    // 25: 48 05 d0 00 00 00             addq    $0xd0, %rax
    // 2b: 5d                            popq    %rbp
    // 2c: c3                            retq
    const unsigned char code_body[45] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x86, 0x10, 0x01,
        0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49,
        0x8b, 0x04, 0x24, 0x8b, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8d, 0x04, 0x48, 0x48, 0x05, 0xd0,
        0x00, 0x00, 0x00, 0x5d, 0xc3,
    };
    // 0: TARGET
    // 8: EXECUTOR
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->target);
    patch_64(data + 0x8, (uintptr_t)executor);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
}

void
emit__DICT_MERGE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DICT_MERGE.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // f: b9 fc ff ff ff                movl    $0xfffffffc, %ecx       ## imm = 0xFFFFFFFC
    // 14: 29 c1                         subl    %eax, %ecx
    // 16: f7 d0                         notl    %eax
    // 18: 48 98                         cltq
    // 1a: 49 8b 7c c5 00                movq    (%r13,%rax,8), %rdi
    // 1f: 48 63 c1                      movslq  %ecx, %rax
    // 22: 4d 8b 7c c5 00                movq    (%r13,%rax,8), %r15
    // 27: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2c: 48 89 de                      movq    %rbx, %rsi
    // 2f: ba 02 00 00 00                movl    $0x2, %edx
    // 34: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_GOT     __PyDict_MergeEx@GOTPCREL
    // 3a: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 3f: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 48: 85 c0                         testl   %eax, %eax
    // 4a: 78 16                         js      0x62 <__JIT_ENTRY+0x62>
    // 4c: 8b 03                         movl    (%rbx), %eax
    // 4e: 85 c0                         testl   %eax, %eax
    // 50: 78 06                         js      0x58 <__JIT_ENTRY+0x58>
    // 52: ff c8                         decl    %eax
    // 54: 89 03                         movl    %eax, (%rbx)
    // 56: 74 3e                         je      0x96 <__JIT_ENTRY+0x96>
    // 58: 49 83 c5 f8                   addq    $-0x8, %r13
    // 5c: 5d                            popq    %rbp
    // 5d: e9 00 00 00 00                jmp     0x62 <__JIT_ENTRY+0x62>
    // 000000000000005e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 62: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 67: 4c 89 f7                      movq    %r14, %rdi
    // 6a: 4c 89 fe                      movq    %r15, %rsi
    // 6d: 48 89 da                      movq    %rbx, %rdx
    // 70: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x76 <__JIT_ENTRY+0x76>
    // 0000000000000072:  X86_64_RELOC_GOT     __PyEval_FormatKwargsError@GOTPCREL
    // 76: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 7b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 84: 8b 03                         movl    (%rbx), %eax
    // 86: 85 c0                         testl   %eax, %eax
    // 88: 78 06                         js      0x90 <__JIT_ENTRY+0x90>
    // 8a: ff c8                         decl    %eax
    // 8c: 89 03                         movl    %eax, (%rbx)
    // 8e: 74 19                         je      0xa9 <__JIT_ENTRY+0xa9>
    // 90: 5d                            popq    %rbp
    // 91: e9 00 00 00 00                jmp     0x96 <__JIT_ENTRY+0x96>
    // 0000000000000092:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 96: 48 89 df                      movq    %rbx, %rdi
    // 99: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x9f <__JIT_ENTRY+0x9f>
    // 000000000000009b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 9f: 49 83 c5 f8                   addq    $-0x8, %r13
    // a3: 5d                            popq    %rbp
    // a4: e9 00 00 00 00                jmp     0xa9 <__JIT_ENTRY+0xa9>
    // 00000000000000a5:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // a9: 48 89 df                      movq    %rbx, %rdi
    // ac: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb2 <__JIT_ENTRY+0xb2>
    // 00000000000000ae:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b2: 5d                            popq    %rbp
    // b3: e9 00 00 00 00                jmp     0xb8 <__JIT_ENTRY+0xb8>
    // 00000000000000b4:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[184] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d, 0xf8, 0xb9,
        0xfc, 0xff, 0xff, 0xff, 0x29, 0xc1, 0xf7, 0xd0,
        0x48, 0x98, 0x49, 0x8b, 0x7c, 0xc5, 0x00, 0x48,
        0x63, 0xc1, 0x4d, 0x8b, 0x7c, 0xc5, 0x00, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xde, 0xba,
        0x02, 0x00, 0x00, 0x00, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x85, 0xc0, 0x78, 0x16, 0x8b, 0x03, 0x85, 0xc0,
        0x78, 0x06, 0xff, 0xc8, 0x89, 0x03, 0x74, 0x3e,
        0x49, 0x83, 0xc5, 0xf8, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c,
        0x89, 0xf7, 0x4c, 0x89, 0xfe, 0x48, 0x89, 0xda,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x03, 0x85, 0xc0,
        0x78, 0x06, 0xff, 0xc8, 0x89, 0x03, 0x74, 0x19,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x83, 0xc5, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_FormatKwargsError+0x0
    // 10: &_PyDict_MergeEx+0x0
    // 18: OPARG
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_FormatKwargsError);
    patch_64(data + 0x10, (uintptr_t)&_PyDict_MergeEx);
    patch_64(data + 0x18, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x36, (uintptr_t)data + 0xc);
    patch_32r(code + 0x5e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x72, (uintptr_t)data + 0x4);
    patch_32r(code + 0x92, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x9b, (uintptr_t)data + -0x4);
    patch_32r(code + 0xa5, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xae, (uintptr_t)data + -0x4);
    patch_32r(code + 0xb4, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__DICT_UPDATE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DICT_UPDATE.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 8b 05 00 00 00 00             movl    (%rip), %eax            ## 0xa <__JIT_ENTRY+0xa>
    // 0000000000000006:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // a: f7 d0                         notl    %eax
    // c: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 10: c1 e0 03                      shll    $0x3, %eax
    // 13: 48 0d 00 00 f8 ff             orq     $-0x80000, %rax         ## imm = 0xFFF80000
    // 19: 49 8b 7c 05 00                movq    (%r13,%rax), %rdi
    // 1e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 23: 48 89 de                      movq    %rbx, %rsi
    // 26: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_GOT     _PyDict_Update@GOTPCREL
    // 2c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 31: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3a: 85 c0                         testl   %eax, %eax
    // 3c: 78 16                         js      0x54 <__JIT_ENTRY+0x54>
    // 3e: 8b 03                         movl    (%rbx), %eax
    // 40: 85 c0                         testl   %eax, %eax
    // 42: 78 06                         js      0x4a <__JIT_ENTRY+0x4a>
    // 44: ff c8                         decl    %eax
    // 46: 89 03                         movl    %eax, (%rbx)
    // 48: 74 7d                         je      0xc7 <__JIT_ENTRY+0xc7>
    // 4a: 49 83 c5 f8                   addq    $-0x8, %r13
    // 4e: 5d                            popq    %rbp
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 54: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 59: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x60 <__JIT_ENTRY+0x60>
    // 000000000000005c:  X86_64_RELOC_GOT_LOAD        _PyExc_AttributeError@GOTPCREL
    // 60: 48 8b 30                      movq    (%rax), %rsi
    // 63: 4c 89 f7                      movq    %r14, %rdi
    // 66: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x6c <__JIT_ENTRY+0x6c>
    // 0000000000000068:  X86_64_RELOC_GOT     __PyErr_ExceptionMatches@GOTPCREL
    // 6c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 71: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 7a: 85 c0                         testl   %eax, %eax
    // 7c: 74 37                         je      0xb5 <__JIT_ENTRY+0xb5>
    // 7e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 83: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x8a <__JIT_ENTRY+0x8a>
    // 0000000000000086:  X86_64_RELOC_GOT_LOAD        _PyExc_TypeError@GOTPCREL
    // 8a: 48 8b 30                      movq    (%rax), %rsi
    // 8d: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 91: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // 95: 48 8d 15 4d 00 00 00          leaq    0x4d(%rip), %rdx        ## 0xe9 <__JIT_ENTRY+0xe9>
    // 0000000000000098:  X86_64_RELOC_SIGNED  __cstring
    // 9c: 4c 89 f7                      movq    %r14, %rdi
    // 9f: 31 c0                         xorl    %eax, %eax
    // a1: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xa7 <__JIT_ENTRY+0xa7>
    // 00000000000000a3:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // a7: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // ac: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // b5: 8b 03                         movl    (%rbx), %eax
    // b7: 85 c0                         testl   %eax, %eax
    // b9: 78 06                         js      0xc1 <__JIT_ENTRY+0xc1>
    // bb: ff c8                         decl    %eax
    // bd: 89 03                         movl    %eax, (%rbx)
    // bf: 74 19                         je      0xda <__JIT_ENTRY+0xda>
    // c1: 5d                            popq    %rbp
    // c2: e9 00 00 00 00                jmp     0xc7 <__JIT_ENTRY+0xc7>
    // 00000000000000c3:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // c7: 48 89 df                      movq    %rbx, %rdi
    // ca: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd0 <__JIT_ENTRY+0xd0>
    // 00000000000000cc:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // d0: 49 83 c5 f8                   addq    $-0x8, %r13
    // d4: 5d                            popq    %rbp
    // d5: e9 00 00 00 00                jmp     0xda <__JIT_ENTRY+0xda>
    // 00000000000000d6:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // da: 48 89 df                      movq    %rbx, %rdi
    // dd: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xe3 <__JIT_ENTRY+0xe3>
    // 00000000000000df:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // e3: 5d                            popq    %rbp
    // e4: e9 00 00 00 00                jmp     0xe9 <__JIT_ENTRY+0xe9>
    // 00000000000000e5:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[233] = {
        0x55, 0x48, 0x89, 0xe5, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0xf7, 0xd0, 0x49, 0x8b, 0x5d, 0xf8,
        0xc1, 0xe0, 0x03, 0x48, 0x0d, 0x00, 0x00, 0xf8,
        0xff, 0x49, 0x8b, 0x7c, 0x05, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x89, 0xde, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x85, 0xc0, 0x78, 0x16, 0x8b, 0x03,
        0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x03,
        0x74, 0x7d, 0x49, 0x83, 0xc5, 0xf8, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x30, 0x4c, 0x89, 0xf7, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x85, 0xc0, 0x74, 0x37, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x30, 0x48, 0x8b, 0x43,
        0x08, 0x48, 0x8b, 0x48, 0x18, 0x48, 0x8d, 0x15,
        0x4d, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0x31,
        0xc0, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x03, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x03, 0x74,
        0x19, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x83, 0xc5, 0xf8, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: "'%.200s' object is not a mapping\x00"
    // 21: 00 00 00 00 00 00 00
    // 28: &_Py_Dealloc+0x0
    // 30: &_PyErr_Format+0x0
    // 38: &PyExc_TypeError+0x0
    // 40: &_PyErr_ExceptionMatches+0x0
    // 48: &PyExc_AttributeError+0x0
    // 50: &PyDict_Update+0x0
    // 58: OPARG
    const unsigned char data_body[96] = {
        0x27, 0x25, 0x2e, 0x32, 0x30, 0x30, 0x73, 0x27,
        0x20, 0x6f, 0x62, 0x6a, 0x65, 0x63, 0x74, 0x20,
        0x69, 0x73, 0x20, 0x6e, 0x6f, 0x74, 0x20, 0x61,
        0x20, 0x6d, 0x61, 0x70, 0x70, 0x69, 0x6e, 0x67,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x28, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x30, (uintptr_t)&_PyErr_Format);
    patch_64(data + 0x38, (uintptr_t)&PyExc_TypeError);
    patch_64(data + 0x40, (uintptr_t)&_PyErr_ExceptionMatches);
    patch_64(data + 0x48, (uintptr_t)&PyExc_AttributeError);
    patch_64(data + 0x50, (uintptr_t)&PyDict_Update);
    patch_64(data + 0x58, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x6, (uintptr_t)data + 0x54);
    patch_x86_64_32rx(code + 0x28, (uintptr_t)data + 0x4c);
    patch_32r(code + 0x50, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x5c, (uintptr_t)data + 0x44);
    patch_x86_64_32rx(code + 0x68, (uintptr_t)data + 0x3c);
    patch_x86_64_32rx(code + 0x86, (uintptr_t)data + 0x34);
    patch_32r(code + 0x98, (uintptr_t)data + 0x132);
    patch_x86_64_32rx(code + 0xa3, (uintptr_t)data + 0x2c);
    patch_32r(code + 0xc3, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0xcc, (uintptr_t)data + 0x24);
    patch_32r(code + 0xd6, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xdf, (uintptr_t)data + 0x24);
    patch_32r(code + 0xe5, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__DYNAMIC_EXIT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _DYNAMIC_EXIT.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // f: 49 89 86 10 01 00 00          movq    %rax, 0x110(%r14)
    // 16: 49 8b 5c 24 38                movq    0x38(%r12), %rbx
    // 1b: 80 3b ff                      cmpb    $-0x1, (%rbx)
    // 1e: 74 4c                         je      0x6c <__JIT_ENTRY+0x6c>
    // 20: 4c 8b 3d 00 00 00 00          movq    (%rip), %r15            ## 0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 27: 41 0f b7 47 04                movzwl  0x4(%r15), %eax
    // 2c: 66 83 f8 0f                   cmpw    $0xf, %ax
    // 30: 73 6e                         jae     0xa0 <__JIT_ENTRY+0xa0>
    // 32: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 37: 48 8d 4d f8                   leaq    -0x8(%rbp), %rcx
    // 3b: 4c 89 e7                      movq    %r12, %rdi
    // 3e: 48 89 de                      movq    %rbx, %rsi
    // 41: 4c 89 ea                      movq    %r13, %rdx
    // 44: 45 31 c0                      xorl    %r8d, %r8d
    // 47: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4d <__JIT_ENTRY+0x4d>
    // 0000000000000049:  X86_64_RELOC_GOT     __PyOptimizer_Optimize@GOTPCREL
    // 4d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 52: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 5b: 85 c0                         testl   %eax, %eax
    // 5d: 7e 57                         jle     0xb6 <__JIT_ENTRY+0xb6>
    // 5f: 66 41 c7 47 04 fc ff          movw    $0xfffc, 0x4(%r15)      ## imm = 0xFFFC
    // 66: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 6a: eb 29                         jmp     0x95 <__JIT_ENTRY+0x95>
    // 6c: 49 8b 04 24                   movq    (%r12), %rax
    // 70: 48 8b 80 98 00 00 00          movq    0x98(%rax), %rax
    // 77: 0f b6 4b 01                   movzbl  0x1(%rbx), %ecx
    // 7b: 48 8b 44 c8 08                movq    0x8(%rax,%rcx,8), %rax
    // 80: 8b 08                         movl    (%rax), %ecx
    // 82: 85 c9                         testl   %ecx, %ecx
    // 84: 78 0f                         js      0x95 <__JIT_ENTRY+0x95>
    // 86: ff c1                         incl    %ecx
    // 88: 89 08                         movl    %ecx, (%rax)
    // 8a: 48 8b 40 78                   movq    0x78(%rax), %rax
    // 8e: 48 83 c4 10                   addq    $0x10, %rsp
    // 92: 5d                            popq    %rbp
    // 93: ff e0                         jmpq    *%rax
    // 95: 48 8b 40 78                   movq    0x78(%rax), %rax
    // 99: 48 83 c4 10                   addq    $0x10, %rsp
    // 9d: 5d                            popq    %rbp
    // 9e: ff e0                         jmpq    *%rax
    // a0: 83 c0 f0                      addl    $-0x10, %eax
    // a3: 66 41 89 47 04                movw    %ax, 0x4(%r15)
    // a8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // ad: 48 89 d8                      movq    %rbx, %rax
    // b0: 48 83 c4 10                   addq    $0x10, %rsp
    // b4: 5d                            popq    %rbp
    // b5: c3                            retq
    // b6: 41 0f b7 4f 04                movzwl  0x4(%r15), %ecx
    // bb: 83 e1 0f                      andl    $0xf, %ecx
    // be: 66 ba fc ff                   movw    $0xfffc, %dx            ## imm = 0xFFFC
    // c2: 66 83 f9 0b                   cmpw    $0xb, %cx
    // c6: 77 10                         ja      0xd8 <__JIT_ENTRY+0xd8>
    // c8: ff c1                         incl    %ecx
    // ca: ba ff ff ff ff                movl    $0xffffffff, %edx       ## imm = 0xFFFFFFFF
    // cf: d3 e2                         shll    %cl, %edx
    // d1: f7 d2                         notl    %edx
    // d3: c1 e2 04                      shll    $0x4, %edx
    // d6: 09 ca                         orl     %ecx, %edx
    // d8: 66 41 89 57 04                movw    %dx, 0x4(%r15)
    // dd: 85 c0                         testl   %eax, %eax
    // df: 79 c7                         jns     0xa8 <__JIT_ENTRY+0xa8>
    // e1: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xe8 <__JIT_ENTRY+0xe8>
    // 00000000000000e4:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // e8: 49 89 86 10 01 00 00          movq    %rax, 0x110(%r14)
    // ef: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // f4: 31 db                         xorl    %ebx, %ebx
    // f6: 48 89 d8                      movq    %rbx, %rax
    // f9: 48 83 c4 10                   addq    $0x10, %rsp
    // fd: 5d                            popq    %rbp
    // fe: c3                            retq
    const unsigned char code_body[255] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x89, 0x86, 0x10, 0x01, 0x00, 0x00, 0x49, 0x8b,
        0x5c, 0x24, 0x38, 0x80, 0x3b, 0xff, 0x74, 0x4c,
        0x4c, 0x8b, 0x3d, 0x00, 0x00, 0x00, 0x00, 0x41,
        0x0f, 0xb7, 0x47, 0x04, 0x66, 0x83, 0xf8, 0x0f,
        0x73, 0x6e, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x8d, 0x4d, 0xf8, 0x4c, 0x89, 0xe7, 0x48, 0x89,
        0xde, 0x4c, 0x89, 0xea, 0x45, 0x31, 0xc0, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x85, 0xc0, 0x7e, 0x57, 0x66,
        0x41, 0xc7, 0x47, 0x04, 0xfc, 0xff, 0x48, 0x8b,
        0x45, 0xf8, 0xeb, 0x29, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x80, 0x98, 0x00, 0x00, 0x00, 0x0f,
        0xb6, 0x4b, 0x01, 0x48, 0x8b, 0x44, 0xc8, 0x08,
        0x8b, 0x08, 0x85, 0xc9, 0x78, 0x0f, 0xff, 0xc1,
        0x89, 0x08, 0x48, 0x8b, 0x40, 0x78, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xff, 0xe0, 0x48, 0x8b, 0x40,
        0x78, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xff, 0xe0,
        0x83, 0xc0, 0xf0, 0x66, 0x41, 0x89, 0x47, 0x04,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xd8,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xc3, 0x41, 0x0f,
        0xb7, 0x4f, 0x04, 0x83, 0xe1, 0x0f, 0x66, 0xba,
        0xfc, 0xff, 0x66, 0x83, 0xf9, 0x0b, 0x77, 0x10,
        0xff, 0xc1, 0xba, 0xff, 0xff, 0xff, 0xff, 0xd3,
        0xe2, 0xf7, 0xd2, 0xc1, 0xe2, 0x04, 0x09, 0xca,
        0x66, 0x41, 0x89, 0x57, 0x04, 0x85, 0xc0, 0x79,
        0xc7, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x86, 0x10, 0x01, 0x00, 0x00, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x31, 0xdb, 0x48, 0x89,
        0xd8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xc3,
    };
    // 0: EXECUTOR
    // 8: &_PyOptimizer_Optimize+0x0
    // 10: OPERAND0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)executor);
    patch_64(data + 0x8, (uintptr_t)&_PyOptimizer_Optimize);
    patch_64(data + 0x10, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x23, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x49, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xe4, (uintptr_t)data + -0x4);
}

void
emit__END_FOR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _END_FOR.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 8b 07                         movl    (%rdi), %eax
    // a: 85 c0                         testl   %eax, %eax
    // c: 0f 88 00 00 00 00             js      0x12 <__JIT_ENTRY+0x12>
    // 000000000000000e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 12: ff c8                         decl    %eax
    // 14: 89 07                         movl    %eax, (%rdi)
    // 16: 0f 85 00 00 00 00             jne     0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1c: 55                            pushq   %rbp
    // 1d: 48 89 e5                      movq    %rsp, %rbp
    // 20: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x26 <__JIT_ENTRY+0x26>
    // 0000000000000022:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 26: 5d                            popq    %rbp
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[39] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x8b, 0x07, 0x85, 0xc0, 0x0f, 0x88, 0x00, 0x00,
        0x00, 0x00, 0xff, 0xc8, 0x89, 0x07, 0x0f, 0x85,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0xe, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x18, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x22, (uintptr_t)data + -0x4);
}

void
emit__END_SEND(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _END_SEND.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4c 89 eb                      movq    %r13, %rbx
    // 3: 49 83 c5 f8                   addq    $-0x8, %r13
    // 7: 48 8b 7b f0                   movq    -0x10(%rbx), %rdi
    // b: 4c 8b 7b f8                   movq    -0x8(%rbx), %r15
    // f: 8b 07                         movl    (%rdi), %eax
    // 11: 85 c0                         testl   %eax, %eax
    // 13: 78 06                         js      0x1b <__JIT_ENTRY+0x1b>
    // 15: ff c8                         decl    %eax
    // 17: 89 07                         movl    %eax, (%rdi)
    // 19: 74 09                         je      0x24 <__JIT_ENTRY+0x24>
    // 1b: 4c 89 7b f0                   movq    %r15, -0x10(%rbx)
    // 1f: e9 00 00 00 00                jmp     0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 24: 55                            pushq   %rbp
    // 25: 48 89 e5                      movq    %rsp, %rbp
    // 28: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2e <__JIT_ENTRY+0x2e>
    // 000000000000002a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 2e: 5d                            popq    %rbp
    // 2f: 4c 89 7b f0                   movq    %r15, -0x10(%rbx)
    // 33: e9 00 00 00 00                jmp     0x38 <__JIT_ENTRY+0x38>
    // 0000000000000034:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[51] = {
        0x4c, 0x89, 0xeb, 0x49, 0x83, 0xc5, 0xf8, 0x48,
        0x8b, 0x7b, 0xf0, 0x4c, 0x8b, 0x7b, 0xf8, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x07, 0x74, 0x09, 0x4c, 0x89, 0x7b, 0xf0, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0x4c,
        0x89, 0x7b, 0xf0,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x20, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x2a, (uintptr_t)data + -0x4);
}

void
emit__ERROR_POP_N(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _ERROR_POP_N.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: c1 e0 03                      shll    $0x3, %eax
    // e: 49 29 c5                      subq    %rax, %r13
    // 11: 49 8b 04 24                   movq    (%r12), %rax
    // 15: 8b 0d 00 00 00 00             movl    (%rip), %ecx            ## 0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 1b: 48 8d 04 48                   leaq    (%rax,%rcx,2), %rax
    // 1f: 48 05 d0 00 00 00             addq    $0xd0, %rax
    // 25: 49 89 44 24 38                movq    %rax, 0x38(%r12)
    // 2a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x31 <__JIT_ENTRY+0x31>
    // 000000000000002d:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // 31: 49 89 86 10 01 00 00          movq    %rax, 0x110(%r14)
    // 38: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 3d: 31 c0                         xorl    %eax, %eax
    // 3f: 5d                            popq    %rbp
    // 40: c3                            retq
    const unsigned char code_body[65] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xc1, 0xe0, 0x03, 0x49, 0x29,
        0xc5, 0x49, 0x8b, 0x04, 0x24, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8d, 0x04, 0x48, 0x48,
        0x05, 0xd0, 0x00, 0x00, 0x00, 0x49, 0x89, 0x44,
        0x24, 0x38, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x86, 0x10, 0x01, 0x00, 0x00,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x31, 0xc0, 0x5d,
        0xc3,
    };
    // 0: EXECUTOR
    // 8: OPERAND0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)executor);
    patch_64(data + 0x8, instruction->operand0);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x17, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2d, (uintptr_t)data + -0x4);
}

void
emit__EXIT_INIT_CHECK(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _EXIT_INIT_CHECK.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __Py_NoneStruct@GOTPCREL
    // b: 74 3e                         je      0x4b <__JIT_ENTRY+0x4b>
    // d: 55                            pushq   %rbp
    // e: 48 89 e5                      movq    %rsp, %rbp
    // 11: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 16: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_GOT_LOAD        _PyExc_TypeError@GOTPCREL
    // 1d: 48 8b 39                      movq    (%rcx), %rdi
    // 20: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 24: 48 8b 50 18                   movq    0x18(%rax), %rdx
    // 28: 48 8d 35 25 00 00 00          leaq    0x25(%rip), %rsi        ## 0x54 <__JIT_ENTRY+0x54>
    // 000000000000002b:  X86_64_RELOC_SIGNED  __cstring
    // 2f: 31 c0                         xorl    %eax, %eax
    // 31: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x37 <__JIT_ENTRY+0x37>
    // 0000000000000033:  X86_64_RELOC_GOT     _PyErr_Format@GOTPCREL
    // 37: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 3c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 45: 5d                            popq    %rbp
    // 46: e9 00 00 00 00                jmp     0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 4b: 49 83 c5 f8                   addq    $-0x8, %r13
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[79] = {
        0x49, 0x8b, 0x45, 0xf8, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x3e, 0x55, 0x48, 0x89,
        0xe5, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x39,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x8b, 0x50, 0x18,
        0x48, 0x8d, 0x35, 0x25, 0x00, 0x00, 0x00, 0x31,
        0xc0, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x83, 0xc5, 0xf8,
    };
    // 0: "__init__() should return None, not '%.200s'\x00"
    // 2c: 00 00 00 00
    // 30: &PyErr_Format+0x0
    // 38: &PyExc_TypeError+0x0
    // 40: &_Py_NoneStruct+0x0
    const unsigned char data_body[72] = {
        0x5f, 0x5f, 0x69, 0x6e, 0x69, 0x74, 0x5f, 0x5f,
        0x28, 0x29, 0x20, 0x73, 0x68, 0x6f, 0x75, 0x6c,
        0x64, 0x20, 0x72, 0x65, 0x74, 0x75, 0x72, 0x6e,
        0x20, 0x4e, 0x6f, 0x6e, 0x65, 0x2c, 0x20, 0x6e,
        0x6f, 0x74, 0x20, 0x27, 0x25, 0x2e, 0x32, 0x30,
        0x30, 0x73, 0x27, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x30, (uintptr_t)&PyErr_Format);
    patch_64(data + 0x38, (uintptr_t)&PyExc_TypeError);
    patch_64(data + 0x40, (uintptr_t)&_Py_NoneStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x3c);
    patch_x86_64_32rx(code + 0x19, (uintptr_t)data + 0x34);
    patch_32r(code + 0x2b, (uintptr_t)data + 0x75);
    patch_x86_64_32rx(code + 0x33, (uintptr_t)data + 0x2c);
    patch_32r(code + 0x47, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__EXIT_TRACE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _EXIT_TRACE.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 49 8b 1c 24                   movq    (%r12), %rbx
    // c: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 13: 8b 02                         movl    (%rdx), %eax
    // 15: 48 8d 04 43                   leaq    (%rbx,%rax,2), %rax
    // 19: 48 05 d0 00 00 00             addq    $0xd0, %rax
    // 1f: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 28: 48 8b 7a 08                   movq    0x8(%rdx), %rdi
    // 2c: 48 85 ff                      testq   %rdi, %rdi
    // 2f: 74 35                         je      0x66 <__JIT_ENTRY+0x66>
    // 31: f6 47 22 01                   testb   $0x1, 0x22(%rdi)
    // 35: 75 22                         jne     0x59 <__JIT_ENTRY+0x59>
    // 37: 66 c7 42 04 fc ff             movw    $0xfffc, 0x4(%rdx)      ## imm = 0xFFFC
    // 3d: 48 c7 42 08 00 00 00 00       movq    $0x0, 0x8(%rdx)
    // 45: 8b 0f                         movl    (%rdi), %ecx
    // 47: 85 c9                         testl   %ecx, %ecx
    // 49: 0f 88 8a 00 00 00             js      0xd9 <__JIT_ENTRY+0xd9>
    // 4f: ff c9                         decl    %ecx
    // 51: 89 0f                         movl    %ecx, (%rdi)
    // 53: 0f 84 ec 00 00 00             je      0x145 <__JIT_ENTRY+0x145>
    // 59: 48 8b 72 08                   movq    0x8(%rdx), %rsi
    // 5d: 48 85 f6                      testq   %rsi, %rsi
    // 60: 0f 85 b8 00 00 00             jne     0x11e <__JIT_ENTRY+0x11e>
    // 66: 44 0f b7 7a 04                movzwl  0x4(%rdx), %r15d
    // 6b: 41 83 ff 0f                   cmpl    $0xf, %r15d
    // 6f: 73 6d                         jae     0xde <__JIT_ENTRY+0xde>
    // 71: 80 38 ff                      cmpb    $-0x1, (%rax)
    // 74: 0f 84 86 00 00 00             je      0x100 <__JIT_ENTRY+0x100>
    // 7a: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 7e: 4c 8b 35 00 00 00 00          movq    (%rip), %r14            ## 0x85 <__JIT_ENTRY+0x85>
    // 0000000000000081:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // 85: 45 0f b6 46 22                movzbl  0x22(%r14), %r8d
    // 8a: 41 c1 e8 02                   shrl    $0x2, %r8d
    // 8e: 41 ff c0                      incl    %r8d
    // 91: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 96: 48 8d 4d f0                   leaq    -0x10(%rbp), %rcx
    // 9a: 4c 89 e7                      movq    %r12, %rdi
    // 9d: 48 89 c3                      movq    %rax, %rbx
    // a0: 48 89 c6                      movq    %rax, %rsi
    // a3: 4c 89 ea                      movq    %r13, %rdx
    // a6: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xac <__JIT_ENTRY+0xac>
    // 00000000000000a8:  X86_64_RELOC_GOT     __PyOptimizer_Optimize@GOTPCREL
    // ac: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // b1: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // ba: 85 c0                         testl   %eax, %eax
    // bc: 0f 8e a4 00 00 00             jle     0x166 <__JIT_ENTRY+0x166>
    // c2: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0xc9 <__JIT_ENTRY+0xc9>
    // 00000000000000c5:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // c9: 66 c7 42 04 fc ff             movw    $0xfffc, 0x4(%rdx)      ## imm = 0xFFFC
    // cf: 48 8b 75 f0                   movq    -0x10(%rbp), %rsi
    // d3: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // d7: eb 41                         jmp     0x11a <__JIT_ENTRY+0x11a>
    // d9: 66 41 bf fc ff                movw    $0xfffc, %r15w          ## imm = 0xFFFC
    // de: 41 83 c7 f0                   addl    $-0x10, %r15d
    // e2: 66 44 89 7a 04                movw    %r15w, 0x4(%rdx)
    // e7: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xee <__JIT_ENTRY+0xee>
    // 00000000000000ea:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // ee: 49 89 8e 10 01 00 00          movq    %rcx, 0x110(%r14)
    // f5: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // fa: 48 83 c4 10                   addq    $0x10, %rsp
    // fe: 5d                            popq    %rbp
    // ff: c3                            retq
    // 100: 48 8b b3 98 00 00 00          movq    0x98(%rbx), %rsi
    // 107: 0f b6 48 01                   movzbl  0x1(%rax), %ecx
    // 10b: 48 8b 74 ce 08                movq    0x8(%rsi,%rcx,8), %rsi
    // 110: 8b 0e                         movl    (%rsi), %ecx
    // 112: 85 c9                         testl   %ecx, %ecx
    // 114: 78 04                         js      0x11a <__JIT_ENTRY+0x11a>
    // 116: ff c1                         incl    %ecx
    // 118: 89 0e                         movl    %ecx, (%rsi)
    // 11a: 48 89 72 08                   movq    %rsi, 0x8(%rdx)
    // 11e: 8b 0e                         movl    (%rsi), %ecx
    // 120: 85 c9                         testl   %ecx, %ecx
    // 122: 78 08                         js      0x12c <__JIT_ENTRY+0x12c>
    // 124: ff c1                         incl    %ecx
    // 126: 89 0e                         movl    %ecx, (%rsi)
    // 128: 48 8b 72 08                   movq    0x8(%rdx), %rsi
    // 12c: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x133 <__JIT_ENTRY+0x133>
    // 000000000000012f:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // 133: 49 89 8e 10 01 00 00          movq    %rcx, 0x110(%r14)
    // 13a: 48 8b 46 78                   movq    0x78(%rsi), %rax
    // 13e: 48 83 c4 10                   addq    $0x10, %rsp
    // 142: 5d                            popq    %rbp
    // 143: ff e0                         jmpq    *%rax
    // 145: 49 89 c7                      movq    %rax, %r15
    // 148: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x14e <__JIT_ENTRY+0x14e>
    // 000000000000014a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 14e: 4c 89 f8                      movq    %r15, %rax
    // 151: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x158 <__JIT_ENTRY+0x158>
    // 0000000000000154:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 158: 48 8b 72 08                   movq    0x8(%rdx), %rsi
    // 15c: 48 85 f6                      testq   %rsi, %rsi
    // 15f: 75 bd                         jne     0x11e <__JIT_ENTRY+0x11e>
    // 161: e9 00 ff ff ff                jmp     0x66 <__JIT_ENTRY+0x66>
    // 166: 66 ba fc ff                   movw    $0xfffc, %dx            ## imm = 0xFFFC
    // 16a: 66 41 83 ff 0b                cmpw    $0xb, %r15w
    // 16f: 77 15                         ja      0x186 <__JIT_ENTRY+0x186>
    // 171: 41 ff c7                      incl    %r15d
    // 174: ba ff ff ff ff                movl    $0xffffffff, %edx       ## imm = 0xFFFFFFFF
    // 179: 44 89 f9                      movl    %r15d, %ecx
    // 17c: d3 e2                         shll    %cl, %edx
    // 17e: f7 d2                         notl    %edx
    // 180: c1 e2 04                      shll    $0x4, %edx
    // 183: 44 09 fa                      orl     %r15d, %edx
    // 186: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x18d <__JIT_ENTRY+0x18d>
    // 0000000000000189:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 18d: 66 89 51 04                   movw    %dx, 0x4(%rcx)
    // 191: 85 c0                         testl   %eax, %eax
    // 193: 78 19                         js      0x1ae <__JIT_ENTRY+0x1ae>
    // 195: 48 89 d8                      movq    %rbx, %rax
    // 198: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // 19c: 4c 89 b1 10 01 00 00          movq    %r14, 0x110(%rcx)
    // 1a3: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1a8: 48 83 c4 10                   addq    $0x10, %rsp
    // 1ac: 5d                            popq    %rbp
    // 1ad: c3                            retq
    // 1ae: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 1b2: 4c 89 b0 10 01 00 00          movq    %r14, 0x110(%rax)
    // 1b9: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1be: 31 c0                         xorl    %eax, %eax
    // 1c0: 48 83 c4 10                   addq    $0x10, %rsp
    // 1c4: 5d                            popq    %rbp
    // 1c5: c3                            retq
    const unsigned char code_body[454] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x49, 0x8b, 0x1c, 0x24, 0x48, 0x8b, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x02, 0x48, 0x8d, 0x04,
        0x43, 0x48, 0x05, 0xd0, 0x00, 0x00, 0x00, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x7a, 0x08, 0x48, 0x85, 0xff, 0x74,
        0x35, 0xf6, 0x47, 0x22, 0x01, 0x75, 0x22, 0x66,
        0xc7, 0x42, 0x04, 0xfc, 0xff, 0x48, 0xc7, 0x42,
        0x08, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0f, 0x85,
        0xc9, 0x0f, 0x88, 0x8a, 0x00, 0x00, 0x00, 0xff,
        0xc9, 0x89, 0x0f, 0x0f, 0x84, 0xec, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x72, 0x08, 0x48, 0x85, 0xf6,
        0x0f, 0x85, 0xb8, 0x00, 0x00, 0x00, 0x44, 0x0f,
        0xb7, 0x7a, 0x04, 0x41, 0x83, 0xff, 0x0f, 0x73,
        0x6d, 0x80, 0x38, 0xff, 0x0f, 0x84, 0x86, 0x00,
        0x00, 0x00, 0x4c, 0x89, 0x75, 0xf8, 0x4c, 0x8b,
        0x35, 0x00, 0x00, 0x00, 0x00, 0x45, 0x0f, 0xb6,
        0x46, 0x22, 0x41, 0xc1, 0xe8, 0x02, 0x41, 0xff,
        0xc0, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8d,
        0x4d, 0xf0, 0x4c, 0x89, 0xe7, 0x48, 0x89, 0xc3,
        0x48, 0x89, 0xc6, 0x4c, 0x89, 0xea, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x85, 0xc0, 0x0f, 0x8e, 0xa4, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x66, 0xc7, 0x42, 0x04, 0xfc, 0xff, 0x48,
        0x8b, 0x75, 0xf0, 0x4c, 0x8b, 0x75, 0xf8, 0xeb,
        0x41, 0x66, 0x41, 0xbf, 0xfc, 0xff, 0x41, 0x83,
        0xc7, 0xf0, 0x66, 0x44, 0x89, 0x7a, 0x04, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89,
        0x8e, 0x10, 0x01, 0x00, 0x00, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xc3,
        0x48, 0x8b, 0xb3, 0x98, 0x00, 0x00, 0x00, 0x0f,
        0xb6, 0x48, 0x01, 0x48, 0x8b, 0x74, 0xce, 0x08,
        0x8b, 0x0e, 0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1,
        0x89, 0x0e, 0x48, 0x89, 0x72, 0x08, 0x8b, 0x0e,
        0x85, 0xc9, 0x78, 0x08, 0xff, 0xc1, 0x89, 0x0e,
        0x48, 0x8b, 0x72, 0x08, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x8e, 0x10, 0x01,
        0x00, 0x00, 0x48, 0x8b, 0x46, 0x78, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xff, 0xe0, 0x49, 0x89, 0xc7,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xf8, 0x48, 0x8b, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x72, 0x08, 0x48, 0x85, 0xf6, 0x75,
        0xbd, 0xe9, 0x00, 0xff, 0xff, 0xff, 0x66, 0xba,
        0xfc, 0xff, 0x66, 0x41, 0x83, 0xff, 0x0b, 0x77,
        0x15, 0x41, 0xff, 0xc7, 0xba, 0xff, 0xff, 0xff,
        0xff, 0x44, 0x89, 0xf9, 0xd3, 0xe2, 0xf7, 0xd2,
        0xc1, 0xe2, 0x04, 0x44, 0x09, 0xfa, 0x48, 0x8b,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0x66, 0x89, 0x51,
        0x04, 0x85, 0xc0, 0x78, 0x19, 0x48, 0x89, 0xd8,
        0x48, 0x8b, 0x4d, 0xf8, 0x4c, 0x89, 0xb1, 0x10,
        0x01, 0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xc3, 0x48, 0x8b,
        0x45, 0xf8, 0x4c, 0x89, 0xb0, 0x10, 0x01, 0x00,
        0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x31, 0xc0,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xc3,
    };
    // 0: OPERAND0
    // 8: &_Py_Dealloc+0x0
    // 10: EXECUTOR
    // 18: &_PyOptimizer_Optimize+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, (uintptr_t)executor);
    patch_64(data + 0x18, (uintptr_t)&_PyOptimizer_Optimize);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x81, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xa8, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0xc5, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xea, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x12f, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x14a, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x154, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x189, (uintptr_t)data + -0x4);
}

void
emit__EXPAND_METHOD(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _EXPAND_METHOD.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: ba fe ff ff ff                movl    $0xfffffffe, %edx       ## imm = 0xFFFFFFFE
    // c: 29 c2                         subl    %eax, %edx
    // e: f7 d0                         notl    %eax
    // 10: 48 63 c8                      movslq  %eax, %rcx
    // 13: 48 63 c2                      movslq  %edx, %rax
    // 16: 49 8b 54 c5 00                movq    (%r13,%rax,8), %rdx
    // 1b: 48 8b 72 18                   movq    0x18(%rdx), %rsi
    // 1f: 8b 3e                         movl    (%rsi), %edi
    // 21: 85 ff                         testl   %edi, %edi
    // 23: 78 04                         js      0x29 <__JIT_ENTRY+0x29>
    // 25: ff c7                         incl    %edi
    // 27: 89 3e                         movl    %edi, (%rsi)
    // 29: 49 89 74 cd 00                movq    %rsi, (%r13,%rcx,8)
    // 2e: 49 8b 7c c5 00                movq    (%r13,%rax,8), %rdi
    // 33: 48 8b 4a 10                   movq    0x10(%rdx), %rcx
    // 37: 8b 11                         movl    (%rcx), %edx
    // 39: 85 d2                         testl   %edx, %edx
    // 3b: 78 04                         js      0x41 <__JIT_ENTRY+0x41>
    // 3d: ff c2                         incl    %edx
    // 3f: 89 11                         movl    %edx, (%rcx)
    // 41: 49 89 4c c5 00                movq    %rcx, (%r13,%rax,8)
    // 46: 8b 07                         movl    (%rdi), %eax
    // 48: 85 c0                         testl   %eax, %eax
    // 4a: 0f 88 00 00 00 00             js      0x50 <__JIT_ENTRY+0x50>
    // 000000000000004c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 50: ff c8                         decl    %eax
    // 52: 89 07                         movl    %eax, (%rdi)
    // 54: 0f 85 00 00 00 00             jne     0x5a <__JIT_ENTRY+0x5a>
    // 0000000000000056:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 5a: 55                            pushq   %rbp
    // 5b: 48 89 e5                      movq    %rsp, %rbp
    // 5e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 64: 5d                            popq    %rbp
    // 65: e9 00 00 00 00                jmp     0x6a <__JIT_ENTRY+0x6a>
    // 0000000000000066:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[101] = {
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0xba,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xc2, 0xf7, 0xd0,
        0x48, 0x63, 0xc8, 0x48, 0x63, 0xc2, 0x49, 0x8b,
        0x54, 0xc5, 0x00, 0x48, 0x8b, 0x72, 0x18, 0x8b,
        0x3e, 0x85, 0xff, 0x78, 0x04, 0xff, 0xc7, 0x89,
        0x3e, 0x49, 0x89, 0x74, 0xcd, 0x00, 0x49, 0x8b,
        0x7c, 0xc5, 0x00, 0x48, 0x8b, 0x4a, 0x10, 0x8b,
        0x11, 0x85, 0xd2, 0x78, 0x04, 0xff, 0xc2, 0x89,
        0x11, 0x49, 0x89, 0x4c, 0xc5, 0x00, 0x8b, 0x07,
        0x85, 0xc0, 0x0f, 0x88, 0x00, 0x00, 0x00, 0x00,
        0xff, 0xc8, 0x89, 0x07, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x56, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x60, (uintptr_t)data + -0x4);
}

void
emit__EXPAND_METHOD_KW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _EXPAND_METHOD_KW.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // c: 29 c1                         subl    %eax, %ecx
    // e: 48 63 c9                      movslq  %ecx, %rcx
    // 11: ba fd ff ff ff                movl    $0xfffffffd, %edx       ## imm = 0xFFFFFFFD
    // 16: 29 c2                         subl    %eax, %edx
    // 18: 48 63 c2                      movslq  %edx, %rax
    // 1b: 49 8b 7c c5 00                movq    (%r13,%rax,8), %rdi
    // 20: 48 8b 57 18                   movq    0x18(%rdi), %rdx
    // 24: 8b 32                         movl    (%rdx), %esi
    // 26: 85 f6                         testl   %esi, %esi
    // 28: 78 04                         js      0x2e <__JIT_ENTRY+0x2e>
    // 2a: ff c6                         incl    %esi
    // 2c: 89 32                         movl    %esi, (%rdx)
    // 2e: 49 89 54 cd 00                movq    %rdx, (%r13,%rcx,8)
    // 33: 48 8b 4f 10                   movq    0x10(%rdi), %rcx
    // 37: 8b 11                         movl    (%rcx), %edx
    // 39: 85 d2                         testl   %edx, %edx
    // 3b: 78 04                         js      0x41 <__JIT_ENTRY+0x41>
    // 3d: ff c2                         incl    %edx
    // 3f: 89 11                         movl    %edx, (%rcx)
    // 41: 49 89 4c c5 00                movq    %rcx, (%r13,%rax,8)
    // 46: 8b 07                         movl    (%rdi), %eax
    // 48: 85 c0                         testl   %eax, %eax
    // 4a: 0f 88 00 00 00 00             js      0x50 <__JIT_ENTRY+0x50>
    // 000000000000004c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 50: ff c8                         decl    %eax
    // 52: 89 07                         movl    %eax, (%rdi)
    // 54: 0f 85 00 00 00 00             jne     0x5a <__JIT_ENTRY+0x5a>
    // 0000000000000056:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 5a: 55                            pushq   %rbp
    // 5b: 48 89 e5                      movq    %rsp, %rbp
    // 5e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 64: 5d                            popq    %rbp
    // 65: e9 00 00 00 00                jmp     0x6a <__JIT_ENTRY+0x6a>
    // 0000000000000066:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[101] = {
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0xb9,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xc1, 0x48, 0x63,
        0xc9, 0xba, 0xfd, 0xff, 0xff, 0xff, 0x29, 0xc2,
        0x48, 0x63, 0xc2, 0x49, 0x8b, 0x7c, 0xc5, 0x00,
        0x48, 0x8b, 0x57, 0x18, 0x8b, 0x32, 0x85, 0xf6,
        0x78, 0x04, 0xff, 0xc6, 0x89, 0x32, 0x49, 0x89,
        0x54, 0xcd, 0x00, 0x48, 0x8b, 0x4f, 0x10, 0x8b,
        0x11, 0x85, 0xd2, 0x78, 0x04, 0xff, 0xc2, 0x89,
        0x11, 0x49, 0x89, 0x4c, 0xc5, 0x00, 0x8b, 0x07,
        0x85, 0xc0, 0x0f, 0x88, 0x00, 0x00, 0x00, 0x00,
        0xff, 0xc8, 0x89, 0x07, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x56, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x60, (uintptr_t)data + -0x4);
}

void
emit__FATAL_ERROR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _FATAL_ERROR.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8d 3d 0d 00 00 00          leaq    0xd(%rip), %rdi         ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000007:  X86_64_RELOC_SIGNED  __cstring
    // b: 48 8d 35 11 00 00 00          leaq    0x11(%rip), %rsi        ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000000e:  X86_64_RELOC_SIGNED  __cstring
    // 12: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT     __Py_FatalErrorFunc@GOTPCREL
    const unsigned char code_body[24] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8d, 0x3d, 0x0d,
        0x00, 0x00, 0x00, 0x48, 0x8d, 0x35, 0x11, 0x00,
        0x00, 0x00, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: '_JIT_ENTRY\x00Fatal error uop executed.\x00'
    // 25: 00 00 00
    // 28: &_Py_FatalErrorFunc+0x0
    const unsigned char data_body[48] = {
        0x5f, 0x4a, 0x49, 0x54, 0x5f, 0x45, 0x4e, 0x54,
        0x52, 0x59, 0x00, 0x46, 0x61, 0x74, 0x61, 0x6c,
        0x20, 0x65, 0x72, 0x72, 0x6f, 0x72, 0x20, 0x75,
        0x6f, 0x70, 0x20, 0x65, 0x78, 0x65, 0x63, 0x75,
        0x74, 0x65, 0x64, 0x2e, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x28, (uintptr_t)&_Py_FatalErrorFunc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x7, (uintptr_t)data + 0x21);
    patch_32r(code + 0xe, (uintptr_t)data + 0x25);
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + 0x24);
}

void
emit__FORMAT_SIMPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _FORMAT_SIMPLE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyUnicode_Type@GOTPCREL
    // 13: 74 32                         je      0x47 <__JIT_ENTRY+0x47>
    // 15: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1a: 48 89 df                      movq    %rbx, %rdi
    // 1d: 31 f6                         xorl    %esi, %esi
    // 1f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyObject_Format@GOTPCREL
    // 25: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2a: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 33: 8b 0b                         movl    (%rbx), %ecx
    // 35: 85 c9                         testl   %ecx, %ecx
    // 37: 78 06                         js      0x3f <__JIT_ENTRY+0x3f>
    // 39: ff c9                         decl    %ecx
    // 3b: 89 0b                         movl    %ecx, (%rbx)
    // 3d: 74 12                         je      0x51 <__JIT_ENTRY+0x51>
    // 3f: 48 85 c0                      testq   %rax, %rax
    // 42: 74 21                         je      0x65 <__JIT_ENTRY+0x65>
    // 44: 48 89 c3                      movq    %rax, %rbx
    // 47: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 4b: 5d                            popq    %rbp
    // 4c: e9 00 00 00 00                jmp     0x51 <__JIT_ENTRY+0x51>
    // 000000000000004d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 51: 48 89 df                      movq    %rbx, %rdi
    // 54: 48 89 c3                      movq    %rax, %rbx
    // 57: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5d <__JIT_ENTRY+0x5d>
    // 0000000000000059:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5d: 48 89 d8                      movq    %rbx, %rax
    // 60: 48 85 c0                      testq   %rax, %rax
    // 63: 75 df                         jne     0x44 <__JIT_ENTRY+0x44>
    // 65: 5d                            popq    %rbp
    // 66: e9 00 00 00 00                jmp     0x6b <__JIT_ENTRY+0x6b>
    // 0000000000000067:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[107] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x48, 0x8b, 0x43, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x32, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x89, 0xdf, 0x31, 0xf6, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78,
        0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x12, 0x48,
        0x85, 0xc0, 0x74, 0x21, 0x48, 0x89, 0xc3, 0x49,
        0x89, 0x5d, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xd8,
        0x48, 0x85, 0xc0, 0x75, 0xdf, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_Format+0x0
    // 10: &PyUnicode_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_Format);
    patch_64(data + 0x10, (uintptr_t)&PyUnicode_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x59, (uintptr_t)data + -0x4);
    patch_32r(code + 0x67, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__FORMAT_WITH_SPEC(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _FORMAT_WITH_SPEC.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 10: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 14: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 19: 48 89 df                      movq    %rbx, %rdi
    // 1c: 4c 89 fe                      movq    %r15, %rsi
    // 1f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     _PyObject_Format@GOTPCREL
    // 25: 49 89 c6                      movq    %rax, %r14
    // 28: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2d: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 36: 8b 03                         movl    (%rbx), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 0f                         js      0x4b <__JIT_ENTRY+0x4b>
    // 3c: ff c8                         decl    %eax
    // 3e: 89 03                         movl    %eax, (%rbx)
    // 40: 75 09                         jne     0x4b <__JIT_ENTRY+0x4b>
    // 42: 48 89 df                      movq    %rbx, %rdi
    // 45: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4b: 41 8b 07                      movl    (%r15), %eax
    // 4e: 85 c0                         testl   %eax, %eax
    // 50: 78 07                         js      0x59 <__JIT_ENTRY+0x59>
    // 52: ff c8                         decl    %eax
    // 54: 41 89 07                      movl    %eax, (%r15)
    // 57: 74 1b                         je      0x74 <__JIT_ENTRY+0x74>
    // 59: 4d 85 f6                      testq   %r14, %r14
    // 5c: 74 24                         je      0x82 <__JIT_ENTRY+0x82>
    // 5e: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 62: 49 83 c5 f8                   addq    $-0x8, %r13
    // 66: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 6a: 48 83 c4 10                   addq    $0x10, %rsp
    // 6e: 5d                            popq    %rbp
    // 6f: e9 00 00 00 00                jmp     0x74 <__JIT_ENTRY+0x74>
    // 0000000000000070:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 74: 4c 89 ff                      movq    %r15, %rdi
    // 77: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7d <__JIT_ENTRY+0x7d>
    // 0000000000000079:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 7d: 4d 85 f6                      testq   %r14, %r14
    // 80: 75 dc                         jne     0x5e <__JIT_ENTRY+0x5e>
    // 82: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 86: 48 83 c4 10                   addq    $0x10, %rsp
    // 8a: 5d                            popq    %rbp
    // 8b: e9 00 00 00 00                jmp     0x90 <__JIT_ENTRY+0x90>
    // 000000000000008c:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[144] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x8b, 0x5d, 0xf0,
        0x4d, 0x8b, 0x7d, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x48, 0x89, 0xdf, 0x4c, 0x89, 0xfe, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0xc6,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x03,
        0x85, 0xc0, 0x78, 0x0f, 0xff, 0xc8, 0x89, 0x03,
        0x75, 0x09, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x07, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x74,
        0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x24, 0x4d, 0x89,
        0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xff, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x85, 0xf6,
        0x75, 0xdc, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_Format+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_Format);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x47, (uintptr_t)data + -0x4);
    patch_32r(code + 0x70, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x79, (uintptr_t)data + -0x4);
    patch_32r(code + 0x8c, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__FOR_ITER_GEN_FRAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _FOR_ITER_GEN_FRAME.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // c: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyGen_Type@GOTPCREL
    // 13: 75 06                         jne     0x1b <__JIT_ENTRY+0x1b>
    // 15: 80 78 43 00                   cmpb    $0x0, 0x43(%rax)
    // 19: 78 06                         js      0x21 <__JIT_ENTRY+0x21>
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 21: 48 8b 88 88 00 00 00          movq    0x88(%rax), %rcx
    // 28: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_GOT_LOAD        __Py_NoneStruct@GOTPCREL
    // 2f: 48 89 11                      movq    %rdx, (%rcx)
    // 32: 48 83 80 88 00 00 00 08       addq    $0x8, 0x88(%rax)
    // 3a: 48 8d 48 48                   leaq    0x48(%rax), %rcx
    // 3e: c6 40 43 00                   movb    $0x0, 0x43(%rax)
    // 42: 49 8b 56 78                   movq    0x78(%r14), %rdx
    // 46: 48 8d 70 28                   leaq    0x28(%rax), %rsi
    // 4a: 48 89 50 30                   movq    %rdx, 0x30(%rax)
    // 4e: 49 89 76 78                   movq    %rsi, 0x78(%r14)
    // 52: 4c 89 60 50                   movq    %r12, 0x50(%rax)
    // 56: 8b 05 00 00 00 00             movl    (%rip), %eax            ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 5c: 83 c0 02                      addl    $0x2, %eax
    // 5f: 66 41 89 44 24 48             movw    %ax, 0x48(%r12)
    // 65: 49 89 4d 00                   movq    %rcx, (%r13)
    // 69: 49 83 c5 08                   addq    $0x8, %r13
    // 6d: 5d                            popq    %rbp
    // 6e: e9 00 00 00 00                jmp     0x73 <__JIT_ENTRY+0x73>
    // 000000000000006f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[110] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x08, 0x48, 0x3b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x06, 0x80, 0x78, 0x43,
        0x00, 0x78, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x88, 0x88, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0x11, 0x48, 0x83, 0x80, 0x88, 0x00, 0x00,
        0x00, 0x08, 0x48, 0x8d, 0x48, 0x48, 0xc6, 0x40,
        0x43, 0x00, 0x49, 0x8b, 0x56, 0x78, 0x48, 0x8d,
        0x70, 0x28, 0x48, 0x89, 0x50, 0x30, 0x49, 0x89,
        0x76, 0x78, 0x4c, 0x89, 0x60, 0x50, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x83, 0xc0, 0x02, 0x66,
        0x41, 0x89, 0x44, 0x24, 0x48, 0x49, 0x89, 0x4d,
        0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: OPARG
    // 8: &_Py_NoneStruct+0x0
    // 10: &PyGen_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, (uintptr_t)&_Py_NoneStruct);
    patch_64(data + 0x10, (uintptr_t)&PyGen_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0xc);
    patch_32r(code + 0x1d, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x2b, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
}

void
emit__FOR_ITER_TIER_TWO(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _FOR_ITER_TIER_TWO.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 11: ff 90 e0 00 00 00             callq   *0xe0(%rax)
    // 17: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 1c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 25: 48 85 c0                      testq   %rax, %rax
    // 28: 74 0e                         je      0x38 <__JIT_ENTRY+0x38>
    // 2a: 49 89 45 00                   movq    %rax, (%r13)
    // 2e: 49 83 c5 08                   addq    $0x8, %r13
    // 32: 5d                            popq    %rbp
    // 33: e9 00 00 00 00                jmp     0x38 <__JIT_ENTRY+0x38>
    // 0000000000000034:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 38: 49 8b 46 70                   movq    0x70(%r14), %rax
    // 3c: 48 85 c0                      testq   %rax, %rax
    // 3f: 74 5e                         je      0x9f <__JIT_ENTRY+0x9f>
    // 41: 48 83 78 08 00                cmpq    $0x0, 0x8(%rax)
    // 46: 74 57                         je      0x9f <__JIT_ENTRY+0x9f>
    // 48: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 4d: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_GOT_LOAD        _PyExc_StopIteration@GOTPCREL
    // 54: 48 8b 30                      movq    (%rax), %rsi
    // 57: 4c 89 f7                      movq    %r14, %rdi
    // 5a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x60 <__JIT_ENTRY+0x60>
    // 000000000000005c:  X86_64_RELOC_GOT     __PyErr_ExceptionMatches@GOTPCREL
    // 60: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 65: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 6e: 85 c0                         testl   %eax, %eax
    // 70: 74 33                         je      0xa5 <__JIT_ENTRY+0xa5>
    // 72: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 77: 49 8b 54 24 38                movq    0x38(%r12), %rdx
    // 7c: 4c 89 f7                      movq    %r14, %rdi
    // 7f: 4c 89 e6                      movq    %r12, %rsi
    // 82: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x88 <__JIT_ENTRY+0x88>
    // 0000000000000084:  X86_64_RELOC_GOT     __PyEval_MonitorRaise@GOTPCREL
    // 88: 4c 89 f7                      movq    %r14, %rdi
    // 8b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x91 <__JIT_ENTRY+0x91>
    // 000000000000008d:  X86_64_RELOC_GOT     __PyErr_Clear@GOTPCREL
    // 91: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 96: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 9f: 5d                            popq    %rbp
    // a0: e9 00 00 00 00                jmp     0xa5 <__JIT_ENTRY+0xa5>
    // 00000000000000a1:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // a5: 5d                            popq    %rbp
    // a6: e9 00 00 00 00                jmp     0xab <__JIT_ENTRY+0xab>
    // 00000000000000a7:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[171] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b, 0x47,
        0x08, 0xff, 0x90, 0xe0, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x0e, 0x49, 0x89, 0x45, 0x00, 0x49, 0x83,
        0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x8b, 0x46, 0x70, 0x48, 0x85, 0xc0, 0x74,
        0x5e, 0x48, 0x83, 0x78, 0x08, 0x00, 0x74, 0x57,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x30, 0x4c,
        0x89, 0xf7, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x85, 0xc0,
        0x74, 0x33, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49,
        0x8b, 0x54, 0x24, 0x38, 0x4c, 0x89, 0xf7, 0x4c,
        0x89, 0xe6, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_PyErr_Clear+0x0
    // 8: &_PyEval_MonitorRaise+0x0
    // 10: &_PyErr_ExceptionMatches+0x0
    // 18: &PyExc_StopIteration+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyErr_Clear);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_MonitorRaise);
    patch_64(data + 0x10, (uintptr_t)&_PyErr_ExceptionMatches);
    patch_64(data + 0x18, (uintptr_t)&PyExc_StopIteration);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x34, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x50, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x5c, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x84, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x8d, (uintptr_t)data + -0x4);
    patch_32r(code + 0xa1, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0xa7, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__GET_AITER(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GET_AITER.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 8: 49 8b 47 08                   movq    0x8(%r15), %rax
    // c: 48 8b 48 50                   movq    0x50(%rax), %rcx
    // 10: 48 85 c9                      testq   %rcx, %rcx
    // 13: 74 5d                         je      0x72 <__JIT_ENTRY+0x72>
    // 15: 48 8b 49 08                   movq    0x8(%rcx), %rcx
    // 19: 48 85 c9                      testq   %rcx, %rcx
    // 1c: 74 54                         je      0x72 <__JIT_ENTRY+0x72>
    // 1e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 23: 4c 89 ff                      movq    %r15, %rdi
    // 26: ff d1                         callq   *%rcx
    // 28: 48 89 c3                      movq    %rax, %rbx
    // 2b: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 30: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 39: 41 8b 07                      movl    (%r15), %eax
    // 3c: 85 c0                         testl   %eax, %eax
    // 3e: 78 0b                         js      0x4b <__JIT_ENTRY+0x4b>
    // 40: ff c8                         decl    %eax
    // 42: 41 89 07                      movl    %eax, (%r15)
    // 45: 0f 84 c6 00 00 00             je      0x111 <__JIT_ENTRY+0x111>
    // 4b: 48 85 db                      testq   %rbx, %rbx
    // 4e: 0f 84 cf 00 00 00             je      0x123 <__JIT_ENTRY+0x123>
    // 54: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 58: 48 8b 48 50                   movq    0x50(%rax), %rcx
    // 5c: 48 85 c9                      testq   %rcx, %rcx
    // 5f: 74 58                         je      0xb9 <__JIT_ENTRY+0xb9>
    // 61: 48 83 79 10 00                cmpq    $0x0, 0x10(%rcx)
    // 66: 74 51                         je      0xb9 <__JIT_ENTRY+0xb9>
    // 68: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 6c: 5d                            popq    %rbp
    // 6d: e9 00 00 00 00                jmp     0x72 <__JIT_ENTRY+0x72>
    // 000000000000006e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 72: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 77: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x7e <__JIT_ENTRY+0x7e>
    // 000000000000007a:  X86_64_RELOC_GOT_LOAD        _PyExc_TypeError@GOTPCREL
    // 7e: 48 8b 31                      movq    (%rcx), %rsi
    // 81: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // 85: 48 8d 15 ac 00 00 00          leaq    0xac(%rip), %rdx        ## 0x138 <__JIT_ENTRY+0x138>
    // 0000000000000088:  X86_64_RELOC_SIGNED  __cstring
    // 8c: 4c 89 f7                      movq    %r14, %rdi
    // 8f: 31 c0                         xorl    %eax, %eax
    // 91: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x97 <__JIT_ENTRY+0x97>
    // 0000000000000093:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // 97: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 9c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // a5: 41 8b 07                      movl    (%r15), %eax
    // a8: 85 c0                         testl   %eax, %eax
    // aa: 78 07                         js      0xb3 <__JIT_ENTRY+0xb3>
    // ac: ff c8                         decl    %eax
    // ae: 41 89 07                      movl    %eax, (%r15)
    // b1: 74 4f                         je      0x102 <__JIT_ENTRY+0x102>
    // b3: 5d                            popq    %rbp
    // b4: e9 00 00 00 00                jmp     0xb9 <__JIT_ENTRY+0xb9>
    // 00000000000000b5:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // b9: 49 83 c5 f8                   addq    $-0x8, %r13
    // bd: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // c2: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xc9 <__JIT_ENTRY+0xc9>
    // 00000000000000c5:  X86_64_RELOC_GOT_LOAD        _PyExc_TypeError@GOTPCREL
    // c9: 48 8b 31                      movq    (%rcx), %rsi
    // cc: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // d0: 48 8d 15 a2 00 00 00          leaq    0xa2(%rip), %rdx        ## 0x179 <__JIT_ENTRY+0x179>
    // 00000000000000d3:  X86_64_RELOC_SIGNED  __cstring
    // d7: 4c 89 f7                      movq    %r14, %rdi
    // da: 31 c0                         xorl    %eax, %eax
    // dc: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xe2 <__JIT_ENTRY+0xe2>
    // 00000000000000de:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // e2: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // e7: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // f0: 8b 03                         movl    (%rbx), %eax
    // f2: 85 c0                         testl   %eax, %eax
    // f4: 78 06                         js      0xfc <__JIT_ENTRY+0xfc>
    // f6: ff c8                         decl    %eax
    // f8: 89 03                         movl    %eax, (%rbx)
    // fa: 74 2d                         je      0x129 <__JIT_ENTRY+0x129>
    // fc: 5d                            popq    %rbp
    // fd: e9 00 00 00 00                jmp     0x102 <__JIT_ENTRY+0x102>
    // 00000000000000fe:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 102: 4c 89 ff                      movq    %r15, %rdi
    // 105: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x10b <__JIT_ENTRY+0x10b>
    // 0000000000000107:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 10b: 5d                            popq    %rbp
    // 10c: e9 00 00 00 00                jmp     0x111 <__JIT_ENTRY+0x111>
    // 000000000000010d:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 111: 4c 89 ff                      movq    %r15, %rdi
    // 114: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x11a <__JIT_ENTRY+0x11a>
    // 0000000000000116:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 11a: 48 85 db                      testq   %rbx, %rbx
    // 11d: 0f 85 31 ff ff ff             jne     0x54 <__JIT_ENTRY+0x54>
    // 123: 5d                            popq    %rbp
    // 124: e9 00 00 00 00                jmp     0x129 <__JIT_ENTRY+0x129>
    // 0000000000000125:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 129: 48 89 df                      movq    %rbx, %rdi
    // 12c: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x132 <__JIT_ENTRY+0x132>
    // 000000000000012e:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 132: 5d                            popq    %rbp
    // 133: e9 00 00 00 00                jmp     0x138 <__JIT_ENTRY+0x138>
    // 0000000000000134:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[312] = {
        0x55, 0x48, 0x89, 0xe5, 0x4d, 0x8b, 0x7d, 0xf8,
        0x49, 0x8b, 0x47, 0x08, 0x48, 0x8b, 0x48, 0x50,
        0x48, 0x85, 0xc9, 0x74, 0x5d, 0x48, 0x8b, 0x49,
        0x08, 0x48, 0x85, 0xc9, 0x74, 0x54, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x4c, 0x89, 0xff, 0xff, 0xd1,
        0x48, 0x89, 0xc3, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x0b,
        0xff, 0xc8, 0x41, 0x89, 0x07, 0x0f, 0x84, 0xc6,
        0x00, 0x00, 0x00, 0x48, 0x85, 0xdb, 0x0f, 0x84,
        0xcf, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x43, 0x08,
        0x48, 0x8b, 0x48, 0x50, 0x48, 0x85, 0xc9, 0x74,
        0x58, 0x48, 0x83, 0x79, 0x10, 0x00, 0x74, 0x51,
        0x49, 0x89, 0x5d, 0xf8, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x31, 0x48, 0x8b, 0x48, 0x18, 0x48, 0x8d, 0x15,
        0xac, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0x31,
        0xc0, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x07, 0xff, 0xc8, 0x41, 0x89,
        0x07, 0x74, 0x4f, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x83, 0xc5, 0xf8, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x31, 0x48, 0x8b, 0x48, 0x18,
        0x48, 0x8d, 0x15, 0xa2, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0xf7, 0x31, 0xc0, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x03, 0x74, 0x2d, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x4c, 0x89, 0xff, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x85, 0xdb, 0x0f, 0x85, 0x31,
        0xff, 0xff, 0xff, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: "'async for' requires an object with __aiter__ method, got %.100s\x00'async for' received an object from __aiter__ that does not implement __anext__: %.100s\x00"
    // 99: 00 00 00 00 00 00 00
    // a0: &_Py_Dealloc+0x0
    // a8: &_PyErr_Format+0x0
    // b0: &PyExc_TypeError+0x0
    const unsigned char data_body[184] = {
        0x27, 0x61, 0x73, 0x79, 0x6e, 0x63, 0x20, 0x66,
        0x6f, 0x72, 0x27, 0x20, 0x72, 0x65, 0x71, 0x75,
        0x69, 0x72, 0x65, 0x73, 0x20, 0x61, 0x6e, 0x20,
        0x6f, 0x62, 0x6a, 0x65, 0x63, 0x74, 0x20, 0x77,
        0x69, 0x74, 0x68, 0x20, 0x5f, 0x5f, 0x61, 0x69,
        0x74, 0x65, 0x72, 0x5f, 0x5f, 0x20, 0x6d, 0x65,
        0x74, 0x68, 0x6f, 0x64, 0x2c, 0x20, 0x67, 0x6f,
        0x74, 0x20, 0x25, 0x2e, 0x31, 0x30, 0x30, 0x73,
        0x00, 0x27, 0x61, 0x73, 0x79, 0x6e, 0x63, 0x20,
        0x66, 0x6f, 0x72, 0x27, 0x20, 0x72, 0x65, 0x63,
        0x65, 0x69, 0x76, 0x65, 0x64, 0x20, 0x61, 0x6e,
        0x20, 0x6f, 0x62, 0x6a, 0x65, 0x63, 0x74, 0x20,
        0x66, 0x72, 0x6f, 0x6d, 0x20, 0x5f, 0x5f, 0x61,
        0x69, 0x74, 0x65, 0x72, 0x5f, 0x5f, 0x20, 0x74,
        0x68, 0x61, 0x74, 0x20, 0x64, 0x6f, 0x65, 0x73,
        0x20, 0x6e, 0x6f, 0x74, 0x20, 0x69, 0x6d, 0x70,
        0x6c, 0x65, 0x6d, 0x65, 0x6e, 0x74, 0x20, 0x5f,
        0x5f, 0x61, 0x6e, 0x65, 0x78, 0x74, 0x5f, 0x5f,
        0x3a, 0x20, 0x25, 0x2e, 0x31, 0x30, 0x30, 0x73,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0xa0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0xa8, (uintptr_t)&_PyErr_Format);
    patch_64(data + 0xb0, (uintptr_t)&PyExc_TypeError);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x6e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x7a, (uintptr_t)data + 0xac);
    patch_32r(code + 0x88, (uintptr_t)data + 0x1e0);
    patch_x86_64_32rx(code + 0x93, (uintptr_t)data + 0xa4);
    patch_32r(code + 0xb5, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0xc5, (uintptr_t)data + 0xac);
    patch_32r(code + 0xd3, (uintptr_t)data + 0x1d6);
    patch_x86_64_32rx(code + 0xde, (uintptr_t)data + 0xa4);
    patch_32r(code + 0xfe, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x107, (uintptr_t)data + 0x9c);
    patch_32r(code + 0x10d, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x116, (uintptr_t)data + 0x9c);
    patch_32r(code + 0x125, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x12e, (uintptr_t)data + 0x9c);
    patch_32r(code + 0x134, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__GET_ANEXT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GET_ANEXT.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __PyEval_GetANext@GOTPCREL
    // 13: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 18: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 21: 48 85 c0                      testq   %rax, %rax
    // 24: 74 0e                         je      0x34 <__JIT_ENTRY+0x34>
    // 26: 49 89 45 00                   movq    %rax, (%r13)
    // 2a: 49 83 c5 08                   addq    $0x8, %r13
    // 2e: 5d                            popq    %rbp
    // 2f: e9 00 00 00 00                jmp     0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 34: 5d                            popq    %rbp
    // 35: e9 00 00 00 00                jmp     0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[58] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_PyEval_GetANext+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_GetANext);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x30, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x36, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__GET_AWAITABLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GET_AWAITABLE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 35 00 00 00 00          movzwl  (%rip), %esi            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 14: 48 89 df                      movq    %rbx, %rdi
    // 17: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_GOT     __PyEval_GetAwaitable@GOTPCREL
    // 1d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 22: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 2b: 8b 0b                         movl    (%rbx), %ecx
    // 2d: 85 c9                         testl   %ecx, %ecx
    // 2f: 78 06                         js      0x37 <__JIT_ENTRY+0x37>
    // 31: ff c9                         decl    %ecx
    // 33: 89 0b                         movl    %ecx, (%rbx)
    // 35: 74 0f                         je      0x46 <__JIT_ENTRY+0x46>
    // 37: 48 85 c0                      testq   %rax, %rax
    // 3a: 74 1e                         je      0x5a <__JIT_ENTRY+0x5a>
    // 3c: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 40: 5d                            popq    %rbp
    // 41: e9 00 00 00 00                jmp     0x46 <__JIT_ENTRY+0x46>
    // 0000000000000042:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 46: 48 89 df                      movq    %rbx, %rdi
    // 49: 48 89 c3                      movq    %rax, %rbx
    // 4c: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x52 <__JIT_ENTRY+0x52>
    // 000000000000004e:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 52: 48 89 d8                      movq    %rbx, %rax
    // 55: 48 85 c0                      testq   %rax, %rax
    // 58: 75 e2                         jne     0x3c <__JIT_ENTRY+0x3c>
    // 5a: 5d                            popq    %rbp
    // 5b: e9 00 00 00 00                jmp     0x60 <__JIT_ENTRY+0x60>
    // 000000000000005c:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[96] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x35, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d, 0xf8, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78,
        0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x0f, 0x48,
        0x85, 0xc0, 0x74, 0x1e, 0x49, 0x89, 0x45, 0xf8,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0x48, 0x89, 0xc3, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xd8, 0x48, 0x85, 0xc0,
        0x75, 0xe2, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_GetAwaitable+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_GetAwaitable);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x19, (uintptr_t)data + 0x4);
    patch_32r(code + 0x42, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x4e, (uintptr_t)data + -0x4);
    patch_32r(code + 0x5c, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__GET_ITER(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GET_ITER.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 48 89 df                      movq    %rbx, %rdi
    // 10: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT     _PyObject_GetIter@GOTPCREL
    // 16: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 1b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 24: 8b 0b                         movl    (%rbx), %ecx
    // 26: 85 c9                         testl   %ecx, %ecx
    // 28: 78 06                         js      0x30 <__JIT_ENTRY+0x30>
    // 2a: ff c9                         decl    %ecx
    // 2c: 89 0b                         movl    %ecx, (%rbx)
    // 2e: 74 0f                         je      0x3f <__JIT_ENTRY+0x3f>
    // 30: 48 85 c0                      testq   %rax, %rax
    // 33: 74 1e                         je      0x53 <__JIT_ENTRY+0x53>
    // 35: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3f: 48 89 df                      movq    %rbx, %rdi
    // 42: 48 89 c3                      movq    %rax, %rbx
    // 45: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4b: 48 89 d8                      movq    %rbx, %rax
    // 4e: 48 85 c0                      testq   %rax, %rax
    // 51: 75 e2                         jne     0x35 <__JIT_ENTRY+0x35>
    // 53: 5d                            popq    %rbp
    // 54: e9 00 00 00 00                jmp     0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[89] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9,
        0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x0f,
        0x48, 0x85, 0xc0, 0x74, 0x1e, 0x49, 0x89, 0x45,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xd8, 0x48, 0x85,
        0xc0, 0x75, 0xe2, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_GetIter+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_GetIter);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0x4);
    patch_32r(code + 0x3b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x47, (uintptr_t)data + -0x4);
    patch_32r(code + 0x55, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__GET_LEN(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GET_LEN.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyObject_Size@GOTPCREL
    // 13: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 18: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 21: 48 85 c0                      testq   %rax, %rax
    // 24: 78 1c                         js      0x42 <__JIT_ENTRY+0x42>
    // 26: 48 89 c7                      movq    %rax, %rdi
    // 29: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_GOT     _PyLong_FromSsize_t@GOTPCREL
    // 2f: 48 85 c0                      testq   %rax, %rax
    // 32: 74 0e                         je      0x42 <__JIT_ENTRY+0x42>
    // 34: 49 89 45 00                   movq    %rax, (%r13)
    // 38: 49 83 c5 08                   addq    $0x8, %r13
    // 3c: 5d                            popq    %rbp
    // 3d: e9 00 00 00 00                jmp     0x42 <__JIT_ENTRY+0x42>
    // 000000000000003e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 42: 5d                            popq    %rbp
    // 43: e9 00 00 00 00                jmp     0x48 <__JIT_ENTRY+0x48>
    // 0000000000000044:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[72] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x85, 0xc0, 0x78, 0x1c, 0x48, 0x89,
        0xc7, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89, 0x45, 0x00,
        0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &PyLong_FromSsize_t+0x0
    // 8: &PyObject_Size+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyLong_FromSsize_t);
    patch_64(data + 0x8, (uintptr_t)&PyObject_Size);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2b, (uintptr_t)data + -0x4);
    patch_32r(code + 0x3e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x44, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__GET_YIELD_FROM_ITER(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GET_YIELD_FROM_ITER.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyCoro_Type@GOTPCREL
    // 13: 74 43                         je      0x58 <__JIT_ENTRY+0x58>
    // 15: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT     _PyGen_Type@GOTPCREL
    // 1c: 74 49                         je      0x67 <__JIT_ENTRY+0x67>
    // 1e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 23: 48 89 df                      movq    %rbx, %rdi
    // 26: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_GOT     _PyObject_GetIter@GOTPCREL
    // 2c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 31: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3a: 48 85 c0                      testq   %rax, %rax
    // 3d: 74 5f                         je      0x9e <__JIT_ENTRY+0x9e>
    // 3f: 8b 0b                         movl    (%rbx), %ecx
    // 41: 85 c9                         testl   %ecx, %ecx
    // 43: 78 5f                         js      0xa4 <__JIT_ENTRY+0xa4>
    // 45: ff c9                         decl    %ecx
    // 47: 89 0b                         movl    %ecx, (%rbx)
    // 49: 74 66                         je      0xb1 <__JIT_ENTRY+0xb1>
    // 4b: 48 89 c3                      movq    %rax, %rbx
    // 4e: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 52: 5d                            popq    %rbp
    // 53: e9 00 00 00 00                jmp     0x58 <__JIT_ENTRY+0x58>
    // 0000000000000054:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 58: 49 8b 04 24                   movq    (%r12), %rax
    // 5c: 0f b7 40 30                   movzwl  0x30(%rax), %eax
    // 60: a9 80 01 00 00                testl   $0x180, %eax            ## imm = 0x180
    // 65: 74 0a                         je      0x71 <__JIT_ENTRY+0x71>
    // 67: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 6b: 5d                            popq    %rbp
    // 6c: e9 00 00 00 00                jmp     0x71 <__JIT_ENTRY+0x71>
    // 000000000000006d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 71: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 76: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x7d <__JIT_ENTRY+0x7d>
    // 0000000000000079:  X86_64_RELOC_GOT_LOAD        _PyExc_TypeError@GOTPCREL
    // 7d: 48 8b 30                      movq    (%rax), %rsi
    // 80: 48 8d 15 40 00 00 00          leaq    0x40(%rip), %rdx        ## 0xc7 <__JIT_ENTRY+0xc7>
    // 0000000000000083:  X86_64_RELOC_SIGNED  __cstring
    // 87: 4c 89 f7                      movq    %r14, %rdi
    // 8a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x90 <__JIT_ENTRY+0x90>
    // 000000000000008c:  X86_64_RELOC_GOT     __PyErr_SetString@GOTPCREL
    // 90: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 95: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 9e: 5d                            popq    %rbp
    // 9f: e9 00 00 00 00                jmp     0xa4 <__JIT_ENTRY+0xa4>
    // 00000000000000a0:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // a4: 48 89 c3                      movq    %rax, %rbx
    // a7: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // ab: 5d                            popq    %rbp
    // ac: e9 00 00 00 00                jmp     0xb1 <__JIT_ENTRY+0xb1>
    // 00000000000000ad:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // b1: 48 89 df                      movq    %rbx, %rdi
    // b4: 48 89 c3                      movq    %rax, %rbx
    // b7: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xbd <__JIT_ENTRY+0xbd>
    // 00000000000000b9:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // bd: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // c1: 5d                            popq    %rbp
    // c2: e9 00 00 00 00                jmp     0xc7 <__JIT_ENTRY+0xc7>
    // 00000000000000c3:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[194] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x48, 0x8b, 0x43, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x43, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x74, 0x49, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x5f, 0x8b,
        0x0b, 0x85, 0xc9, 0x78, 0x5f, 0xff, 0xc9, 0x89,
        0x0b, 0x74, 0x66, 0x48, 0x89, 0xc3, 0x49, 0x89,
        0x5d, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x8b, 0x04, 0x24, 0x0f, 0xb7, 0x40, 0x30,
        0xa9, 0x80, 0x01, 0x00, 0x00, 0x74, 0x0a, 0x49,
        0x89, 0x5d, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x30,
        0x48, 0x8d, 0x15, 0x40, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0xf7, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xc3, 0x49,
        0x89, 0x5d, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x5d,
        0xf8, 0x5d,
    };
    // 0: "cannot 'yield from' a coroutine object in a non-coroutine generator\x00"
    // 44: 00 00 00 00
    // 48: &_Py_Dealloc+0x0
    // 50: &_PyErr_SetString+0x0
    // 58: &PyExc_TypeError+0x0
    // 60: &PyObject_GetIter+0x0
    // 68: &PyGen_Type+0x0
    // 70: &PyCoro_Type+0x0
    const unsigned char data_body[120] = {
        0x63, 0x61, 0x6e, 0x6e, 0x6f, 0x74, 0x20, 0x27,
        0x79, 0x69, 0x65, 0x6c, 0x64, 0x20, 0x66, 0x72,
        0x6f, 0x6d, 0x27, 0x20, 0x61, 0x20, 0x63, 0x6f,
        0x72, 0x6f, 0x75, 0x74, 0x69, 0x6e, 0x65, 0x20,
        0x6f, 0x62, 0x6a, 0x65, 0x63, 0x74, 0x20, 0x69,
        0x6e, 0x20, 0x61, 0x20, 0x6e, 0x6f, 0x6e, 0x2d,
        0x63, 0x6f, 0x72, 0x6f, 0x75, 0x74, 0x69, 0x6e,
        0x65, 0x20, 0x67, 0x65, 0x6e, 0x65, 0x72, 0x61,
        0x74, 0x6f, 0x72, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x48, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x50, (uintptr_t)&_PyErr_SetString);
    patch_64(data + 0x58, (uintptr_t)&PyExc_TypeError);
    patch_64(data + 0x60, (uintptr_t)&PyObject_GetIter);
    patch_64(data + 0x68, (uintptr_t)&PyGen_Type);
    patch_64(data + 0x70, (uintptr_t)&PyCoro_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x6c);
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + 0x64);
    patch_x86_64_32rx(code + 0x28, (uintptr_t)data + 0x5c);
    patch_32r(code + 0x54, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x6d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x79, (uintptr_t)data + 0x54);
    patch_32r(code + 0x83, (uintptr_t)data + 0x103);
    patch_x86_64_32rx(code + 0x8c, (uintptr_t)data + 0x4c);
    patch_32r(code + 0xa0, state->instruction_starts[instruction->error_target] + -0x4);
    patch_32r(code + 0xad, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xb9, (uintptr_t)data + 0x44);
}

void
emit__GUARD_BOTH_FLOAT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_BOTH_FLOAT.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyFloat_Type@GOTPCREL
    // 13: 75 11                         jne     0x26 <__JIT_ENTRY+0x26>
    // 15: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 19: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 1d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyFloat_Type@GOTPCREL
    // 24: 74 06                         je      0x2c <__JIT_ENTRY+0x2c>
    // 26: 5d                            popq    %rbp
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2c: 5d                            popq    %rbp
    // 2d: e9 00 00 00 00                jmp     0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[45] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x11, 0x49, 0x8b, 0x45,
        0xf8, 0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyFloat_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyFloat_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + -0x4);
    patch_32r(code + 0x28, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_BOTH_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_BOTH_INT.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // 13: 75 11                         jne     0x26 <__JIT_ENTRY+0x26>
    // 15: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 19: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 1d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // 24: 74 06                         je      0x2c <__JIT_ENTRY+0x2c>
    // 26: 5d                            popq    %rbp
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2c: 5d                            popq    %rbp
    // 2d: e9 00 00 00 00                jmp     0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[45] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x11, 0x49, 0x8b, 0x45,
        0xf8, 0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyLong_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + -0x4);
    patch_32r(code + 0x28, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_BOTH_UNICODE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_BOTH_UNICODE.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyUnicode_Type@GOTPCREL
    // 13: 75 11                         jne     0x26 <__JIT_ENTRY+0x26>
    // 15: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 19: 48 8b 40 08                   movq    0x8(%rax), %rax
    // 1d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyUnicode_Type@GOTPCREL
    // 24: 74 06                         je      0x2c <__JIT_ENTRY+0x2c>
    // 26: 5d                            popq    %rbp
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2c: 5d                            popq    %rbp
    // 2d: e9 00 00 00 00                jmp     0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[45] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x11, 0x49, 0x8b, 0x45,
        0xf8, 0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyUnicode_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyUnicode_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + -0x4);
    patch_32r(code + 0x28, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_BUILTINS_VERSION_PUSH_KEYS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_BUILTINS_VERSION_PUSH_KEYS.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 20                movq    0x20(%r12), %rax
    // 9: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // d: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x14 <__JIT_ENTRY+0x14>
    // 0000000000000010:  X86_64_RELOC_GOT     _PyDict_Type@GOTPCREL
    // 14: 75 1e                         jne     0x34 <__JIT_ENTRY+0x34>
    // 16: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 1a: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 21: 39 48 0c                      cmpl    %ecx, 0xc(%rax)
    // 24: 75 0e                         jne     0x34 <__JIT_ENTRY+0x34>
    // 26: 49 89 45 00                   movq    %rax, (%r13)
    // 2a: 49 83 c5 08                   addq    $0x8, %r13
    // 2e: 5d                            popq    %rbp
    // 2f: e9 00 00 00 00                jmp     0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 34: 5d                            popq    %rbp
    // 35: e9 00 00 00 00                jmp     0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[58] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x20, 0x48, 0x8b, 0x48, 0x08, 0x48, 0x3b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x75, 0x1e, 0x48, 0x8b,
        0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x39, 0x48, 0x0c, 0x75, 0x0e, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: OPERAND0
    // 8: &PyDict_Type+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyDict_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x10, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
    patch_32r(code + 0x30, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x36, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_DORV_NO_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_DORV_NO_DICT.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 83 78 e8 00                cmpq    $0x0, -0x18(%rax)
    // d: 74 06                         je      0x15 <__JIT_ENTRY+0x15>
    // f: 5d                            popq    %rbp
    // 10: e9 00 00 00 00                jmp     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // 19: 48 8b 49 20                   movq    0x20(%rcx), %rcx
    // 1d: 80 7c 08 03 00                cmpb    $0x0, 0x3(%rax,%rcx)
    // 22: 74 eb                         je      0xf <__JIT_ENTRY+0xf>
    // 24: 5d                            popq    %rbp
    // 25: e9 00 00 00 00                jmp     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[37] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x83, 0x78, 0xe8, 0x00, 0x74, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x48,
        0x08, 0x48, 0x8b, 0x49, 0x20, 0x80, 0x7c, 0x08,
        0x03, 0x00, 0x74, 0xeb, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_DORV_VALUES_INST_ATTR_FROM_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_DORV_VALUES_INST_ATTR_FROM_DICT.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // c: 48 8b 49 20                   movq    0x20(%rcx), %rcx
    // 10: 80 7c 08 03 00                cmpb    $0x0, 0x3(%rax,%rcx)
    // 15: 74 06                         je      0x1d <__JIT_ENTRY+0x1d>
    // 17: 5d                            popq    %rbp
    // 18: e9 00 00 00 00                jmp     0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1d: 5d                            popq    %rbp
    // 1e: e9 00 00 00 00                jmp     0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[35] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x08, 0x48, 0x8b, 0x49, 0x20,
        0x80, 0x7c, 0x08, 0x03, 0x00, 0x74, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x19, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x1f, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_GLOBALS_VERSION(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_GLOBALS_VERSION.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 18                movq    0x18(%r12), %rax
    // 9: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // d: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x14 <__JIT_ENTRY+0x14>
    // 0000000000000010:  X86_64_RELOC_GOT     _PyDict_Type@GOTPCREL
    // 14: 75 16                         jne     0x2c <__JIT_ENTRY+0x2c>
    // 16: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 1a: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 21: 39 48 0c                      cmpl    %ecx, 0xc(%rax)
    // 24: 75 06                         jne     0x2c <__JIT_ENTRY+0x2c>
    // 26: 5d                            popq    %rbp
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2c: 5d                            popq    %rbp
    // 2d: e9 00 00 00 00                jmp     0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[50] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x18, 0x48, 0x8b, 0x48, 0x08, 0x48, 0x3b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x75, 0x16, 0x48, 0x8b,
        0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x39, 0x48, 0x0c, 0x75, 0x06, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: OPERAND0
    // 8: &PyDict_Type+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyDict_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x10, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
    patch_32r(code + 0x28, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2e, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_GLOBALS_VERSION_PUSH_KEYS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_GLOBALS_VERSION_PUSH_KEYS.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 18                movq    0x18(%r12), %rax
    // 9: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // d: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x14 <__JIT_ENTRY+0x14>
    // 0000000000000010:  X86_64_RELOC_GOT     _PyDict_Type@GOTPCREL
    // 14: 75 1e                         jne     0x34 <__JIT_ENTRY+0x34>
    // 16: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 1a: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 21: 39 48 0c                      cmpl    %ecx, 0xc(%rax)
    // 24: 75 0e                         jne     0x34 <__JIT_ENTRY+0x34>
    // 26: 49 89 45 00                   movq    %rax, (%r13)
    // 2a: 49 83 c5 08                   addq    $0x8, %r13
    // 2e: 5d                            popq    %rbp
    // 2f: e9 00 00 00 00                jmp     0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 34: 5d                            popq    %rbp
    // 35: e9 00 00 00 00                jmp     0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[58] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x18, 0x48, 0x8b, 0x48, 0x08, 0x48, 0x3b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x75, 0x1e, 0x48, 0x8b,
        0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00,
        0x00, 0x39, 0x48, 0x0c, 0x75, 0x0e, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: OPERAND0
    // 8: &PyDict_Type+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&PyDict_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x10, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
    patch_32r(code + 0x30, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x36, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_IS_FALSE_POP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_IS_FALSE_POP.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 49 83 c5 f8                   addq    $-0x8, %r13
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __Py_FalseStruct@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x49, 0x83, 0xc5, 0xf8, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_FalseStruct+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_FalseStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_IS_NONE_POP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_IS_NONE_POP.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 48 3b 3d 00 00 00 00          cmpq    (%rip), %rdi            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __Py_NoneStruct@GOTPCREL
    // f: 0f 84 00 00 00 00             je      0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 15: 8b 07                         movl    (%rdi), %eax
    // 17: 85 c0                         testl   %eax, %eax
    // 19: 0f 88 00 00 00 00             js      0x1f <__JIT_ENTRY+0x1f>
    // 000000000000001b:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1f: ff c8                         decl    %eax
    // 21: 89 07                         movl    %eax, (%rdi)
    // 23: 0f 85 00 00 00 00             jne     0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 29: 55                            pushq   %rbp
    // 2a: 48 89 e5                      movq    %rsp, %rbp
    // 2d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x33 <__JIT_ENTRY+0x33>
    // 000000000000002f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 33: 5d                            popq    %rbp
    // 34: e9 00 00 00 00                jmp     0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[57] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x48, 0x3b, 0x3d, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x84, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x07, 0x85,
        0xc0, 0x0f, 0x88, 0x00, 0x00, 0x00, 0x00, 0xff,
        0xc8, 0x89, 0x07, 0x0f, 0x85, 0x00, 0x00, 0x00,
        0x00, 0x55, 0x48, 0x89, 0xe5, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_NoneStruct+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_NoneStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x4);
    patch_32r(code + 0x11, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x1b, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x25, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x2f, (uintptr_t)data + -0x4);
    patch_32r(code + 0x35, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_IS_NOT_NONE_POP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_IS_NOT_NONE_POP.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 8b 03                         movl    (%rbx), %eax
    // a: 85 c0                         testl   %eax, %eax
    // c: 78 06                         js      0x14 <__JIT_ENTRY+0x14>
    // e: ff c8                         decl    %eax
    // 10: 89 03                         movl    %eax, (%rbx)
    // 12: 74 13                         je      0x27 <__JIT_ENTRY+0x27>
    // 14: 49 83 c5 f8                   addq    $-0x8, %r13
    // 18: 48 3b 1d 00 00 00 00          cmpq    (%rip), %rbx            ## 0x1f <__JIT_ENTRY+0x1f>
    // 000000000000001b:  X86_64_RELOC_GOT     __Py_NoneStruct@GOTPCREL
    // 1f: 74 1c                         je      0x3d <__JIT_ENTRY+0x3d>
    // 21: 5d                            popq    %rbp
    // 22: e9 00 00 00 00                jmp     0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 27: 48 89 df                      movq    %rbx, %rdi
    // 2a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 30: 49 83 c5 f8                   addq    $-0x8, %r13
    // 34: 48 3b 1d 00 00 00 00          cmpq    (%rip), %rbx            ## 0x3b <__JIT_ENTRY+0x3b>
    // 0000000000000037:  X86_64_RELOC_GOT     __Py_NoneStruct@GOTPCREL
    // 3b: 75 e4                         jne     0x21 <__JIT_ENTRY+0x21>
    // 3d: 5d                            popq    %rbp
    // 3e: e9 00 00 00 00                jmp     0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[67] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x03, 0x74, 0x13, 0x49, 0x83, 0xc5, 0xf8,
        0x48, 0x3b, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x74,
        0x1c, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x83, 0xc5, 0xf8, 0x48, 0x3b, 0x1d, 0x00,
        0x00, 0x00, 0x00, 0x75, 0xe4, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_Py_NoneStruct+0x0
    // 8: &_Py_Dealloc+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_NoneStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1b, (uintptr_t)data + -0x4);
    patch_32r(code + 0x23, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x2c, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x37, (uintptr_t)data + -0x4);
    patch_32r(code + 0x3f, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_IS_TRUE_POP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_IS_TRUE_POP.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 49 83 c5 f8                   addq    $-0x8, %r13
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __Py_TrueStruct@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x49, 0x83, 0xc5, 0xf8, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_KEYS_VERSION(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_KEYS_VERSION.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 8b 80 70 03 00 00          movq    0x370(%rax), %rax
    // 13: 8b 40 0c                      movl    0xc(%rax), %eax
    // 16: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 1c: 75 06                         jne     0x24 <__JIT_ENTRY+0x24>
    // 1e: 5d                            popq    %rbp
    // 1f: e9 00 00 00 00                jmp     0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 24: 5d                            popq    %rbp
    // 25: e9 00 00 00 00                jmp     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[42] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x8b, 0x80, 0x70,
        0x03, 0x00, 0x00, 0x8b, 0x40, 0x0c, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x75, 0x06, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + -0x4);
    patch_32r(code + 0x20, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x26, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_NOS_FLOAT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_NOS_FLOAT.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyFloat_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyFloat_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyFloat_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_NOS_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_NOS_INT.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyLong_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_NOT_EXHAUSTED_LIST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_NOT_EXHAUSTED_LIST.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // c: 48 85 c9                      testq   %rcx, %rcx
    // f: 74 10                         je      0x21 <__JIT_ENTRY+0x21>
    // 11: 48 8b 50 10                   movq    0x10(%rax), %rdx
    // 15: 48 3b 51 10                   cmpq    0x10(%rcx), %rdx
    // 19: 73 0c                         jae     0x27 <__JIT_ENTRY+0x27>
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 21: 5d                            popq    %rbp
    // 22: e9 00 00 00 00                jmp     0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 27: 48 c7 40 10 ff ff ff ff       movq    $-0x1, 0x10(%rax)
    // 2f: 5d                            popq    %rbp
    // 30: e9 00 00 00 00                jmp     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[53] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x18, 0x48, 0x85, 0xc9, 0x74,
        0x10, 0x48, 0x8b, 0x50, 0x10, 0x48, 0x3b, 0x51,
        0x10, 0x73, 0x0c, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0xc7, 0x40, 0x10, 0xff, 0xff, 0xff, 0xff, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x1d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x23, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_NOT_EXHAUSTED_RANGE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_NOT_EXHAUSTED_RANGE.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 83 78 20 00                cmpq    $0x0, 0x20(%rax)
    // d: 7e 06                         jle     0x15 <__JIT_ENTRY+0x15>
    // f: 5d                            popq    %rbp
    // 10: e9 00 00 00 00                jmp     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[27] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x83, 0x78, 0x20, 0x00, 0x7e, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x11, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_NOT_EXHAUSTED_TUPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_NOT_EXHAUSTED_TUPLE.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // c: 48 85 c9                      testq   %rcx, %rcx
    // f: 74 10                         je      0x21 <__JIT_ENTRY+0x21>
    // 11: 48 8b 40 10                   movq    0x10(%rax), %rax
    // 15: 48 3b 41 10                   cmpq    0x10(%rcx), %rax
    // 19: 7d 06                         jge     0x21 <__JIT_ENTRY+0x21>
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 21: 5d                            popq    %rbp
    // 22: e9 00 00 00 00                jmp     0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[39] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x18, 0x48, 0x85, 0xc9, 0x74,
        0x10, 0x48, 0x8b, 0x40, 0x10, 0x48, 0x3b, 0x41,
        0x10, 0x7d, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x1d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x23, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_TOS_FLOAT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_TOS_FLOAT.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyFloat_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyFloat_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyFloat_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_TOS_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_TOS_INT.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyLong_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_TYPE_VERSION(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_TYPE_VERSION.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 8b 80 80 01 00 00             movl    0x180(%rax), %eax
    // 12: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 18: 75 06                         jne     0x20 <__JIT_ENTRY+0x20>
    // 1a: 5d                            popq    %rbp
    // 1b: e9 00 00 00 00                jmp     0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 20: 5d                            popq    %rbp
    // 21: e9 00 00 00 00                jmp     0x26 <__JIT_ENTRY+0x26>
    // 0000000000000022:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[38] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x8b, 0x80, 0x80, 0x01,
        0x00, 0x00, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x75, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + -0x4);
    patch_32r(code + 0x1c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x22, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__GUARD_TYPE_VERSION_AND_LOCK(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _GUARD_TYPE_VERSION_AND_LOCK.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 8b 80 80 01 00 00             movl    0x180(%rax), %eax
    // 12: 3b 05 00 00 00 00             cmpl    (%rip), %eax            ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 18: 75 06                         jne     0x20 <__JIT_ENTRY+0x20>
    // 1a: 5d                            popq    %rbp
    // 1b: e9 00 00 00 00                jmp     0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 20: 5d                            popq    %rbp
    // 21: e9 00 00 00 00                jmp     0x26 <__JIT_ENTRY+0x26>
    // 0000000000000022:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[38] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x8b, 0x80, 0x80, 0x01,
        0x00, 0x00, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x75, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + -0x4);
    patch_32r(code + 0x1c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x22, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__IMPORT_FROM(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _IMPORT_FROM.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // 8: 49 8b 04 24                   movq    (%r12), %rax
    // c: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 10: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 17: 48 8b 54 c8 18                movq    0x18(%rax,%rcx,8), %rdx
    // 1c: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 21: 4c 89 f7                      movq    %r14, %rdi
    // 24: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_GOT     __PyEval_ImportFrom@GOTPCREL
    // 2a: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2f: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 38: 48 85 c0                      testq   %rax, %rax
    // 3b: 74 0e                         je      0x4b <__JIT_ENTRY+0x4b>
    // 3d: 49 89 45 00                   movq    %rax, (%r13)
    // 41: 49 83 c5 08                   addq    $0x8, %r13
    // 45: 5d                            popq    %rbp
    // 46: e9 00 00 00 00                jmp     0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 4b: 5d                            popq    %rbp
    // 4c: e9 00 00 00 00                jmp     0x51 <__JIT_ENTRY+0x51>
    // 000000000000004d:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[81] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x75, 0xf8,
        0x49, 0x8b, 0x04, 0x24, 0x48, 0x8b, 0x40, 0x20,
        0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x54, 0xc8, 0x18, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89, 0x45,
        0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_PyEval_ImportFrom+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_ImportFrom);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x26, (uintptr_t)data + -0x4);
    patch_32r(code + 0x47, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x4d, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__IMPORT_NAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _IMPORT_NAME.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 f7                      movq    %r14, %rdi
    // b: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // f: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 13: 49 8b 04 24                   movq    (%r12), %rax
    // 17: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 1b: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x22 <__JIT_ENTRY+0x22>
    // 000000000000001e:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 22: 48 8b 54 c8 18                movq    0x18(%rax,%rcx,8), %rdx
    // 27: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2c: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 30: 4c 89 e6                      movq    %r12, %rsi
    // 33: 48 89 d9                      movq    %rbx, %rcx
    // 36: 4d 89 f8                      movq    %r15, %r8
    // 39: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_GOT     __PyEval_ImportName@GOTPCREL
    // 3f: 49 89 c6                      movq    %rax, %r14
    // 42: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 47: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 50: 41 8b 07                      movl    (%r15), %eax
    // 53: 85 c0                         testl   %eax, %eax
    // 55: 78 10                         js      0x67 <__JIT_ENTRY+0x67>
    // 57: ff c8                         decl    %eax
    // 59: 41 89 07                      movl    %eax, (%r15)
    // 5c: 75 09                         jne     0x67 <__JIT_ENTRY+0x67>
    // 5e: 4c 89 ff                      movq    %r15, %rdi
    // 61: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x67 <__JIT_ENTRY+0x67>
    // 0000000000000063:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 67: 8b 03                         movl    (%rbx), %eax
    // 69: 85 c0                         testl   %eax, %eax
    // 6b: 78 06                         js      0x73 <__JIT_ENTRY+0x73>
    // 6d: ff c8                         decl    %eax
    // 6f: 89 03                         movl    %eax, (%rbx)
    // 71: 74 1b                         je      0x8e <__JIT_ENTRY+0x8e>
    // 73: 4d 85 f6                      testq   %r14, %r14
    // 76: 74 24                         je      0x9c <__JIT_ENTRY+0x9c>
    // 78: 4d 89 75 f0                   movq    %r14, -0x10(%r13)
    // 7c: 49 83 c5 f8                   addq    $-0x8, %r13
    // 80: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 84: 48 83 c4 10                   addq    $0x10, %rsp
    // 88: 5d                            popq    %rbp
    // 89: e9 00 00 00 00                jmp     0x8e <__JIT_ENTRY+0x8e>
    // 000000000000008a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 8e: 48 89 df                      movq    %rbx, %rdi
    // 91: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x97 <__JIT_ENTRY+0x97>
    // 0000000000000093:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 97: 4d 85 f6                      testq   %r14, %r14
    // 9a: 75 dc                         jne     0x78 <__JIT_ENTRY+0x78>
    // 9c: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // a0: 48 83 c4 10                   addq    $0x10, %rsp
    // a4: 5d                            popq    %rbp
    // a5: e9 00 00 00 00                jmp     0xaa <__JIT_ENTRY+0xaa>
    // 00000000000000a6:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[170] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0xf7, 0x4d, 0x8b, 0x7d, 0xf0, 0x49,
        0x8b, 0x5d, 0xf8, 0x49, 0x8b, 0x04, 0x24, 0x48,
        0x8b, 0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x54, 0xc8, 0x18, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0x75, 0xf8,
        0x4c, 0x89, 0xe6, 0x48, 0x89, 0xd9, 0x4d, 0x89,
        0xf8, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x89, 0xc6, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x10, 0xff,
        0xc8, 0x41, 0x89, 0x07, 0x75, 0x09, 0x4c, 0x89,
        0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x03, 0x74, 0x1b, 0x4d, 0x85, 0xf6, 0x74, 0x24,
        0x4d, 0x89, 0x75, 0xf0, 0x49, 0x83, 0xc5, 0xf8,
        0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x85, 0xf6, 0x75, 0xdc, 0x4c, 0x8b, 0x75, 0xf8,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_ImportName+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_ImportName);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1e, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x3b, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x63, (uintptr_t)data + -0x4);
    patch_32r(code + 0x8a, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x93, (uintptr_t)data + -0x4);
    patch_32r(code + 0xa6, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__INIT_CALL_BOUND_METHOD_EXACT_ARGS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INIT_CALL_BOUND_METHOD_EXACT_ARGS.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: ba fe ff ff ff                movl    $0xfffffffe, %edx       ## imm = 0xFFFFFFFE
    // c: 29 c2                         subl    %eax, %edx
    // e: f7 d0                         notl    %eax
    // 10: 48 63 c8                      movslq  %eax, %rcx
    // 13: 48 63 c2                      movslq  %edx, %rax
    // 16: 49 8b 54 c5 00                movq    (%r13,%rax,8), %rdx
    // 1b: 48 8b 72 18                   movq    0x18(%rdx), %rsi
    // 1f: 8b 3e                         movl    (%rsi), %edi
    // 21: 85 ff                         testl   %edi, %edi
    // 23: 78 04                         js      0x29 <__JIT_ENTRY+0x29>
    // 25: ff c7                         incl    %edi
    // 27: 89 3e                         movl    %edi, (%rsi)
    // 29: 49 89 74 cd 00                movq    %rsi, (%r13,%rcx,8)
    // 2e: 49 8b 7c c5 00                movq    (%r13,%rax,8), %rdi
    // 33: 48 8b 4a 10                   movq    0x10(%rdx), %rcx
    // 37: 8b 11                         movl    (%rcx), %edx
    // 39: 85 d2                         testl   %edx, %edx
    // 3b: 78 04                         js      0x41 <__JIT_ENTRY+0x41>
    // 3d: ff c2                         incl    %edx
    // 3f: 89 11                         movl    %edx, (%rcx)
    // 41: 49 89 4c c5 00                movq    %rcx, (%r13,%rax,8)
    // 46: 8b 07                         movl    (%rdi), %eax
    // 48: 85 c0                         testl   %eax, %eax
    // 4a: 0f 88 00 00 00 00             js      0x50 <__JIT_ENTRY+0x50>
    // 000000000000004c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 50: ff c8                         decl    %eax
    // 52: 89 07                         movl    %eax, (%rdi)
    // 54: 0f 85 00 00 00 00             jne     0x5a <__JIT_ENTRY+0x5a>
    // 0000000000000056:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 5a: 55                            pushq   %rbp
    // 5b: 48 89 e5                      movq    %rsp, %rbp
    // 5e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 64: 5d                            popq    %rbp
    // 65: e9 00 00 00 00                jmp     0x6a <__JIT_ENTRY+0x6a>
    // 0000000000000066:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[101] = {
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0xba,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xc2, 0xf7, 0xd0,
        0x48, 0x63, 0xc8, 0x48, 0x63, 0xc2, 0x49, 0x8b,
        0x54, 0xc5, 0x00, 0x48, 0x8b, 0x72, 0x18, 0x8b,
        0x3e, 0x85, 0xff, 0x78, 0x04, 0xff, 0xc7, 0x89,
        0x3e, 0x49, 0x89, 0x74, 0xcd, 0x00, 0x49, 0x8b,
        0x7c, 0xc5, 0x00, 0x48, 0x8b, 0x4a, 0x10, 0x8b,
        0x11, 0x85, 0xd2, 0x78, 0x04, 0xff, 0xc2, 0x89,
        0x11, 0x49, 0x89, 0x4c, 0xc5, 0x00, 0x8b, 0x07,
        0x85, 0xc0, 0x0f, 0x88, 0x00, 0x00, 0x00, 0x00,
        0xff, 0xc8, 0x89, 0x07, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x56, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x60, (uintptr_t)data + -0x4);
}

void
emit__INIT_CALL_PY_EXACT_ARGS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INIT_CALL_PY_EXACT_ARGS.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 35 00 00 00 00          movzwl  (%rip), %esi            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: 89 f0                         movl    %esi, %eax
    // 9: f7 d0                         notl    %eax
    // b: 48 98                         cltq
    // d: b9 fe ff ff ff                movl    $0xfffffffe, %ecx       ## imm = 0xFFFFFFFE
    // 12: 29 f1                         subl    %esi, %ecx
    // 14: 48 63 c9                      movslq  %ecx, %rcx
    // 17: 4d 8b 54 c5 00                movq    (%r13,%rax,8), %r10
    // 1c: 49 83 fa 01                   cmpq    $0x1, %r10
    // 20: 89 f3                         movl    %esi, %ebx
    // 22: 83 db ff                      sbbl    $-0x1, %ebx
    // 25: 4d 8b 44 cd 00                movq    (%r13,%rcx,8), %r8
    // 2a: 49 8b 78 30                   movq    0x30(%r8), %rdi
    // 2e: 49 8b 96 f0 00 00 00          movq    0xf0(%r14), %rdx
    // 35: 4c 63 4f 4c                   movslq  0x4c(%rdi), %r9
    // 39: 4e 8d 0c ca                   leaq    (%rdx,%r9,8), %r9
    // 3d: 4d 89 8e f0 00 00 00          movq    %r9, 0xf0(%r14)
    // 44: 4c 89 62 08                   movq    %r12, 0x8(%rdx)
    // 48: 4c 89 42 10                   movq    %r8, 0x10(%rdx)
    // 4c: 44 8b 0f                      movl    (%rdi), %r9d
    // 4f: 45 85 c9                      testl   %r9d, %r9d
    // 52: 78 06                         js      0x5a <__JIT_ENTRY+0x5a>
    // 54: 41 ff c1                      incl    %r9d
    // 57: 44 89 0f                      movl    %r9d, (%rdi)
    // 5a: 55                            pushq   %rbp
    // 5b: 48 89 e5                      movq    %rsp, %rbp
    // 5e: 48 8d 04 c5 00 00 00 00       leaq    (,%rax,8), %rax
    // 66: 4c 01 e8                      addq    %r13, %rax
    // 69: 48 89 3a                      movq    %rdi, (%rdx)
    // 6c: 41 0f 10 40 10                movups  0x10(%r8), %xmm0
    // 71: 0f 11 42 18                   movups  %xmm0, 0x18(%rdx)
    // 75: 48 c7 42 28 00 00 00 00       movq    $0x0, 0x28(%rdx)
    // 7d: 4c 8d 4a 50                   leaq    0x50(%rdx), %r9
    // 81: 4c 63 47 48                   movslq  0x48(%rdi), %r8
    // 85: 4e 8d 5c c2 50                leaq    0x50(%rdx,%r8,8), %r11
    // 8a: 4c 89 5a 40                   movq    %r11, 0x40(%rdx)
    // 8e: 48 c7 42 30 00 00 00 00       movq    $0x0, 0x30(%rdx)
    // 96: 4c 8d 9f d0 00 00 00          leaq    0xd0(%rdi), %r11
    // 9d: 4c 89 5a 38                   movq    %r11, 0x38(%rdx)
    // a1: c7 42 48 00 00 00 00          movl    $0x0, 0x48(%rdx)
    // a8: 41 39 d8                      cmpl    %ebx, %r8d
    // ab: 7e 17                         jle     0xc4 <__JIT_ENTRY+0xc4>
    // ad: 41 89 d8                      movl    %ebx, %r8d
    // b0: 4b c7 04 c1 00 00 00 00       movq    $0x0, (%r9,%r8,8)
    // b8: 49 ff c0                      incq    %r8
    // bb: 4c 63 5f 48                   movslq  0x48(%rdi), %r11
    // bf: 4d 39 d8                      cmpq    %r11, %r8
    // c2: 7c ec                         jl      0xb0 <__JIT_ENTRY+0xb0>
    // c4: 45 31 c0                      xorl    %r8d, %r8d
    // c7: 4d 85 d2                      testq   %r10, %r10
    // ca: 0f 95 c3                      setne   %bl
    // cd: 48 8b 38                      movq    (%rax), %rdi
    // d0: 49 89 39                      movq    %rdi, (%r9)
    // d3: 48 8b 3d 00 00 00 00          movq    (%rip), %rdi            ## 0xda <__JIT_ENTRY+0xda>
    // 00000000000000d6:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // da: 66 85 ff                      testw   %di, %di
    // dd: 0f 84 15 01 00 00             je      0x1f8 <__JIT_ENTRY+0x1f8>
    // e3: 41 88 d8                      movb    %bl, %r8b
    // e6: 48 8b 3d 00 00 00 00          movq    (%rip), %rdi            ## 0xed <__JIT_ENTRY+0xed>
    // 00000000000000e9:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // ed: 0f b7 ff                      movzwl  %di, %edi
    // f0: 66 83 ff 11                   cmpw    $0x11, %di
    // f4: 76 2a                         jbe     0x120 <__JIT_ENTRY+0x120>
    // f6: 45 31 db                      xorl    %r11d, %r11d
    // f9: 4d 85 d2                      testq   %r10, %r10
    // fc: 41 0f 95 c3                   setne   %r11b
    // 100: 4e 8d 14 da                   leaq    (%rdx,%r11,8), %r10
    // 104: 44 8d 3c fd 00 00 00 00       leal    (,%rdi,8), %r15d
    // 10c: 4d 01 fa                      addq    %r15, %r10
    // 10f: 4d 29 ea                      subq    %r13, %r10
    // 112: 49 83 c2 50                   addq    $0x50, %r10
    // 116: 49 83 fa 20                   cmpq    $0x20, %r10
    // 11a: 0f 83 91 00 00 00             jae     0x1b1 <__JIT_ENTRY+0x1b1>
    // 120: 45 31 d2                      xorl    %r10d, %r10d
    // 123: 48 89 fb                      movq    %rdi, %rbx
    // 126: 4d 89 d3                      movq    %r10, %r11
    // 129: 48 83 e3 03                   andq    $0x3, %rbx
    // 12d: 74 21                         je      0x150 <__JIT_ENTRY+0x150>
    // 12f: c1 e6 03                      shll    $0x3, %esi
    // 132: 4d 89 ef                      movq    %r13, %r15
    // 135: 49 29 f7                      subq    %rsi, %r15
    // 138: 4b 8d 34 c1                   leaq    (%r9,%r8,8), %rsi
    // 13c: 4d 89 d3                      movq    %r10, %r11
    // 13f: 90                            nop
    // 140: 4f 8b 0c df                   movq    (%r15,%r11,8), %r9
    // 144: 4e 89 0c de                   movq    %r9, (%rsi,%r11,8)
    // 148: 49 ff c3                      incq    %r11
    // 14b: 48 ff cb                      decq    %rbx
    // 14e: 75 f0                         jne     0x140 <__JIT_ENTRY+0x140>
    // 150: 49 29 fa                      subq    %rdi, %r10
    // 153: 49 83 fa fc                   cmpq    $-0x4, %r10
    // 157: 0f 87 9b 00 00 00             ja      0x1f8 <__JIT_ENTRY+0x1f8>
    // 15d: 44 8d 0c fd 00 00 00 00       leal    (,%rdi,8), %r9d
    // 165: 4c 89 ee                      movq    %r13, %rsi
    // 168: 4c 29 ce                      subq    %r9, %rsi
    // 16b: 48 83 c6 18                   addq    $0x18, %rsi
    // 16f: 4e 8d 04 c2                   leaq    (%rdx,%r8,8), %r8
    // 173: 49 83 c0 68                   addq    $0x68, %r8
    // 177: 66 0f 1f 84 00 00 00 00 00    nopw    (%rax,%rax)
    // 180: 4e 8b 4c de e8                movq    -0x18(%rsi,%r11,8), %r9
    // 185: 4f 89 4c d8 e8                movq    %r9, -0x18(%r8,%r11,8)
    // 18a: 4e 8b 4c de f0                movq    -0x10(%rsi,%r11,8), %r9
    // 18f: 4f 89 4c d8 f0                movq    %r9, -0x10(%r8,%r11,8)
    // 194: 4e 8b 4c de f8                movq    -0x8(%rsi,%r11,8), %r9
    // 199: 4f 89 4c d8 f8                movq    %r9, -0x8(%r8,%r11,8)
    // 19e: 4e 8b 0c de                   movq    (%rsi,%r11,8), %r9
    // 1a2: 4f 89 0c d8                   movq    %r9, (%r8,%r11,8)
    // 1a6: 49 83 c3 04                   addq    $0x4, %r11
    // 1aa: 4c 39 df                      cmpq    %r11, %rdi
    // 1ad: 75 d1                         jne     0x180 <__JIT_ENTRY+0x180>
    // 1af: eb 47                         jmp     0x1f8 <__JIT_ENTRY+0x1f8>
    // 1b1: 41 89 fa                      movl    %edi, %r10d
    // 1b4: 41 83 e2 fc                   andl    $-0x4, %r10d
    // 1b8: 4e 8d 1c c2                   leaq    (%rdx,%r8,8), %r11
    // 1bc: 49 83 c3 60                   addq    $0x60, %r11
    // 1c0: 4c 89 eb                      movq    %r13, %rbx
    // 1c3: 4c 29 fb                      subq    %r15, %rbx
    // 1c6: 48 83 c3 10                   addq    $0x10, %rbx
    // 1ca: 45 31 ff                      xorl    %r15d, %r15d
    // 1cd: 0f 1f 00                      nopl    (%rax)
    // 1d0: 42 0f 10 44 fb f0             movups  -0x10(%rbx,%r15,8), %xmm0
    // 1d6: 42 0f 10 0c fb                movups  (%rbx,%r15,8), %xmm1
    // 1db: 43 0f 11 44 fb f0             movups  %xmm0, -0x10(%r11,%r15,8)
    // 1e1: 43 0f 11 0c fb                movups  %xmm1, (%r11,%r15,8)
    // 1e6: 49 83 c7 04                   addq    $0x4, %r15
    // 1ea: 4d 39 fa                      cmpq    %r15, %r10
    // 1ed: 75 e1                         jne     0x1d0 <__JIT_ENTRY+0x1d0>
    // 1ef: 41 39 fa                      cmpl    %edi, %r10d
    // 1f2: 0f 85 2b ff ff ff             jne     0x123 <__JIT_ENTRY+0x123>
    // 1f8: 49 89 54 cd 00                movq    %rdx, (%r13,%rcx,8)
    // 1fd: 49 89 c5                      movq    %rax, %r13
    // 200: 5d                            popq    %rbp
    // 201: e9 00 00 00 00                jmp     0x206 <__JIT_ENTRY+0x206>
    // 0000000000000202:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[513] = {
        0x0f, 0xb7, 0x35, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xf0, 0xf7, 0xd0, 0x48, 0x98, 0xb9, 0xfe, 0xff,
        0xff, 0xff, 0x29, 0xf1, 0x48, 0x63, 0xc9, 0x4d,
        0x8b, 0x54, 0xc5, 0x00, 0x49, 0x83, 0xfa, 0x01,
        0x89, 0xf3, 0x83, 0xdb, 0xff, 0x4d, 0x8b, 0x44,
        0xcd, 0x00, 0x49, 0x8b, 0x78, 0x30, 0x49, 0x8b,
        0x96, 0xf0, 0x00, 0x00, 0x00, 0x4c, 0x63, 0x4f,
        0x4c, 0x4e, 0x8d, 0x0c, 0xca, 0x4d, 0x89, 0x8e,
        0xf0, 0x00, 0x00, 0x00, 0x4c, 0x89, 0x62, 0x08,
        0x4c, 0x89, 0x42, 0x10, 0x44, 0x8b, 0x0f, 0x45,
        0x85, 0xc9, 0x78, 0x06, 0x41, 0xff, 0xc1, 0x44,
        0x89, 0x0f, 0x55, 0x48, 0x89, 0xe5, 0x48, 0x8d,
        0x04, 0xc5, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x01,
        0xe8, 0x48, 0x89, 0x3a, 0x41, 0x0f, 0x10, 0x40,
        0x10, 0x0f, 0x11, 0x42, 0x18, 0x48, 0xc7, 0x42,
        0x28, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8d, 0x4a,
        0x50, 0x4c, 0x63, 0x47, 0x48, 0x4e, 0x8d, 0x5c,
        0xc2, 0x50, 0x4c, 0x89, 0x5a, 0x40, 0x48, 0xc7,
        0x42, 0x30, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8d,
        0x9f, 0xd0, 0x00, 0x00, 0x00, 0x4c, 0x89, 0x5a,
        0x38, 0xc7, 0x42, 0x48, 0x00, 0x00, 0x00, 0x00,
        0x41, 0x39, 0xd8, 0x7e, 0x17, 0x41, 0x89, 0xd8,
        0x4b, 0xc7, 0x04, 0xc1, 0x00, 0x00, 0x00, 0x00,
        0x49, 0xff, 0xc0, 0x4c, 0x63, 0x5f, 0x48, 0x4d,
        0x39, 0xd8, 0x7c, 0xec, 0x45, 0x31, 0xc0, 0x4d,
        0x85, 0xd2, 0x0f, 0x95, 0xc3, 0x48, 0x8b, 0x38,
        0x49, 0x89, 0x39, 0x48, 0x8b, 0x3d, 0x00, 0x00,
        0x00, 0x00, 0x66, 0x85, 0xff, 0x0f, 0x84, 0x15,
        0x01, 0x00, 0x00, 0x41, 0x88, 0xd8, 0x48, 0x8b,
        0x3d, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xb7, 0xff,
        0x66, 0x83, 0xff, 0x11, 0x76, 0x2a, 0x45, 0x31,
        0xdb, 0x4d, 0x85, 0xd2, 0x41, 0x0f, 0x95, 0xc3,
        0x4e, 0x8d, 0x14, 0xda, 0x44, 0x8d, 0x3c, 0xfd,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x01, 0xfa, 0x4d,
        0x29, 0xea, 0x49, 0x83, 0xc2, 0x50, 0x49, 0x83,
        0xfa, 0x20, 0x0f, 0x83, 0x91, 0x00, 0x00, 0x00,
        0x45, 0x31, 0xd2, 0x48, 0x89, 0xfb, 0x4d, 0x89,
        0xd3, 0x48, 0x83, 0xe3, 0x03, 0x74, 0x21, 0xc1,
        0xe6, 0x03, 0x4d, 0x89, 0xef, 0x49, 0x29, 0xf7,
        0x4b, 0x8d, 0x34, 0xc1, 0x4d, 0x89, 0xd3, 0x90,
        0x4f, 0x8b, 0x0c, 0xdf, 0x4e, 0x89, 0x0c, 0xde,
        0x49, 0xff, 0xc3, 0x48, 0xff, 0xcb, 0x75, 0xf0,
        0x49, 0x29, 0xfa, 0x49, 0x83, 0xfa, 0xfc, 0x0f,
        0x87, 0x9b, 0x00, 0x00, 0x00, 0x44, 0x8d, 0x0c,
        0xfd, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xee,
        0x4c, 0x29, 0xce, 0x48, 0x83, 0xc6, 0x18, 0x4e,
        0x8d, 0x04, 0xc2, 0x49, 0x83, 0xc0, 0x68, 0x66,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x4e, 0x8b, 0x4c, 0xde, 0xe8, 0x4f, 0x89, 0x4c,
        0xd8, 0xe8, 0x4e, 0x8b, 0x4c, 0xde, 0xf0, 0x4f,
        0x89, 0x4c, 0xd8, 0xf0, 0x4e, 0x8b, 0x4c, 0xde,
        0xf8, 0x4f, 0x89, 0x4c, 0xd8, 0xf8, 0x4e, 0x8b,
        0x0c, 0xde, 0x4f, 0x89, 0x0c, 0xd8, 0x49, 0x83,
        0xc3, 0x04, 0x4c, 0x39, 0xdf, 0x75, 0xd1, 0xeb,
        0x47, 0x41, 0x89, 0xfa, 0x41, 0x83, 0xe2, 0xfc,
        0x4e, 0x8d, 0x1c, 0xc2, 0x49, 0x83, 0xc3, 0x60,
        0x4c, 0x89, 0xeb, 0x4c, 0x29, 0xfb, 0x48, 0x83,
        0xc3, 0x10, 0x45, 0x31, 0xff, 0x0f, 0x1f, 0x00,
        0x42, 0x0f, 0x10, 0x44, 0xfb, 0xf0, 0x42, 0x0f,
        0x10, 0x0c, 0xfb, 0x43, 0x0f, 0x11, 0x44, 0xfb,
        0xf0, 0x43, 0x0f, 0x11, 0x0c, 0xfb, 0x49, 0x83,
        0xc7, 0x04, 0x4d, 0x39, 0xfa, 0x75, 0xe1, 0x41,
        0x39, 0xfa, 0x0f, 0x85, 0x2b, 0xff, 0xff, 0xff,
        0x49, 0x89, 0x54, 0xcd, 0x00, 0x49, 0x89, 0xc5,
        0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xd6, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xe9, (uintptr_t)data + -0x4);
}

void
emit__INIT_CALL_PY_EXACT_ARGS_0(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INIT_CALL_PY_EXACT_ARGS_0.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 45 f0                   movq    -0x10(%r13), %r8
    // 4: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // 8: 31 ff                         xorl    %edi, %edi
    // a: 48 85 f6                      testq   %rsi, %rsi
    // d: 40 0f 95 c7                   setne   %dil
    // 11: 49 8b 50 30                   movq    0x30(%r8), %rdx
    // 15: 49 8b 8e f0 00 00 00          movq    0xf0(%r14), %rcx
    // 1c: 48 63 42 4c                   movslq  0x4c(%rdx), %rax
    // 20: 48 8d 04 c1                   leaq    (%rcx,%rax,8), %rax
    // 24: 49 89 86 f0 00 00 00          movq    %rax, 0xf0(%r14)
    // 2b: 4c 89 61 08                   movq    %r12, 0x8(%rcx)
    // 2f: 4c 89 41 10                   movq    %r8, 0x10(%rcx)
    // 33: 8b 02                         movl    (%rdx), %eax
    // 35: 85 c0                         testl   %eax, %eax
    // 37: 78 04                         js      0x3d <__JIT_ENTRY+0x3d>
    // 39: ff c0                         incl    %eax
    // 3b: 89 02                         movl    %eax, (%rdx)
    // 3d: 55                            pushq   %rbp
    // 3e: 48 89 e5                      movq    %rsp, %rbp
    // 41: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // 45: 48 89 11                      movq    %rdx, (%rcx)
    // 48: 41 0f 10 40 10                movups  0x10(%r8), %xmm0
    // 4d: 0f 11 41 18                   movups  %xmm0, 0x18(%rcx)
    // 51: 48 c7 41 28 00 00 00 00       movq    $0x0, 0x28(%rcx)
    // 59: 4c 63 42 48                   movslq  0x48(%rdx), %r8
    // 5d: 4e 8d 4c c1 50                leaq    0x50(%rcx,%r8,8), %r9
    // 62: 4c 89 49 40                   movq    %r9, 0x40(%rcx)
    // 66: 48 c7 41 30 00 00 00 00       movq    $0x0, 0x30(%rcx)
    // 6e: 4c 8d 8a d0 00 00 00          leaq    0xd0(%rdx), %r9
    // 75: 4c 89 49 38                   movq    %r9, 0x38(%rcx)
    // 79: c7 41 48 00 00 00 00          movl    $0x0, 0x48(%rcx)
    // 80: 41 39 f8                      cmpl    %edi, %r8d
    // 83: 7e 2f                         jle     0xb4 <__JIT_ENTRY+0xb4>
    // 85: 48 8d 79 50                   leaq    0x50(%rcx), %rdi
    // 89: 45 31 c0                      xorl    %r8d, %r8d
    // 8c: 48 85 f6                      testq   %rsi, %rsi
    // 8f: 41 0f 95 c0                   setne   %r8b
    // 93: 66 66 66 66 2e 0f 1f 84 00 00 00 00 00        nopw    %cs:(%rax,%rax)
    // a0: 4a c7 04 c7 00 00 00 00       movq    $0x0, (%rdi,%r8,8)
    // a8: 49 ff c0                      incq    %r8
    // ab: 48 63 72 48                   movslq  0x48(%rdx), %rsi
    // af: 49 39 f0                      cmpq    %rsi, %r8
    // b2: 7c ec                         jl      0xa0 <__JIT_ENTRY+0xa0>
    // b4: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // b8: 48 89 51 50                   movq    %rdx, 0x50(%rcx)
    // bc: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // c0: 49 89 c5                      movq    %rax, %r13
    // c3: 5d                            popq    %rbp
    // c4: e9 00 00 00 00                jmp     0xc9 <__JIT_ENTRY+0xc9>
    // 00000000000000c5:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[196] = {
        0x4d, 0x8b, 0x45, 0xf0, 0x49, 0x8b, 0x75, 0xf8,
        0x31, 0xff, 0x48, 0x85, 0xf6, 0x40, 0x0f, 0x95,
        0xc7, 0x49, 0x8b, 0x50, 0x30, 0x49, 0x8b, 0x8e,
        0xf0, 0x00, 0x00, 0x00, 0x48, 0x63, 0x42, 0x4c,
        0x48, 0x8d, 0x04, 0xc1, 0x49, 0x89, 0x86, 0xf0,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0x61, 0x08, 0x4c,
        0x89, 0x41, 0x10, 0x8b, 0x02, 0x85, 0xc0, 0x78,
        0x04, 0xff, 0xc0, 0x89, 0x02, 0x55, 0x48, 0x89,
        0xe5, 0x49, 0x8d, 0x45, 0xf8, 0x48, 0x89, 0x11,
        0x41, 0x0f, 0x10, 0x40, 0x10, 0x0f, 0x11, 0x41,
        0x18, 0x48, 0xc7, 0x41, 0x28, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x63, 0x42, 0x48, 0x4e, 0x8d, 0x4c,
        0xc1, 0x50, 0x4c, 0x89, 0x49, 0x40, 0x48, 0xc7,
        0x41, 0x30, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8d,
        0x8a, 0xd0, 0x00, 0x00, 0x00, 0x4c, 0x89, 0x49,
        0x38, 0xc7, 0x41, 0x48, 0x00, 0x00, 0x00, 0x00,
        0x41, 0x39, 0xf8, 0x7e, 0x2f, 0x48, 0x8d, 0x79,
        0x50, 0x45, 0x31, 0xc0, 0x48, 0x85, 0xf6, 0x41,
        0x0f, 0x95, 0xc0, 0x66, 0x66, 0x66, 0x66, 0x2e,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x4a, 0xc7, 0x04, 0xc7, 0x00, 0x00, 0x00, 0x00,
        0x49, 0xff, 0xc0, 0x48, 0x63, 0x72, 0x48, 0x49,
        0x39, 0xf0, 0x7c, 0xec, 0x49, 0x8b, 0x55, 0xf8,
        0x48, 0x89, 0x51, 0x50, 0x49, 0x89, 0x4d, 0xf0,
        0x49, 0x89, 0xc5, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__INIT_CALL_PY_EXACT_ARGS_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INIT_CALL_PY_EXACT_ARGS_1.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 45 e8                   movq    -0x18(%r13), %r8
    // 4: 49 8b 55 f0                   movq    -0x10(%r13), %rdx
    // 8: 48 83 fa 01                   cmpq    $0x1, %rdx
    // c: bf 01 00 00 00                movl    $0x1, %edi
    // 11: 83 df ff                      sbbl    $-0x1, %edi
    // 14: 49 8b 70 30                   movq    0x30(%r8), %rsi
    // 18: 49 8b 8e f0 00 00 00          movq    0xf0(%r14), %rcx
    // 1f: 48 63 46 4c                   movslq  0x4c(%rsi), %rax
    // 23: 48 8d 04 c1                   leaq    (%rcx,%rax,8), %rax
    // 27: 49 89 86 f0 00 00 00          movq    %rax, 0xf0(%r14)
    // 2e: 4c 89 61 08                   movq    %r12, 0x8(%rcx)
    // 32: 4c 89 41 10                   movq    %r8, 0x10(%rcx)
    // 36: 8b 06                         movl    (%rsi), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 04                         js      0x40 <__JIT_ENTRY+0x40>
    // 3c: ff c0                         incl    %eax
    // 3e: 89 06                         movl    %eax, (%rsi)
    // 40: 55                            pushq   %rbp
    // 41: 48 89 e5                      movq    %rsp, %rbp
    // 44: 49 8d 45 f0                   leaq    -0x10(%r13), %rax
    // 48: 48 89 31                      movq    %rsi, (%rcx)
    // 4b: 41 0f 10 40 10                movups  0x10(%r8), %xmm0
    // 50: 0f 11 41 18                   movups  %xmm0, 0x18(%rcx)
    // 54: 48 c7 41 28 00 00 00 00       movq    $0x0, 0x28(%rcx)
    // 5c: 4c 63 46 48                   movslq  0x48(%rsi), %r8
    // 60: 4e 8d 4c c1 50                leaq    0x50(%rcx,%r8,8), %r9
    // 65: 4c 89 49 40                   movq    %r9, 0x40(%rcx)
    // 69: 48 c7 41 30 00 00 00 00       movq    $0x0, 0x30(%rcx)
    // 71: 4c 8d 8e d0 00 00 00          leaq    0xd0(%rsi), %r9
    // 78: 4c 89 49 38                   movq    %r9, 0x38(%rcx)
    // 7c: c7 41 48 00 00 00 00          movl    $0x0, 0x48(%rcx)
    // 83: 41 39 f8                      cmpl    %edi, %r8d
    // 86: 7e 1c                         jle     0xa4 <__JIT_ENTRY+0xa4>
    // 88: 4c 8d 41 50                   leaq    0x50(%rcx), %r8
    // 8c: 89 ff                         movl    %edi, %edi
    // 8e: 66 90                         nop
    // 90: 49 c7 04 f8 00 00 00 00       movq    $0x0, (%r8,%rdi,8)
    // 98: 48 ff c7                      incq    %rdi
    // 9b: 4c 63 4e 48                   movslq  0x48(%rsi), %r9
    // 9f: 4c 39 cf                      cmpq    %r9, %rdi
    // a2: 7c ec                         jl      0x90 <__JIT_ENTRY+0x90>
    // a4: 31 f6                         xorl    %esi, %esi
    // a6: 48 85 d2                      testq   %rdx, %rdx
    // a9: 40 0f 95 c6                   setne   %sil
    // ad: 49 8b 55 f0                   movq    -0x10(%r13), %rdx
    // b1: 48 89 51 50                   movq    %rdx, 0x50(%rcx)
    // b5: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // b9: 48 89 54 f1 50                movq    %rdx, 0x50(%rcx,%rsi,8)
    // be: 49 89 4d e8                   movq    %rcx, -0x18(%r13)
    // c2: 49 89 c5                      movq    %rax, %r13
    // c5: 5d                            popq    %rbp
    // c6: e9 00 00 00 00                jmp     0xcb <__JIT_ENTRY+0xcb>
    // 00000000000000c7:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[198] = {
        0x4d, 0x8b, 0x45, 0xe8, 0x49, 0x8b, 0x55, 0xf0,
        0x48, 0x83, 0xfa, 0x01, 0xbf, 0x01, 0x00, 0x00,
        0x00, 0x83, 0xdf, 0xff, 0x49, 0x8b, 0x70, 0x30,
        0x49, 0x8b, 0x8e, 0xf0, 0x00, 0x00, 0x00, 0x48,
        0x63, 0x46, 0x4c, 0x48, 0x8d, 0x04, 0xc1, 0x49,
        0x89, 0x86, 0xf0, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0x61, 0x08, 0x4c, 0x89, 0x41, 0x10, 0x8b, 0x06,
        0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0, 0x89, 0x06,
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8d, 0x45, 0xf0,
        0x48, 0x89, 0x31, 0x41, 0x0f, 0x10, 0x40, 0x10,
        0x0f, 0x11, 0x41, 0x18, 0x48, 0xc7, 0x41, 0x28,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x63, 0x46, 0x48,
        0x4e, 0x8d, 0x4c, 0xc1, 0x50, 0x4c, 0x89, 0x49,
        0x40, 0x48, 0xc7, 0x41, 0x30, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x8d, 0x8e, 0xd0, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0x49, 0x38, 0xc7, 0x41, 0x48, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x39, 0xf8, 0x7e, 0x1c,
        0x4c, 0x8d, 0x41, 0x50, 0x89, 0xff, 0x66, 0x90,
        0x49, 0xc7, 0x04, 0xf8, 0x00, 0x00, 0x00, 0x00,
        0x48, 0xff, 0xc7, 0x4c, 0x63, 0x4e, 0x48, 0x4c,
        0x39, 0xcf, 0x7c, 0xec, 0x31, 0xf6, 0x48, 0x85,
        0xd2, 0x40, 0x0f, 0x95, 0xc6, 0x49, 0x8b, 0x55,
        0xf0, 0x48, 0x89, 0x51, 0x50, 0x49, 0x8b, 0x55,
        0xf8, 0x48, 0x89, 0x54, 0xf1, 0x50, 0x49, 0x89,
        0x4d, 0xe8, 0x49, 0x89, 0xc5, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__INIT_CALL_PY_EXACT_ARGS_2(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INIT_CALL_PY_EXACT_ARGS_2.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 45 e0                   movq    -0x20(%r13), %r8
    // 4: 49 8b 55 e8                   movq    -0x18(%r13), %rdx
    // 8: 48 83 fa 01                   cmpq    $0x1, %rdx
    // c: bf 02 00 00 00                movl    $0x2, %edi
    // 11: 83 df ff                      sbbl    $-0x1, %edi
    // 14: 49 8b 70 30                   movq    0x30(%r8), %rsi
    // 18: 49 8b 8e f0 00 00 00          movq    0xf0(%r14), %rcx
    // 1f: 48 63 46 4c                   movslq  0x4c(%rsi), %rax
    // 23: 48 8d 04 c1                   leaq    (%rcx,%rax,8), %rax
    // 27: 49 89 86 f0 00 00 00          movq    %rax, 0xf0(%r14)
    // 2e: 4c 89 61 08                   movq    %r12, 0x8(%rcx)
    // 32: 4c 89 41 10                   movq    %r8, 0x10(%rcx)
    // 36: 8b 06                         movl    (%rsi), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 04                         js      0x40 <__JIT_ENTRY+0x40>
    // 3c: ff c0                         incl    %eax
    // 3e: 89 06                         movl    %eax, (%rsi)
    // 40: 55                            pushq   %rbp
    // 41: 48 89 e5                      movq    %rsp, %rbp
    // 44: 49 8d 45 e8                   leaq    -0x18(%r13), %rax
    // 48: 48 89 31                      movq    %rsi, (%rcx)
    // 4b: 41 0f 10 40 10                movups  0x10(%r8), %xmm0
    // 50: 0f 11 41 18                   movups  %xmm0, 0x18(%rcx)
    // 54: 48 c7 41 28 00 00 00 00       movq    $0x0, 0x28(%rcx)
    // 5c: 4c 63 46 48                   movslq  0x48(%rsi), %r8
    // 60: 4e 8d 4c c1 50                leaq    0x50(%rcx,%r8,8), %r9
    // 65: 4c 89 49 40                   movq    %r9, 0x40(%rcx)
    // 69: 48 c7 41 30 00 00 00 00       movq    $0x0, 0x30(%rcx)
    // 71: 4c 8d 8e d0 00 00 00          leaq    0xd0(%rsi), %r9
    // 78: 4c 89 49 38                   movq    %r9, 0x38(%rcx)
    // 7c: c7 41 48 00 00 00 00          movl    $0x0, 0x48(%rcx)
    // 83: 41 39 f8                      cmpl    %edi, %r8d
    // 86: 7e 1c                         jle     0xa4 <__JIT_ENTRY+0xa4>
    // 88: 4c 8d 41 50                   leaq    0x50(%rcx), %r8
    // 8c: 89 ff                         movl    %edi, %edi
    // 8e: 66 90                         nop
    // 90: 49 c7 04 f8 00 00 00 00       movq    $0x0, (%r8,%rdi,8)
    // 98: 48 ff c7                      incq    %rdi
    // 9b: 4c 63 4e 48                   movslq  0x48(%rsi), %r9
    // 9f: 4c 39 cf                      cmpq    %r9, %rdi
    // a2: 7c ec                         jl      0x90 <__JIT_ENTRY+0x90>
    // a4: 31 f6                         xorl    %esi, %esi
    // a6: 48 85 d2                      testq   %rdx, %rdx
    // a9: 40 0f 95 c6                   setne   %sil
    // ad: 49 8b 55 e8                   movq    -0x18(%r13), %rdx
    // b1: 48 89 51 50                   movq    %rdx, 0x50(%rcx)
    // b5: 49 8b 55 f0                   movq    -0x10(%r13), %rdx
    // b9: 48 89 54 f1 50                movq    %rdx, 0x50(%rcx,%rsi,8)
    // be: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // c2: 48 89 54 f1 58                movq    %rdx, 0x58(%rcx,%rsi,8)
    // c7: 49 89 4d e0                   movq    %rcx, -0x20(%r13)
    // cb: 49 89 c5                      movq    %rax, %r13
    // ce: 5d                            popq    %rbp
    // cf: e9 00 00 00 00                jmp     0xd4 <__JIT_ENTRY+0xd4>
    // 00000000000000d0:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[207] = {
        0x4d, 0x8b, 0x45, 0xe0, 0x49, 0x8b, 0x55, 0xe8,
        0x48, 0x83, 0xfa, 0x01, 0xbf, 0x02, 0x00, 0x00,
        0x00, 0x83, 0xdf, 0xff, 0x49, 0x8b, 0x70, 0x30,
        0x49, 0x8b, 0x8e, 0xf0, 0x00, 0x00, 0x00, 0x48,
        0x63, 0x46, 0x4c, 0x48, 0x8d, 0x04, 0xc1, 0x49,
        0x89, 0x86, 0xf0, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0x61, 0x08, 0x4c, 0x89, 0x41, 0x10, 0x8b, 0x06,
        0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0, 0x89, 0x06,
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8d, 0x45, 0xe8,
        0x48, 0x89, 0x31, 0x41, 0x0f, 0x10, 0x40, 0x10,
        0x0f, 0x11, 0x41, 0x18, 0x48, 0xc7, 0x41, 0x28,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x63, 0x46, 0x48,
        0x4e, 0x8d, 0x4c, 0xc1, 0x50, 0x4c, 0x89, 0x49,
        0x40, 0x48, 0xc7, 0x41, 0x30, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x8d, 0x8e, 0xd0, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0x49, 0x38, 0xc7, 0x41, 0x48, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x39, 0xf8, 0x7e, 0x1c,
        0x4c, 0x8d, 0x41, 0x50, 0x89, 0xff, 0x66, 0x90,
        0x49, 0xc7, 0x04, 0xf8, 0x00, 0x00, 0x00, 0x00,
        0x48, 0xff, 0xc7, 0x4c, 0x63, 0x4e, 0x48, 0x4c,
        0x39, 0xcf, 0x7c, 0xec, 0x31, 0xf6, 0x48, 0x85,
        0xd2, 0x40, 0x0f, 0x95, 0xc6, 0x49, 0x8b, 0x55,
        0xe8, 0x48, 0x89, 0x51, 0x50, 0x49, 0x8b, 0x55,
        0xf0, 0x48, 0x89, 0x54, 0xf1, 0x50, 0x49, 0x8b,
        0x55, 0xf8, 0x48, 0x89, 0x54, 0xf1, 0x58, 0x49,
        0x89, 0x4d, 0xe0, 0x49, 0x89, 0xc5, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__INIT_CALL_PY_EXACT_ARGS_3(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INIT_CALL_PY_EXACT_ARGS_3.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 45 d8                   movq    -0x28(%r13), %r8
    // 4: 49 8b 55 e0                   movq    -0x20(%r13), %rdx
    // 8: 48 83 fa 01                   cmpq    $0x1, %rdx
    // c: bf 03 00 00 00                movl    $0x3, %edi
    // 11: 83 df ff                      sbbl    $-0x1, %edi
    // 14: 49 8b 70 30                   movq    0x30(%r8), %rsi
    // 18: 49 8b 8e f0 00 00 00          movq    0xf0(%r14), %rcx
    // 1f: 48 63 46 4c                   movslq  0x4c(%rsi), %rax
    // 23: 48 8d 04 c1                   leaq    (%rcx,%rax,8), %rax
    // 27: 49 89 86 f0 00 00 00          movq    %rax, 0xf0(%r14)
    // 2e: 4c 89 61 08                   movq    %r12, 0x8(%rcx)
    // 32: 4c 89 41 10                   movq    %r8, 0x10(%rcx)
    // 36: 8b 06                         movl    (%rsi), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 04                         js      0x40 <__JIT_ENTRY+0x40>
    // 3c: ff c0                         incl    %eax
    // 3e: 89 06                         movl    %eax, (%rsi)
    // 40: 55                            pushq   %rbp
    // 41: 48 89 e5                      movq    %rsp, %rbp
    // 44: 49 8d 45 e0                   leaq    -0x20(%r13), %rax
    // 48: 48 89 31                      movq    %rsi, (%rcx)
    // 4b: 41 0f 10 40 10                movups  0x10(%r8), %xmm0
    // 50: 0f 11 41 18                   movups  %xmm0, 0x18(%rcx)
    // 54: 48 c7 41 28 00 00 00 00       movq    $0x0, 0x28(%rcx)
    // 5c: 4c 63 46 48                   movslq  0x48(%rsi), %r8
    // 60: 4e 8d 4c c1 50                leaq    0x50(%rcx,%r8,8), %r9
    // 65: 4c 89 49 40                   movq    %r9, 0x40(%rcx)
    // 69: 48 c7 41 30 00 00 00 00       movq    $0x0, 0x30(%rcx)
    // 71: 4c 8d 8e d0 00 00 00          leaq    0xd0(%rsi), %r9
    // 78: 4c 89 49 38                   movq    %r9, 0x38(%rcx)
    // 7c: c7 41 48 00 00 00 00          movl    $0x0, 0x48(%rcx)
    // 83: 41 39 f8                      cmpl    %edi, %r8d
    // 86: 7e 1c                         jle     0xa4 <__JIT_ENTRY+0xa4>
    // 88: 4c 8d 41 50                   leaq    0x50(%rcx), %r8
    // 8c: 89 ff                         movl    %edi, %edi
    // 8e: 66 90                         nop
    // 90: 49 c7 04 f8 00 00 00 00       movq    $0x0, (%r8,%rdi,8)
    // 98: 48 ff c7                      incq    %rdi
    // 9b: 4c 63 4e 48                   movslq  0x48(%rsi), %r9
    // 9f: 4c 39 cf                      cmpq    %r9, %rdi
    // a2: 7c ec                         jl      0x90 <__JIT_ENTRY+0x90>
    // a4: 31 f6                         xorl    %esi, %esi
    // a6: 48 85 d2                      testq   %rdx, %rdx
    // a9: 40 0f 95 c6                   setne   %sil
    // ad: 49 8b 55 e0                   movq    -0x20(%r13), %rdx
    // b1: 48 89 51 50                   movq    %rdx, 0x50(%rcx)
    // b5: 49 8b 55 e8                   movq    -0x18(%r13), %rdx
    // b9: 48 89 54 f1 50                movq    %rdx, 0x50(%rcx,%rsi,8)
    // be: 49 8b 55 f0                   movq    -0x10(%r13), %rdx
    // c2: 48 89 54 f1 58                movq    %rdx, 0x58(%rcx,%rsi,8)
    // c7: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // cb: 48 89 54 f1 60                movq    %rdx, 0x60(%rcx,%rsi,8)
    // d0: 49 89 4d d8                   movq    %rcx, -0x28(%r13)
    // d4: 49 89 c5                      movq    %rax, %r13
    // d7: 5d                            popq    %rbp
    // d8: e9 00 00 00 00                jmp     0xdd <__JIT_ENTRY+0xdd>
    // 00000000000000d9:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[216] = {
        0x4d, 0x8b, 0x45, 0xd8, 0x49, 0x8b, 0x55, 0xe0,
        0x48, 0x83, 0xfa, 0x01, 0xbf, 0x03, 0x00, 0x00,
        0x00, 0x83, 0xdf, 0xff, 0x49, 0x8b, 0x70, 0x30,
        0x49, 0x8b, 0x8e, 0xf0, 0x00, 0x00, 0x00, 0x48,
        0x63, 0x46, 0x4c, 0x48, 0x8d, 0x04, 0xc1, 0x49,
        0x89, 0x86, 0xf0, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0x61, 0x08, 0x4c, 0x89, 0x41, 0x10, 0x8b, 0x06,
        0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0, 0x89, 0x06,
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8d, 0x45, 0xe0,
        0x48, 0x89, 0x31, 0x41, 0x0f, 0x10, 0x40, 0x10,
        0x0f, 0x11, 0x41, 0x18, 0x48, 0xc7, 0x41, 0x28,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x63, 0x46, 0x48,
        0x4e, 0x8d, 0x4c, 0xc1, 0x50, 0x4c, 0x89, 0x49,
        0x40, 0x48, 0xc7, 0x41, 0x30, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x8d, 0x8e, 0xd0, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0x49, 0x38, 0xc7, 0x41, 0x48, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x39, 0xf8, 0x7e, 0x1c,
        0x4c, 0x8d, 0x41, 0x50, 0x89, 0xff, 0x66, 0x90,
        0x49, 0xc7, 0x04, 0xf8, 0x00, 0x00, 0x00, 0x00,
        0x48, 0xff, 0xc7, 0x4c, 0x63, 0x4e, 0x48, 0x4c,
        0x39, 0xcf, 0x7c, 0xec, 0x31, 0xf6, 0x48, 0x85,
        0xd2, 0x40, 0x0f, 0x95, 0xc6, 0x49, 0x8b, 0x55,
        0xe0, 0x48, 0x89, 0x51, 0x50, 0x49, 0x8b, 0x55,
        0xe8, 0x48, 0x89, 0x54, 0xf1, 0x50, 0x49, 0x8b,
        0x55, 0xf0, 0x48, 0x89, 0x54, 0xf1, 0x58, 0x49,
        0x8b, 0x55, 0xf8, 0x48, 0x89, 0x54, 0xf1, 0x60,
        0x49, 0x89, 0x4d, 0xd8, 0x49, 0x89, 0xc5, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__INIT_CALL_PY_EXACT_ARGS_4(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INIT_CALL_PY_EXACT_ARGS_4.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 45 d0                   movq    -0x30(%r13), %r8
    // 4: 49 8b 55 d8                   movq    -0x28(%r13), %rdx
    // 8: 48 83 fa 01                   cmpq    $0x1, %rdx
    // c: bf 04 00 00 00                movl    $0x4, %edi
    // 11: 83 df ff                      sbbl    $-0x1, %edi
    // 14: 49 8b 70 30                   movq    0x30(%r8), %rsi
    // 18: 49 8b 8e f0 00 00 00          movq    0xf0(%r14), %rcx
    // 1f: 48 63 46 4c                   movslq  0x4c(%rsi), %rax
    // 23: 48 8d 04 c1                   leaq    (%rcx,%rax,8), %rax
    // 27: 49 89 86 f0 00 00 00          movq    %rax, 0xf0(%r14)
    // 2e: 4c 89 61 08                   movq    %r12, 0x8(%rcx)
    // 32: 4c 89 41 10                   movq    %r8, 0x10(%rcx)
    // 36: 8b 06                         movl    (%rsi), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 04                         js      0x40 <__JIT_ENTRY+0x40>
    // 3c: ff c0                         incl    %eax
    // 3e: 89 06                         movl    %eax, (%rsi)
    // 40: 55                            pushq   %rbp
    // 41: 48 89 e5                      movq    %rsp, %rbp
    // 44: 49 8d 45 d8                   leaq    -0x28(%r13), %rax
    // 48: 48 89 31                      movq    %rsi, (%rcx)
    // 4b: 41 0f 10 40 10                movups  0x10(%r8), %xmm0
    // 50: 0f 11 41 18                   movups  %xmm0, 0x18(%rcx)
    // 54: 48 c7 41 28 00 00 00 00       movq    $0x0, 0x28(%rcx)
    // 5c: 4c 63 46 48                   movslq  0x48(%rsi), %r8
    // 60: 4e 8d 4c c1 50                leaq    0x50(%rcx,%r8,8), %r9
    // 65: 4c 89 49 40                   movq    %r9, 0x40(%rcx)
    // 69: 48 c7 41 30 00 00 00 00       movq    $0x0, 0x30(%rcx)
    // 71: 4c 8d 8e d0 00 00 00          leaq    0xd0(%rsi), %r9
    // 78: 4c 89 49 38                   movq    %r9, 0x38(%rcx)
    // 7c: c7 41 48 00 00 00 00          movl    $0x0, 0x48(%rcx)
    // 83: 41 39 f8                      cmpl    %edi, %r8d
    // 86: 7e 1c                         jle     0xa4 <__JIT_ENTRY+0xa4>
    // 88: 4c 8d 41 50                   leaq    0x50(%rcx), %r8
    // 8c: 89 ff                         movl    %edi, %edi
    // 8e: 66 90                         nop
    // 90: 49 c7 04 f8 00 00 00 00       movq    $0x0, (%r8,%rdi,8)
    // 98: 48 ff c7                      incq    %rdi
    // 9b: 4c 63 4e 48                   movslq  0x48(%rsi), %r9
    // 9f: 4c 39 cf                      cmpq    %r9, %rdi
    // a2: 7c ec                         jl      0x90 <__JIT_ENTRY+0x90>
    // a4: 31 f6                         xorl    %esi, %esi
    // a6: 48 85 d2                      testq   %rdx, %rdx
    // a9: 40 0f 95 c6                   setne   %sil
    // ad: 49 8b 55 d8                   movq    -0x28(%r13), %rdx
    // b1: 48 89 51 50                   movq    %rdx, 0x50(%rcx)
    // b5: 49 8b 55 e0                   movq    -0x20(%r13), %rdx
    // b9: 48 89 54 f1 50                movq    %rdx, 0x50(%rcx,%rsi,8)
    // be: 49 8b 55 e8                   movq    -0x18(%r13), %rdx
    // c2: 48 89 54 f1 58                movq    %rdx, 0x58(%rcx,%rsi,8)
    // c7: 49 8b 55 f0                   movq    -0x10(%r13), %rdx
    // cb: 48 89 54 f1 60                movq    %rdx, 0x60(%rcx,%rsi,8)
    // d0: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // d4: 48 89 54 f1 68                movq    %rdx, 0x68(%rcx,%rsi,8)
    // d9: 49 89 4d d0                   movq    %rcx, -0x30(%r13)
    // dd: 49 89 c5                      movq    %rax, %r13
    // e0: 5d                            popq    %rbp
    // e1: e9 00 00 00 00                jmp     0xe6 <__JIT_ENTRY+0xe6>
    // 00000000000000e2:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[225] = {
        0x4d, 0x8b, 0x45, 0xd0, 0x49, 0x8b, 0x55, 0xd8,
        0x48, 0x83, 0xfa, 0x01, 0xbf, 0x04, 0x00, 0x00,
        0x00, 0x83, 0xdf, 0xff, 0x49, 0x8b, 0x70, 0x30,
        0x49, 0x8b, 0x8e, 0xf0, 0x00, 0x00, 0x00, 0x48,
        0x63, 0x46, 0x4c, 0x48, 0x8d, 0x04, 0xc1, 0x49,
        0x89, 0x86, 0xf0, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0x61, 0x08, 0x4c, 0x89, 0x41, 0x10, 0x8b, 0x06,
        0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0, 0x89, 0x06,
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8d, 0x45, 0xd8,
        0x48, 0x89, 0x31, 0x41, 0x0f, 0x10, 0x40, 0x10,
        0x0f, 0x11, 0x41, 0x18, 0x48, 0xc7, 0x41, 0x28,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x63, 0x46, 0x48,
        0x4e, 0x8d, 0x4c, 0xc1, 0x50, 0x4c, 0x89, 0x49,
        0x40, 0x48, 0xc7, 0x41, 0x30, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x8d, 0x8e, 0xd0, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0x49, 0x38, 0xc7, 0x41, 0x48, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x39, 0xf8, 0x7e, 0x1c,
        0x4c, 0x8d, 0x41, 0x50, 0x89, 0xff, 0x66, 0x90,
        0x49, 0xc7, 0x04, 0xf8, 0x00, 0x00, 0x00, 0x00,
        0x48, 0xff, 0xc7, 0x4c, 0x63, 0x4e, 0x48, 0x4c,
        0x39, 0xcf, 0x7c, 0xec, 0x31, 0xf6, 0x48, 0x85,
        0xd2, 0x40, 0x0f, 0x95, 0xc6, 0x49, 0x8b, 0x55,
        0xd8, 0x48, 0x89, 0x51, 0x50, 0x49, 0x8b, 0x55,
        0xe0, 0x48, 0x89, 0x54, 0xf1, 0x50, 0x49, 0x8b,
        0x55, 0xe8, 0x48, 0x89, 0x54, 0xf1, 0x58, 0x49,
        0x8b, 0x55, 0xf0, 0x48, 0x89, 0x54, 0xf1, 0x60,
        0x49, 0x8b, 0x55, 0xf8, 0x48, 0x89, 0x54, 0xf1,
        0x68, 0x49, 0x89, 0x4d, 0xd0, 0x49, 0x89, 0xc5,
        0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__INTERNAL_INCREMENT_OPT_COUNTER(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _INTERNAL_INCREMENT_OPT_COUNTER.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 ff 40 18                   incq    0x18(%rax)
    // c: 49 83 c5 f8                   addq    $-0x8, %r13
    // 10: 5d                            popq    %rbp
    // 11: e9 00 00 00 00                jmp     0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[17] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0xff, 0x40, 0x18, 0x49, 0x83, 0xc5, 0xf8,
        0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__IS_NONE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _IS_NONE.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 3b 3d 00 00 00 00          cmpq    (%rip), %rdi            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __Py_NoneStruct@GOTPCREL
    // b: 74 1c                         je      0x29 <__JIT_ENTRY+0x29>
    // d: 8b 07                         movl    (%rdi), %eax
    // f: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 16: 85 c0                         testl   %eax, %eax
    // 18: 78 06                         js      0x20 <__JIT_ENTRY+0x20>
    // 1a: ff c8                         decl    %eax
    // 1c: 89 07                         movl    %eax, (%rdi)
    // 1e: 74 19                         je      0x39 <__JIT_ENTRY+0x39>
    // 20: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 24: e9 00 00 00 00                jmp     0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 29: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 30: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 34: e9 00 00 00 00                jmp     0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 39: 55                            pushq   %rbp
    // 3a: 48 89 e5                      movq    %rsp, %rbp
    // 3d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 43: 5d                            popq    %rbp
    // 44: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 48: e9 00 00 00 00                jmp     0x4d <__JIT_ENTRY+0x4d>
    // 0000000000000049:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[72] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x3b, 0x3d, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x1c, 0x8b, 0x07, 0x48,
        0x8b, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x85, 0xc0,
        0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74, 0x19,
        0x49, 0x89, 0x5d, 0xf8, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x1d, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x5d, 0xf8, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x55, 0x48, 0x89, 0xe5, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0x49, 0x89, 0x5d, 0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: &_Py_NoneStruct+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, (uintptr_t)&_Py_NoneStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0xc);
    patch_32r(code + 0x25, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x2c, (uintptr_t)data + 0x4);
    patch_32r(code + 0x35, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3f, (uintptr_t)data + -0x4);
}

void
emit__IS_OP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _IS_OP.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 8: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // c: 8b 03                         movl    (%rbx), %eax
    // e: 85 c0                         testl   %eax, %eax
    // 10: 78 0f                         js      0x21 <__JIT_ENTRY+0x21>
    // 12: ff c8                         decl    %eax
    // 14: 89 03                         movl    %eax, (%rbx)
    // 16: 75 09                         jne     0x21 <__JIT_ENTRY+0x21>
    // 18: 48 89 df                      movq    %rbx, %rdi
    // 1b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 21: 41 8b 07                      movl    (%r15), %eax
    // 24: 85 c0                         testl   %eax, %eax
    // 26: 78 10                         js      0x38 <__JIT_ENTRY+0x38>
    // 28: ff c8                         decl    %eax
    // 2a: 41 89 07                      movl    %eax, (%r15)
    // 2d: 75 09                         jne     0x38 <__JIT_ENTRY+0x38>
    // 2f: 4c 89 ff                      movq    %r15, %rdi
    // 32: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x38 <__JIT_ENTRY+0x38>
    // 0000000000000034:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 38: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // 3c: 31 c9                         xorl    %ecx, %ecx
    // 3e: 4c 39 fb                      cmpq    %r15, %rbx
    // 41: 0f 94 c1                      sete    %cl
    // 44: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 4b: 66 39 d1                      cmpw    %dx, %cx
    // 4e: 75 14                         jne     0x64 <__JIT_ENTRY+0x64>
    // 50: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x57 <__JIT_ENTRY+0x57>
    // 0000000000000053:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 57: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // 5b: 49 89 c5                      movq    %rax, %r13
    // 5e: 5d                            popq    %rbp
    // 5f: e9 00 00 00 00                jmp     0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 64: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x6b <__JIT_ENTRY+0x6b>
    // 0000000000000067:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 6b: 49 89 4d f0                   movq    %rcx, -0x10(%r13)
    // 6f: 49 89 c5                      movq    %rax, %r13
    // 72: 5d                            popq    %rbp
    // 73: e9 00 00 00 00                jmp     0x78 <__JIT_ENTRY+0x78>
    // 0000000000000074:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[115] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf0,
        0x4d, 0x8b, 0x7d, 0xf8, 0x8b, 0x03, 0x85, 0xc0,
        0x78, 0x0f, 0xff, 0xc8, 0x89, 0x03, 0x75, 0x09,
        0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x10,
        0xff, 0xc8, 0x41, 0x89, 0x07, 0x75, 0x09, 0x4c,
        0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x8d, 0x45, 0xf8, 0x31, 0xc9, 0x4c, 0x39,
        0xfb, 0x0f, 0x94, 0xc1, 0x48, 0x8b, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x66, 0x39, 0xd1, 0x75, 0x14,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x89, 0x4d, 0xf0, 0x49, 0x89, 0xc5, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x4d, 0xf0, 0x49,
        0x89, 0xc5, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    // 10: OPARG
    // 18: &_Py_Dealloc+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x10, instruction->oparg);
    patch_64(data + 0x18, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x34, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x47, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x53, (uintptr_t)data + 0x4);
    patch_32r(code + 0x60, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x67, (uintptr_t)data + -0x4);
}

void
emit__ITER_CHECK_LIST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _ITER_CHECK_LIST.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyListIter_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyListIter_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyListIter_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__ITER_CHECK_RANGE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _ITER_CHECK_RANGE.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyRangeIter_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyRangeIter_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyRangeIter_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__ITER_CHECK_TUPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _ITER_CHECK_TUPLE.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyTupleIter_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyTupleIter_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyTupleIter_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__ITER_NEXT_LIST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _ITER_NEXT_LIST.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 10                   movq    0x10(%rax), %rcx
    // c: 48 8b 50 18                   movq    0x18(%rax), %rdx
    // 10: 48 8b 52 18                   movq    0x18(%rdx), %rdx
    // 14: 48 8d 71 01                   leaq    0x1(%rcx), %rsi
    // 18: 48 89 70 10                   movq    %rsi, 0x10(%rax)
    // 1c: 48 8b 04 ca                   movq    (%rdx,%rcx,8), %rax
    // 20: 8b 08                         movl    (%rax), %ecx
    // 22: 85 c9                         testl   %ecx, %ecx
    // 24: 78 04                         js      0x2a <__JIT_ENTRY+0x2a>
    // 26: ff c1                         incl    %ecx
    // 28: 89 08                         movl    %ecx, (%rax)
    // 2a: 49 89 45 00                   movq    %rax, (%r13)
    // 2e: 49 83 c5 08                   addq    $0x8, %r13
    // 32: 5d                            popq    %rbp
    // 33: e9 00 00 00 00                jmp     0x38 <__JIT_ENTRY+0x38>
    // 0000000000000034:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[51] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x10, 0x48, 0x8b, 0x50, 0x18,
        0x48, 0x8b, 0x52, 0x18, 0x48, 0x8d, 0x71, 0x01,
        0x48, 0x89, 0x70, 0x10, 0x48, 0x8b, 0x04, 0xca,
        0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1,
        0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49, 0x83,
        0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__ITER_NEXT_RANGE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _ITER_NEXT_RANGE.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 78 10                   movq    0x10(%rax), %rdi
    // c: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // 10: 48 01 f9                      addq    %rdi, %rcx
    // 13: 48 89 48 10                   movq    %rcx, 0x10(%rax)
    // 17: 48 ff 48 20                   decq    0x20(%rax)
    // 1b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     _PyLong_FromLong@GOTPCREL
    // 21: 48 85 c0                      testq   %rax, %rax
    // 24: 74 0e                         je      0x34 <__JIT_ENTRY+0x34>
    // 26: 49 89 45 00                   movq    %rax, (%r13)
    // 2a: 49 83 c5 08                   addq    $0x8, %r13
    // 2e: 5d                            popq    %rbp
    // 2f: e9 00 00 00 00                jmp     0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 34: 5d                            popq    %rbp
    // 35: e9 00 00 00 00                jmp     0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[58] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x78, 0x10, 0x48, 0x8b, 0x48, 0x18,
        0x48, 0x01, 0xf9, 0x48, 0x89, 0x48, 0x10, 0x48,
        0xff, 0x48, 0x20, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &PyLong_FromLong+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyLong_FromLong);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
    patch_32r(code + 0x30, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x36, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__ITER_NEXT_TUPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _ITER_NEXT_TUPLE.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 48 10                   movq    0x10(%rax), %rcx
    // c: 48 8b 50 18                   movq    0x18(%rax), %rdx
    // 10: 48 8d 71 01                   leaq    0x1(%rcx), %rsi
    // 14: 48 89 70 10                   movq    %rsi, 0x10(%rax)
    // 18: 48 8b 44 ca 18                movq    0x18(%rdx,%rcx,8), %rax
    // 1d: 8b 08                         movl    (%rax), %ecx
    // 1f: 85 c9                         testl   %ecx, %ecx
    // 21: 78 04                         js      0x27 <__JIT_ENTRY+0x27>
    // 23: ff c1                         incl    %ecx
    // 25: 89 08                         movl    %ecx, (%rax)
    // 27: 49 89 45 00                   movq    %rax, (%r13)
    // 2b: 49 83 c5 08                   addq    $0x8, %r13
    // 2f: 5d                            popq    %rbp
    // 30: e9 00 00 00 00                jmp     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[48] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x48, 0x10, 0x48, 0x8b, 0x50, 0x18,
        0x48, 0x8d, 0x71, 0x01, 0x48, 0x89, 0x70, 0x10,
        0x48, 0x8b, 0x44, 0xca, 0x18, 0x8b, 0x08, 0x85,
        0xc9, 0x78, 0x04, 0xff, 0xc1, 0x89, 0x08, 0x49,
        0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__JUMP_TO_TOP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _JUMP_TO_TOP.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 5d                            popq    %rbp
    // 5: e9 00 00 00 00                jmp     0xa <__JIT_ENTRY+0xa>
    // 0000000000000006:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[10] = {
        0x55, 0x48, 0x89, 0xe5, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x6, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__LIST_APPEND(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LIST_APPEND.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 8b 05 00 00 00 00             movl    (%rip), %eax            ## 0x6 <__JIT_ENTRY+0x6>
    // 0000000000000002:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 6: f7 d0                         notl    %eax
    // 8: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // c: c1 e0 03                      shll    $0x3, %eax
    // f: 48 0d 00 00 f8 ff             orq     $-0x80000, %rax         ## imm = 0xFFF80000
    // 15: 49 8b 7c 05 00                movq    (%r13,%rax), %rdi
    // 1a: 48 8b 47 10                   movq    0x10(%rdi), %rax
    // 1e: 48 39 47 20                   cmpq    %rax, 0x20(%rdi)
    // 22: 7e 18                         jle     0x3c <__JIT_ENTRY+0x3c>
    // 24: 48 8b 4f 18                   movq    0x18(%rdi), %rcx
    // 28: 48 89 34 c1                   movq    %rsi, (%rcx,%rax,8)
    // 2c: 48 ff c0                      incq    %rax
    // 2f: 48 89 47 10                   movq    %rax, 0x10(%rdi)
    // 33: 49 83 c5 f8                   addq    $-0x8, %r13
    // 37: e9 00 00 00 00                jmp     0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3c: 55                            pushq   %rbp
    // 3d: 48 89 e5                      movq    %rsp, %rbp
    // 40: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x46 <__JIT_ENTRY+0x46>
    // 0000000000000042:  X86_64_RELOC_GOT     __PyList_AppendTakeRefListResize@GOTPCREL
    // 46: 85 c0                         testl   %eax, %eax
    // 48: 5d                            popq    %rbp
    // 49: 78 09                         js      0x54 <__JIT_ENTRY+0x54>
    // 4b: 49 83 c5 f8                   addq    $-0x8, %r13
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 54: e9 00 00 00 00                jmp     0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[89] = {
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0xf7, 0xd0,
        0x49, 0x8b, 0x75, 0xf8, 0xc1, 0xe0, 0x03, 0x48,
        0x0d, 0x00, 0x00, 0xf8, 0xff, 0x49, 0x8b, 0x7c,
        0x05, 0x00, 0x48, 0x8b, 0x47, 0x10, 0x48, 0x39,
        0x47, 0x20, 0x7e, 0x18, 0x48, 0x8b, 0x4f, 0x18,
        0x48, 0x89, 0x34, 0xc1, 0x48, 0xff, 0xc0, 0x48,
        0x89, 0x47, 0x10, 0x49, 0x83, 0xc5, 0xf8, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x85, 0xc0,
        0x5d, 0x78, 0x09, 0x49, 0x83, 0xc5, 0xf8, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_PyList_AppendTakeRefListResize+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyList_AppendTakeRefListResize);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x2, (uintptr_t)data + 0x4);
    patch_32r(code + 0x38, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x42, (uintptr_t)data + -0x4);
    patch_32r(code + 0x50, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x55, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LIST_EXTEND(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LIST_EXTEND.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 8b 05 00 00 00 00             movl    (%rip), %eax            ## 0xa <__JIT_ENTRY+0xa>
    // 0000000000000006:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // a: f7 d0                         notl    %eax
    // c: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 10: c1 e0 03                      shll    $0x3, %eax
    // 13: 48 0d 00 00 f8 ff             orq     $-0x80000, %rax         ## imm = 0xFFF80000
    // 19: 49 8b 7c 05 00                movq    (%r13,%rax), %rdi
    // 1e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 23: 48 89 de                      movq    %rbx, %rsi
    // 26: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_GOT     __PyList_Extend@GOTPCREL
    // 2c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 31: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3a: 48 85 c0                      testq   %rax, %rax
    // 3d: 74 1a                         je      0x59 <__JIT_ENTRY+0x59>
    // 3f: 8b 03                         movl    (%rbx), %eax
    // 41: 85 c0                         testl   %eax, %eax
    // 43: 78 0a                         js      0x4f <__JIT_ENTRY+0x4f>
    // 45: ff c8                         decl    %eax
    // 47: 89 03                         movl    %eax, (%rbx)
    // 49: 0f 84 9a 00 00 00             je      0xe9 <__JIT_ENTRY+0xe9>
    // 4f: 49 83 c5 f8                   addq    $-0x8, %r13
    // 53: 5d                            popq    %rbp
    // 54: e9 00 00 00 00                jmp     0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 59: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 5e: 4c 8b 3d 00 00 00 00          movq    (%rip), %r15            ## 0x65 <__JIT_ENTRY+0x65>
    // 0000000000000061:  X86_64_RELOC_GOT_LOAD        _PyExc_TypeError@GOTPCREL
    // 65: 49 8b 37                      movq    (%r15), %rsi
    // 68: 4c 89 f7                      movq    %r14, %rdi
    // 6b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x71 <__JIT_ENTRY+0x71>
    // 000000000000006d:  X86_64_RELOC_GOT     __PyErr_ExceptionMatches@GOTPCREL
    // 71: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 76: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 7f: 85 c0                         testl   %eax, %eax
    // 81: 74 54                         je      0xd7 <__JIT_ENTRY+0xd7>
    // 83: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 87: 48 83 b8 d8 00 00 00 00       cmpq    $0x0, 0xd8(%rax)
    // 8f: 75 46                         jne     0xd7 <__JIT_ENTRY+0xd7>
    // 91: 48 89 df                      movq    %rbx, %rdi
    // 94: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x9a <__JIT_ENTRY+0x9a>
    // 0000000000000096:  X86_64_RELOC_GOT     _PySequence_Check@GOTPCREL
    // 9a: 85 c0                         testl   %eax, %eax
    // 9c: 75 39                         jne     0xd7 <__JIT_ENTRY+0xd7>
    // 9e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // a3: 4c 89 f7                      movq    %r14, %rdi
    // a6: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xac <__JIT_ENTRY+0xac>
    // 00000000000000a8:  X86_64_RELOC_GOT     __PyErr_Clear@GOTPCREL
    // ac: 49 8b 37                      movq    (%r15), %rsi
    // af: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // b3: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // b7: 48 8d 15 4d 00 00 00          leaq    0x4d(%rip), %rdx        ## 0x10b <__JIT_ENTRY+0x10b>
    // 00000000000000ba:  X86_64_RELOC_SIGNED  __cstring
    // be: 4c 89 f7                      movq    %r14, %rdi
    // c1: 31 c0                         xorl    %eax, %eax
    // c3: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xc9 <__JIT_ENTRY+0xc9>
    // 00000000000000c5:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // c9: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // ce: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // d7: 8b 03                         movl    (%rbx), %eax
    // d9: 85 c0                         testl   %eax, %eax
    // db: 78 06                         js      0xe3 <__JIT_ENTRY+0xe3>
    // dd: ff c8                         decl    %eax
    // df: 89 03                         movl    %eax, (%rbx)
    // e1: 74 19                         je      0xfc <__JIT_ENTRY+0xfc>
    // e3: 5d                            popq    %rbp
    // e4: e9 00 00 00 00                jmp     0xe9 <__JIT_ENTRY+0xe9>
    // 00000000000000e5:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // e9: 48 89 df                      movq    %rbx, %rdi
    // ec: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xf2 <__JIT_ENTRY+0xf2>
    // 00000000000000ee:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // f2: 49 83 c5 f8                   addq    $-0x8, %r13
    // f6: 5d                            popq    %rbp
    // f7: e9 00 00 00 00                jmp     0xfc <__JIT_ENTRY+0xfc>
    // 00000000000000f8:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // fc: 48 89 df                      movq    %rbx, %rdi
    // ff: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x105 <__JIT_ENTRY+0x105>
    // 0000000000000101:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 105: 5d                            popq    %rbp
    // 106: e9 00 00 00 00                jmp     0x10b <__JIT_ENTRY+0x10b>
    // 0000000000000107:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[267] = {
        0x55, 0x48, 0x89, 0xe5, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0xf7, 0xd0, 0x49, 0x8b, 0x5d, 0xf8,
        0xc1, 0xe0, 0x03, 0x48, 0x0d, 0x00, 0x00, 0xf8,
        0xff, 0x49, 0x8b, 0x7c, 0x05, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x89, 0xde, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x1a, 0x8b,
        0x03, 0x85, 0xc0, 0x78, 0x0a, 0xff, 0xc8, 0x89,
        0x03, 0x0f, 0x84, 0x9a, 0x00, 0x00, 0x00, 0x49,
        0x83, 0xc5, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c, 0x8b,
        0x3d, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x37,
        0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x85,
        0xc0, 0x74, 0x54, 0x48, 0x8b, 0x43, 0x08, 0x48,
        0x83, 0xb8, 0xd8, 0x00, 0x00, 0x00, 0x00, 0x75,
        0x46, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x85, 0xc0, 0x75, 0x39, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x4c, 0x89, 0xf7, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x37, 0x48,
        0x8b, 0x43, 0x08, 0x48, 0x8b, 0x48, 0x18, 0x48,
        0x8d, 0x15, 0x4d, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xf7, 0x31, 0xc0, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x03, 0x74, 0x19, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0xc5, 0xf8, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: 'Value after * must be an iterable, not %.200s\x00'
    // 2e: 00 00
    // 30: &_Py_Dealloc+0x0
    // 38: &_PyErr_Format+0x0
    // 40: &_PyErr_Clear+0x0
    // 48: &PySequence_Check+0x0
    // 50: &_PyErr_ExceptionMatches+0x0
    // 58: &PyExc_TypeError+0x0
    // 60: &_PyList_Extend+0x0
    // 68: OPARG
    const unsigned char data_body[112] = {
        0x56, 0x61, 0x6c, 0x75, 0x65, 0x20, 0x61, 0x66,
        0x74, 0x65, 0x72, 0x20, 0x2a, 0x20, 0x6d, 0x75,
        0x73, 0x74, 0x20, 0x62, 0x65, 0x20, 0x61, 0x6e,
        0x20, 0x69, 0x74, 0x65, 0x72, 0x61, 0x62, 0x6c,
        0x65, 0x2c, 0x20, 0x6e, 0x6f, 0x74, 0x20, 0x25,
        0x2e, 0x32, 0x30, 0x30, 0x73, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x30, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x38, (uintptr_t)&_PyErr_Format);
    patch_64(data + 0x40, (uintptr_t)&_PyErr_Clear);
    patch_64(data + 0x48, (uintptr_t)&PySequence_Check);
    patch_64(data + 0x50, (uintptr_t)&_PyErr_ExceptionMatches);
    patch_64(data + 0x58, (uintptr_t)&PyExc_TypeError);
    patch_64(data + 0x60, (uintptr_t)&_PyList_Extend);
    patch_64(data + 0x68, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x6, (uintptr_t)data + 0x64);
    patch_x86_64_32rx(code + 0x28, (uintptr_t)data + 0x5c);
    patch_32r(code + 0x55, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x61, (uintptr_t)data + 0x54);
    patch_x86_64_32rx(code + 0x6d, (uintptr_t)data + 0x4c);
    patch_x86_64_32rx(code + 0x96, (uintptr_t)data + 0x44);
    patch_x86_64_32rx(code + 0xa8, (uintptr_t)data + 0x3c);
    patch_32r(code + 0xba, (uintptr_t)data + 0x154);
    patch_x86_64_32rx(code + 0xc5, (uintptr_t)data + 0x34);
    patch_32r(code + 0xe5, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0xee, (uintptr_t)data + 0x2c);
    patch_32r(code + 0xf8, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x101, (uintptr_t)data + 0x2c);
    patch_32r(code + 0x107, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_ATTR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 44 8b 3d 00 00 00 00          movl    (%rip), %r15d           ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 13: 49 8b 04 24                   movq    (%r12), %rax
    // 17: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 1b: 44 89 f9                      movl    %r15d, %ecx
    // 1e: 81 e1 fe ff 00 00             andl    $0xfffe, %ecx           ## imm = 0xFFFE
    // 24: 48 8b 74 88 18                movq    0x18(%rax,%rcx,4), %rsi
    // 29: 41 83 e7 01                   andl    $0x1, %r15d
    // 2d: 75 37                         jne     0x66 <__JIT_ENTRY+0x66>
    // 2f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 34: 48 89 df                      movq    %rbx, %rdi
    // 37: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3d <__JIT_ENTRY+0x3d>
    // 0000000000000039:  X86_64_RELOC_GOT     _PyObject_GetAttr@GOTPCREL
    // 3d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 42: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 4b: 8b 0b                         movl    (%rbx), %ecx
    // 4d: 85 c9                         testl   %ecx, %ecx
    // 4f: 78 06                         js      0x57 <__JIT_ENTRY+0x57>
    // 51: ff c9                         decl    %ecx
    // 53: 89 0b                         movl    %ecx, (%rbx)
    // 55: 74 7b                         je      0xd2 <__JIT_ENTRY+0xd2>
    // 57: 48 85 c0                      testq   %rax, %rax
    // 5a: 0f 84 8a 00 00 00             je      0xea <__JIT_ENTRY+0xea>
    // 60: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 64: eb 5a                         jmp     0xc0 <__JIT_ENTRY+0xc0>
    // 66: 48 c7 45 f8 00 00 00 00       movq    $0x0, -0x8(%rbp)
    // 6e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 73: 48 8d 55 f8                   leaq    -0x8(%rbp), %rdx
    // 77: 48 89 df                      movq    %rbx, %rdi
    // 7a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x80 <__JIT_ENTRY+0x80>
    // 000000000000007c:  X86_64_RELOC_GOT     __PyObject_GetMethod@GOTPCREL
    // 80: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 85: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 8e: 85 c0                         testl   %eax, %eax
    // 90: 74 06                         je      0x98 <__JIT_ENTRY+0x98>
    // 92: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 96: eb 20                         jmp     0xb8 <__JIT_ENTRY+0xb8>
    // 98: 8b 03                         movl    (%rbx), %eax
    // 9a: 85 c0                         testl   %eax, %eax
    // 9c: 78 0f                         js      0xad <__JIT_ENTRY+0xad>
    // 9e: ff c8                         decl    %eax
    // a0: 89 03                         movl    %eax, (%rbx)
    // a2: 75 09                         jne     0xad <__JIT_ENTRY+0xad>
    // a4: 48 89 df                      movq    %rbx, %rdi
    // a7: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xad <__JIT_ENTRY+0xad>
    // 00000000000000a9:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ad: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // b1: 48 85 c0                      testq   %rax, %rax
    // b4: 74 34                         je      0xea <__JIT_ENTRY+0xea>
    // b6: 31 db                         xorl    %ebx, %ebx
    // b8: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // bc: 49 89 5d 00                   movq    %rbx, (%r13)
    // c0: 44 89 f8                      movl    %r15d, %eax
    // c3: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // c8: 48 83 c4 10                   addq    $0x10, %rsp
    // cc: 5d                            popq    %rbp
    // cd: e9 00 00 00 00                jmp     0xd2 <__JIT_ENTRY+0xd2>
    // 00000000000000ce:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // d2: 48 89 df                      movq    %rbx, %rdi
    // d5: 48 89 c3                      movq    %rax, %rbx
    // d8: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xde <__JIT_ENTRY+0xde>
    // 00000000000000da:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // de: 48 89 d8                      movq    %rbx, %rax
    // e1: 48 85 c0                      testq   %rax, %rax
    // e4: 0f 85 76 ff ff ff             jne     0x60 <__JIT_ENTRY+0x60>
    // ea: 48 83 c4 10                   addq    $0x10, %rsp
    // ee: 5d                            popq    %rbp
    // ef: e9 00 00 00 00                jmp     0xf4 <__JIT_ENTRY+0xf4>
    // 00000000000000f0:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[244] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x44, 0x8b, 0x3d, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8b, 0x5d, 0xf8, 0x49, 0x8b, 0x04, 0x24, 0x48,
        0x8b, 0x40, 0x20, 0x44, 0x89, 0xf9, 0x81, 0xe1,
        0xfe, 0xff, 0x00, 0x00, 0x48, 0x8b, 0x74, 0x88,
        0x18, 0x41, 0x83, 0xe7, 0x01, 0x75, 0x37, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78,
        0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x7b, 0x48,
        0x85, 0xc0, 0x0f, 0x84, 0x8a, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x45, 0xf8, 0xeb, 0x5a, 0x48, 0xc7,
        0x45, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x8d, 0x55, 0xf8, 0x48,
        0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x85, 0xc0,
        0x74, 0x06, 0x48, 0x8b, 0x45, 0xf8, 0xeb, 0x20,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x0f, 0xff, 0xc8,
        0x89, 0x03, 0x75, 0x09, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x45,
        0xf8, 0x48, 0x85, 0xc0, 0x74, 0x34, 0x31, 0xdb,
        0x49, 0x89, 0x45, 0xf8, 0x49, 0x89, 0x5d, 0x00,
        0x44, 0x89, 0xf8, 0x4d, 0x8d, 0x6c, 0xc5, 0x00,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xd8, 0x48, 0x85, 0xc0, 0x0f, 0x85, 0x76, 0xff,
        0xff, 0xff, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyObject_GetMethod+0x0
    // 10: &PyObject_GetAttr+0x0
    // 18: OPARG
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyObject_GetMethod);
    patch_64(data + 0x10, (uintptr_t)&PyObject_GetAttr);
    patch_64(data + 0x18, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x39, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x7c, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xa9, (uintptr_t)data + -0x4);
    patch_32r(code + 0xce, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xda, (uintptr_t)data + -0x4);
    patch_32r(code + 0xf0, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_ATTR_CLASS_0(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_CLASS_0.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // b: 8b 03                         movl    (%rbx), %eax
    // d: 85 c0                         testl   %eax, %eax
    // f: 78 04                         js      0x15 <__JIT_ENTRY+0x15>
    // 11: ff c0                         incl    %eax
    // 13: 89 03                         movl    %eax, (%rbx)
    // 15: 8b 07                         movl    (%rdi), %eax
    // 17: 85 c0                         testl   %eax, %eax
    // 19: 78 06                         js      0x21 <__JIT_ENTRY+0x21>
    // 1b: ff c8                         decl    %eax
    // 1d: 89 07                         movl    %eax, (%rdi)
    // 1f: 74 09                         je      0x2a <__JIT_ENTRY+0x2a>
    // 21: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 25: e9 00 00 00 00                jmp     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2a: 55                            pushq   %rbp
    // 2b: 48 89 e5                      movq    %rsp, %rbp
    // 2e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 34: 5d                            popq    %rbp
    // 35: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 39: e9 00 00 00 00                jmp     0x3e <__JIT_ENTRY+0x3e>
    // 000000000000003a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[57] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x1d, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x04, 0xff, 0xc0, 0x89, 0x03, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74,
        0x09, 0x49, 0x89, 0x5d, 0xf8, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0x49, 0x89, 0x5d,
        0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x26, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x30, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_CLASS_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_CLASS_1.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // b: 8b 03                         movl    (%rbx), %eax
    // d: 85 c0                         testl   %eax, %eax
    // f: 78 04                         js      0x15 <__JIT_ENTRY+0x15>
    // 11: ff c0                         incl    %eax
    // 13: 89 03                         movl    %eax, (%rbx)
    // 15: 8b 07                         movl    (%rdi), %eax
    // 17: 85 c0                         testl   %eax, %eax
    // 19: 78 06                         js      0x21 <__JIT_ENTRY+0x21>
    // 1b: ff c8                         decl    %eax
    // 1d: 89 07                         movl    %eax, (%rdi)
    // 1f: 74 15                         je      0x36 <__JIT_ENTRY+0x36>
    // 21: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 25: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 2d: 49 83 c5 08                   addq    $0x8, %r13
    // 31: e9 00 00 00 00                jmp     0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 36: 55                            pushq   %rbp
    // 37: 48 89 e5                      movq    %rsp, %rbp
    // 3a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x40 <__JIT_ENTRY+0x40>
    // 000000000000003c:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 40: 5d                            popq    %rbp
    // 41: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 45: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 4d: 49 83 c5 08                   addq    $0x8, %r13
    // 51: e9 00 00 00 00                jmp     0x56 <__JIT_ENTRY+0x56>
    // 0000000000000052:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[81] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x1d, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x04, 0xff, 0xc0, 0x89, 0x03, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74,
        0x15, 0x49, 0x89, 0x5d, 0xf8, 0x49, 0xc7, 0x45,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc5,
        0x08, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48,
        0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x5d, 0x49, 0x89, 0x5d, 0xf8, 0x49, 0xc7, 0x45,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc5,
        0x08,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x32, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3c, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_INSTANCE_VALUE_0(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_INSTANCE_VALUE_0.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // b: 48 8b 1c 07                   movq    (%rdi,%rax), %rbx
    // f: 48 85 db                      testq   %rbx, %rbx
    // 12: 0f 84 00 00 00 00             je      0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 18: 8b 03                         movl    (%rbx), %eax
    // 1a: 85 c0                         testl   %eax, %eax
    // 1c: 78 04                         js      0x22 <__JIT_ENTRY+0x22>
    // 1e: ff c0                         incl    %eax
    // 20: 89 03                         movl    %eax, (%rbx)
    // 22: 8b 07                         movl    (%rdi), %eax
    // 24: 85 c0                         testl   %eax, %eax
    // 26: 78 06                         js      0x2e <__JIT_ENTRY+0x2e>
    // 28: ff c8                         decl    %eax
    // 2a: 89 07                         movl    %eax, (%rdi)
    // 2c: 74 09                         je      0x37 <__JIT_ENTRY+0x37>
    // 2e: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 32: e9 00 00 00 00                jmp     0x37 <__JIT_ENTRY+0x37>
    // 0000000000000033:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 37: 55                            pushq   %rbp
    // 38: 48 89 e5                      movq    %rsp, %rbp
    // 3b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 41: 5d                            popq    %rbp
    // 42: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 46: e9 00 00 00 00                jmp     0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[70] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x1c, 0x07, 0x48,
        0x85, 0xdb, 0x0f, 0x84, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0,
        0x89, 0x03, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06,
        0xff, 0xc8, 0x89, 0x07, 0x74, 0x09, 0x49, 0x89,
        0x5d, 0xf8, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0x49, 0x89, 0x5d, 0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x14, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x33, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3d, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_INSTANCE_VALUE_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_INSTANCE_VALUE_1.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // b: 48 8b 1c 07                   movq    (%rdi,%rax), %rbx
    // f: 48 85 db                      testq   %rbx, %rbx
    // 12: 0f 84 00 00 00 00             je      0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 18: 8b 03                         movl    (%rbx), %eax
    // 1a: 85 c0                         testl   %eax, %eax
    // 1c: 78 04                         js      0x22 <__JIT_ENTRY+0x22>
    // 1e: ff c0                         incl    %eax
    // 20: 89 03                         movl    %eax, (%rbx)
    // 22: 8b 07                         movl    (%rdi), %eax
    // 24: 85 c0                         testl   %eax, %eax
    // 26: 78 06                         js      0x2e <__JIT_ENTRY+0x2e>
    // 28: ff c8                         decl    %eax
    // 2a: 89 07                         movl    %eax, (%rdi)
    // 2c: 74 15                         je      0x43 <__JIT_ENTRY+0x43>
    // 2e: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 32: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 3a: 49 83 c5 08                   addq    $0x8, %r13
    // 3e: e9 00 00 00 00                jmp     0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 43: 55                            pushq   %rbp
    // 44: 48 89 e5                      movq    %rsp, %rbp
    // 47: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4d <__JIT_ENTRY+0x4d>
    // 0000000000000049:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4d: 5d                            popq    %rbp
    // 4e: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 52: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 5a: 49 83 c5 08                   addq    $0x8, %r13
    // 5e: e9 00 00 00 00                jmp     0x63 <__JIT_ENTRY+0x63>
    // 000000000000005f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[94] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x1c, 0x07, 0x48,
        0x85, 0xdb, 0x0f, 0x84, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0,
        0x89, 0x03, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06,
        0xff, 0xc8, 0x89, 0x07, 0x74, 0x15, 0x49, 0x89,
        0x5d, 0xf8, 0x49, 0xc7, 0x45, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0xc5, 0x08, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0x49, 0x89,
        0x5d, 0xf8, 0x49, 0xc7, 0x45, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0xc5, 0x08,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x14, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x3f, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x49, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_METHOD_LAZY_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_METHOD_LAZY_DICT.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // f: 8b 11                         movl    (%rcx), %edx
    // 11: 85 d2                         testl   %edx, %edx
    // 13: 78 04                         js      0x19 <__JIT_ENTRY+0x19>
    // 15: ff c2                         incl    %edx
    // 17: 89 11                         movl    %edx, (%rcx)
    // 19: 49 89 4d f8                   movq    %rcx, -0x8(%r13)
    // 1d: 49 89 45 00                   movq    %rax, (%r13)
    // 21: 49 83 c5 08                   addq    $0x8, %r13
    // 25: 5d                            popq    %rbp
    // 26: e9 00 00 00 00                jmp     0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[38] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x11, 0x85, 0xd2, 0x78, 0x04, 0xff, 0xc2, 0x89,
        0x11, 0x49, 0x89, 0x4d, 0xf8, 0x49, 0x89, 0x45,
        0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_METHOD_NO_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_METHOD_NO_DICT.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // f: 8b 11                         movl    (%rcx), %edx
    // 11: 85 d2                         testl   %edx, %edx
    // 13: 78 04                         js      0x19 <__JIT_ENTRY+0x19>
    // 15: ff c2                         incl    %edx
    // 17: 89 11                         movl    %edx, (%rcx)
    // 19: 49 89 4d f8                   movq    %rcx, -0x8(%r13)
    // 1d: 49 89 45 00                   movq    %rax, (%r13)
    // 21: 49 83 c5 08                   addq    $0x8, %r13
    // 25: 5d                            popq    %rbp
    // 26: e9 00 00 00 00                jmp     0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[38] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x11, 0x85, 0xd2, 0x78, 0x04, 0xff, 0xc2, 0x89,
        0x11, 0x49, 0x89, 0x4d, 0xf8, 0x49, 0x89, 0x45,
        0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_METHOD_WITH_VALUES(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_METHOD_WITH_VALUES.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // f: 8b 11                         movl    (%rcx), %edx
    // 11: 85 d2                         testl   %edx, %edx
    // 13: 78 04                         js      0x19 <__JIT_ENTRY+0x19>
    // 15: ff c2                         incl    %edx
    // 17: 89 11                         movl    %edx, (%rcx)
    // 19: 49 89 4d f8                   movq    %rcx, -0x8(%r13)
    // 1d: 49 89 45 00                   movq    %rax, (%r13)
    // 21: 49 83 c5 08                   addq    $0x8, %r13
    // 25: 5d                            popq    %rbp
    // 26: e9 00 00 00 00                jmp     0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[38] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x8b,
        0x11, 0x85, 0xd2, 0x78, 0x04, 0xff, 0xc2, 0x89,
        0x11, 0x49, 0x89, 0x4d, 0xf8, 0x49, 0x89, 0x45,
        0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_MODULE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_MODULE.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 47 10                   movq    0x10(%rdi), %rax
    // 8: 48 8b 40 20                   movq    0x20(%rax), %rax
    // c: 0f b6 48 09                   movzbl  0x9(%rax), %ecx
    // 10: ba 01 00 00 00                movl    $0x1, %edx
    // 15: 48 d3 e2                      shlq    %cl, %rdx
    // 18: 48 01 c2                      addq    %rax, %rdx
    // 1b: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x22 <__JIT_ENTRY+0x22>
    // 000000000000001e:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 22: c1 e0 04                      shll    $0x4, %eax
    // 25: 48 8b 5c 10 28                movq    0x28(%rax,%rdx), %rbx
    // 2a: 48 85 db                      testq   %rbx, %rbx
    // 2d: 0f 84 00 00 00 00             je      0x33 <__JIT_ENTRY+0x33>
    // 000000000000002f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 33: 8b 03                         movl    (%rbx), %eax
    // 35: 85 c0                         testl   %eax, %eax
    // 37: 78 04                         js      0x3d <__JIT_ENTRY+0x3d>
    // 39: ff c0                         incl    %eax
    // 3b: 89 03                         movl    %eax, (%rbx)
    // 3d: 55                            pushq   %rbp
    // 3e: 48 89 e5                      movq    %rsp, %rbp
    // 41: 8b 07                         movl    (%rdi), %eax
    // 43: 85 c0                         testl   %eax, %eax
    // 45: 78 0c                         js      0x53 <__JIT_ENTRY+0x53>
    // 47: ff c8                         decl    %eax
    // 49: 89 07                         movl    %eax, (%rdi)
    // 4b: 75 06                         jne     0x53 <__JIT_ENTRY+0x53>
    // 4d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x53 <__JIT_ENTRY+0x53>
    // 000000000000004f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 53: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 57: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x5e <__JIT_ENTRY+0x5e>
    // 000000000000005a:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 5e: 66 83 e0 01                   andw    $0x1, %ax
    // 62: 5d                            popq    %rbp
    // 63: 74 08                         je      0x6d <__JIT_ENTRY+0x6d>
    // 65: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 6d: 0f b7 c0                      movzwl  %ax, %eax
    // 70: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // 75: e9 00 00 00 00                jmp     0x7a <__JIT_ENTRY+0x7a>
    // 0000000000000076:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[117] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x47, 0x10,
        0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb6, 0x48, 0x09,
        0xba, 0x01, 0x00, 0x00, 0x00, 0x48, 0xd3, 0xe2,
        0x48, 0x01, 0xc2, 0x0f, 0xb7, 0x05, 0x00, 0x00,
        0x00, 0x00, 0xc1, 0xe0, 0x04, 0x48, 0x8b, 0x5c,
        0x10, 0x28, 0x48, 0x85, 0xdb, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x04, 0xff, 0xc0, 0x89, 0x03, 0x55, 0x48, 0x89,
        0xe5, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x0c, 0xff,
        0xc8, 0x89, 0x07, 0x75, 0x06, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x5d, 0xf8, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x66, 0x83,
        0xe0, 0x01, 0x5d, 0x74, 0x08, 0x49, 0xc7, 0x45,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xb7, 0xc0,
        0x4d, 0x8d, 0x6c, 0xc5, 0x00,
    };
    // 0: OPARG
    // 8: &_Py_Dealloc+0x0
    // 10: OPERAND0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1e, (uintptr_t)data + 0xc);
    patch_32r(code + 0x2f, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x4f, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x5a, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_MODULE_FROM_KEYS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_MODULE_FROM_KEYS.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4c 89 eb                      movq    %r13, %rbx
    // 3: 49 83 c5 f8                   addq    $-0x8, %r13
    // 7: 48 8b 43 f8                   movq    -0x8(%rbx), %rax
    // b: 0f b6 48 09                   movzbl  0x9(%rax), %ecx
    // f: ba 01 00 00 00                movl    $0x1, %edx
    // 14: 48 d3 e2                      shlq    %cl, %rdx
    // 17: 48 01 c2                      addq    %rax, %rdx
    // 1a: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 21: c1 e0 04                      shll    $0x4, %eax
    // 24: 4c 8b 7c 10 28                movq    0x28(%rax,%rdx), %r15
    // 29: 4d 85 ff                      testq   %r15, %r15
    // 2c: 0f 84 00 00 00 00             je      0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 32: 48 8b 7b f0                   movq    -0x10(%rbx), %rdi
    // 36: 41 8b 07                      movl    (%r15), %eax
    // 39: 85 c0                         testl   %eax, %eax
    // 3b: 78 05                         js      0x42 <__JIT_ENTRY+0x42>
    // 3d: ff c0                         incl    %eax
    // 3f: 41 89 07                      movl    %eax, (%r15)
    // 42: 55                            pushq   %rbp
    // 43: 48 89 e5                      movq    %rsp, %rbp
    // 46: 8b 07                         movl    (%rdi), %eax
    // 48: 85 c0                         testl   %eax, %eax
    // 4a: 78 0c                         js      0x58 <__JIT_ENTRY+0x58>
    // 4c: ff c8                         decl    %eax
    // 4e: 89 07                         movl    %eax, (%rdi)
    // 50: 75 06                         jne     0x58 <__JIT_ENTRY+0x58>
    // 52: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x58 <__JIT_ENTRY+0x58>
    // 0000000000000054:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 58: 4c 89 7b f0                   movq    %r15, -0x10(%rbx)
    // 5c: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x63 <__JIT_ENTRY+0x63>
    // 000000000000005f:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 63: 66 83 e0 01                   andw    $0x1, %ax
    // 67: 5d                            popq    %rbp
    // 68: 74 08                         je      0x72 <__JIT_ENTRY+0x72>
    // 6a: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 72: 0f b7 c0                      movzwl  %ax, %eax
    // 75: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // 7a: e9 00 00 00 00                jmp     0x7f <__JIT_ENTRY+0x7f>
    // 000000000000007b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[122] = {
        0x4c, 0x89, 0xeb, 0x49, 0x83, 0xc5, 0xf8, 0x48,
        0x8b, 0x43, 0xf8, 0x0f, 0xb6, 0x48, 0x09, 0xba,
        0x01, 0x00, 0x00, 0x00, 0x48, 0xd3, 0xe2, 0x48,
        0x01, 0xc2, 0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00,
        0x00, 0xc1, 0xe0, 0x04, 0x4c, 0x8b, 0x7c, 0x10,
        0x28, 0x4d, 0x85, 0xff, 0x0f, 0x84, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x7b, 0xf0, 0x41, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x05, 0xff, 0xc0, 0x41,
        0x89, 0x07, 0x55, 0x48, 0x89, 0xe5, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x0c, 0xff, 0xc8, 0x89, 0x07,
        0x75, 0x06, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x89, 0x7b, 0xf0, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x66, 0x83, 0xe0, 0x01, 0x5d,
        0x74, 0x08, 0x49, 0xc7, 0x45, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x0f, 0xb7, 0xc0, 0x4d, 0x8d, 0x6c,
        0xc5, 0x00,
    };
    // 0: OPARG
    // 8: &_Py_Dealloc+0x0
    // 10: OPERAND0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + 0xc);
    patch_32r(code + 0x2e, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x54, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x5f, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_NONDESCRIPTOR_NO_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_NONDESCRIPTOR_NO_DICT.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 8: 8b 07                         movl    (%rdi), %eax
    // a: 85 c0                         testl   %eax, %eax
    // c: 78 0c                         js      0x1a <__JIT_ENTRY+0x1a>
    // e: ff c8                         decl    %eax
    // 10: 89 07                         movl    %eax, (%rdi)
    // 12: 75 06                         jne     0x1a <__JIT_ENTRY+0x1a>
    // 14: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1a <__JIT_ENTRY+0x1a>
    // 0000000000000016:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 1a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 21: 8b 08                         movl    (%rax), %ecx
    // 23: 85 c9                         testl   %ecx, %ecx
    // 25: 78 04                         js      0x2b <__JIT_ENTRY+0x2b>
    // 27: ff c1                         incl    %ecx
    // 29: 89 08                         movl    %ecx, (%rax)
    // 2b: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 2f: 5d                            popq    %rbp
    // 30: e9 00 00 00 00                jmp     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[48] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf8,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x0c, 0xff, 0xc8,
        0x89, 0x07, 0x75, 0x06, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0xf8, 0x5d,
    };
    // 0: OPERAND0
    // 8: &_Py_Dealloc+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x16, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_NONDESCRIPTOR_WITH_VALUES(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_NONDESCRIPTOR_WITH_VALUES.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 8: 8b 07                         movl    (%rdi), %eax
    // a: 85 c0                         testl   %eax, %eax
    // c: 78 0c                         js      0x1a <__JIT_ENTRY+0x1a>
    // e: ff c8                         decl    %eax
    // 10: 89 07                         movl    %eax, (%rdi)
    // 12: 75 06                         jne     0x1a <__JIT_ENTRY+0x1a>
    // 14: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1a <__JIT_ENTRY+0x1a>
    // 0000000000000016:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 1a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 21: 8b 08                         movl    (%rax), %ecx
    // 23: 85 c9                         testl   %ecx, %ecx
    // 25: 78 04                         js      0x2b <__JIT_ENTRY+0x2b>
    // 27: ff c1                         incl    %ecx
    // 29: 89 08                         movl    %ecx, (%rax)
    // 2b: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 2f: 5d                            popq    %rbp
    // 30: e9 00 00 00 00                jmp     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[48] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf8,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x0c, 0xff, 0xc8,
        0x89, 0x07, 0x75, 0x06, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0xf8, 0x5d,
    };
    // 0: OPERAND0
    // 8: &_Py_Dealloc+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x16, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_PROPERTY_FRAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_PROPERTY_FRAME.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 7: 48 8b 42 30                   movq    0x30(%rdx), %rax
    // b: 8b 48 30                      movl    0x30(%rax), %ecx
    // e: 83 e1 0d                      andl    $0xd, %ecx
    // 11: 83 f9 01                      cmpl    $0x1, %ecx
    // 14: 0f 85 00 00 00 00             jne     0x1a <__JIT_ENTRY+0x1a>
    // 0000000000000016:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1a: 83 78 3c 00                   cmpl    $0x0, 0x3c(%rax)
    // 1e: 0f 85 00 00 00 00             jne     0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 24: 83 78 34 01                   cmpl    $0x1, 0x34(%rax)
    // 28: 0f 85 00 00 00 00             jne     0x2e <__JIT_ENTRY+0x2e>
    // 000000000000002a:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2e: 49 8b 8e f0 00 00 00          movq    0xf0(%r14), %rcx
    // 35: 48 85 c9                      testq   %rcx, %rcx
    // 38: 0f 84 00 00 00 00             je      0x3e <__JIT_ENTRY+0x3e>
    // 000000000000003a:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 3e: 48 63 78 4c                   movslq  0x4c(%rax), %rdi
    // 42: 49 8b b6 f8 00 00 00          movq    0xf8(%r14), %rsi
    // 49: 48 29 ce                      subq    %rcx, %rsi
    // 4c: 48 c1 fe 03                   sarq    $0x3, %rsi
    // 50: 48 39 fe                      cmpq    %rdi, %rsi
    // 53: 0f 8e 00 00 00 00             jle     0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 59: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // 5d: 8b 1a                         movl    (%rdx), %ebx
    // 5f: 85 db                         testl   %ebx, %ebx
    // 61: 78 04                         js      0x67 <__JIT_ENTRY+0x67>
    // 63: ff c3                         incl    %ebx
    // 65: 89 1a                         movl    %ebx, (%rdx)
    // 67: 48 8d 3c f9                   leaq    (%rcx,%rdi,8), %rdi
    // 6b: 49 89 be f0 00 00 00          movq    %rdi, 0xf0(%r14)
    // 72: 4c 89 61 08                   movq    %r12, 0x8(%rcx)
    // 76: 48 89 51 10                   movq    %rdx, 0x10(%rcx)
    // 7a: 8b 38                         movl    (%rax), %edi
    // 7c: 85 ff                         testl   %edi, %edi
    // 7e: 78 04                         js      0x84 <__JIT_ENTRY+0x84>
    // 80: ff c7                         incl    %edi
    // 82: 89 38                         movl    %edi, (%rax)
    // 84: 55                            pushq   %rbp
    // 85: 48 89 e5                      movq    %rsp, %rbp
    // 88: 48 89 01                      movq    %rax, (%rcx)
    // 8b: 0f 10 42 10                   movups  0x10(%rdx), %xmm0
    // 8f: 0f 11 41 18                   movups  %xmm0, 0x18(%rcx)
    // 93: 48 c7 41 28 00 00 00 00       movq    $0x0, 0x28(%rcx)
    // 9b: 48 63 50 48                   movslq  0x48(%rax), %rdx
    // 9f: 48 8d 7c d1 50                leaq    0x50(%rcx,%rdx,8), %rdi
    // a4: 48 89 79 40                   movq    %rdi, 0x40(%rcx)
    // a8: 48 8d b8 d0 00 00 00          leaq    0xd0(%rax), %rdi
    // af: 48 c7 41 30 00 00 00 00       movq    $0x0, 0x30(%rcx)
    // b7: 48 89 79 38                   movq    %rdi, 0x38(%rcx)
    // bb: c7 41 48 00 00 00 00          movl    $0x0, 0x48(%rcx)
    // c2: 48 83 fa 02                   cmpq    $0x2, %rdx
    // c6: 7c 24                         jl      0xec <__JIT_ENTRY+0xec>
    // c8: ba 0b 00 00 00                movl    $0xb, %edx
    // cd: 0f 1f 00                      nopl    (%rax)
    // d0: 48 c7 04 d1 00 00 00 00       movq    $0x0, (%rcx,%rdx,8)
    // d8: 48 63 78 48                   movslq  0x48(%rax), %rdi
    // dc: 4c 8d 42 01                   leaq    0x1(%rdx), %r8
    // e0: 48 83 c2 f7                   addq    $-0x9, %rdx
    // e4: 48 39 fa                      cmpq    %rdi, %rdx
    // e7: 4c 89 c2                      movq    %r8, %rdx
    // ea: 7c e4                         jl      0xd0 <__JIT_ENTRY+0xd0>
    // ec: 48 89 71 50                   movq    %rsi, 0x50(%rcx)
    // f0: 49 89 4d f8                   movq    %rcx, -0x8(%r13)
    // f4: 5d                            popq    %rbp
    // f5: e9 00 00 00 00                jmp     0xfa <__JIT_ENTRY+0xfa>
    // 00000000000000f6:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[245] = {
        0x48, 0x8b, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x42, 0x30, 0x8b, 0x48, 0x30, 0x83, 0xe1,
        0x0d, 0x83, 0xf9, 0x01, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x83, 0x78, 0x3c, 0x00, 0x0f, 0x85,
        0x00, 0x00, 0x00, 0x00, 0x83, 0x78, 0x34, 0x01,
        0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b,
        0x8e, 0xf0, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc9,
        0x0f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x48, 0x63,
        0x78, 0x4c, 0x49, 0x8b, 0xb6, 0xf8, 0x00, 0x00,
        0x00, 0x48, 0x29, 0xce, 0x48, 0xc1, 0xfe, 0x03,
        0x48, 0x39, 0xfe, 0x0f, 0x8e, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x8b, 0x75, 0xf8, 0x8b, 0x1a, 0x85,
        0xdb, 0x78, 0x04, 0xff, 0xc3, 0x89, 0x1a, 0x48,
        0x8d, 0x3c, 0xf9, 0x49, 0x89, 0xbe, 0xf0, 0x00,
        0x00, 0x00, 0x4c, 0x89, 0x61, 0x08, 0x48, 0x89,
        0x51, 0x10, 0x8b, 0x38, 0x85, 0xff, 0x78, 0x04,
        0xff, 0xc7, 0x89, 0x38, 0x55, 0x48, 0x89, 0xe5,
        0x48, 0x89, 0x01, 0x0f, 0x10, 0x42, 0x10, 0x0f,
        0x11, 0x41, 0x18, 0x48, 0xc7, 0x41, 0x28, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x63, 0x50, 0x48, 0x48,
        0x8d, 0x7c, 0xd1, 0x50, 0x48, 0x89, 0x79, 0x40,
        0x48, 0x8d, 0xb8, 0xd0, 0x00, 0x00, 0x00, 0x48,
        0xc7, 0x41, 0x30, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0x79, 0x38, 0xc7, 0x41, 0x48, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x83, 0xfa, 0x02, 0x7c, 0x24,
        0xba, 0x0b, 0x00, 0x00, 0x00, 0x0f, 0x1f, 0x00,
        0x48, 0xc7, 0x04, 0xd1, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x63, 0x78, 0x48, 0x4c, 0x8d, 0x42, 0x01,
        0x48, 0x83, 0xc2, 0xf7, 0x48, 0x39, 0xfa, 0x4c,
        0x89, 0xc2, 0x7c, 0xe4, 0x48, 0x89, 0x71, 0x50,
        0x49, 0x89, 0x4d, 0xf8, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + -0x4);
    patch_32r(code + 0x16, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x20, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x2a, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x3a, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x55, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__LOAD_ATTR_SLOT_0(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_SLOT_0.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // b: 48 8b 1c 07                   movq    (%rdi,%rax), %rbx
    // f: 48 85 db                      testq   %rbx, %rbx
    // 12: 0f 84 00 00 00 00             je      0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 18: 8b 03                         movl    (%rbx), %eax
    // 1a: 85 c0                         testl   %eax, %eax
    // 1c: 78 04                         js      0x22 <__JIT_ENTRY+0x22>
    // 1e: ff c0                         incl    %eax
    // 20: 89 03                         movl    %eax, (%rbx)
    // 22: 8b 07                         movl    (%rdi), %eax
    // 24: 85 c0                         testl   %eax, %eax
    // 26: 78 06                         js      0x2e <__JIT_ENTRY+0x2e>
    // 28: ff c8                         decl    %eax
    // 2a: 89 07                         movl    %eax, (%rdi)
    // 2c: 74 09                         je      0x37 <__JIT_ENTRY+0x37>
    // 2e: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 32: e9 00 00 00 00                jmp     0x37 <__JIT_ENTRY+0x37>
    // 0000000000000033:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 37: 55                            pushq   %rbp
    // 38: 48 89 e5                      movq    %rsp, %rbp
    // 3b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 41: 5d                            popq    %rbp
    // 42: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 46: e9 00 00 00 00                jmp     0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[70] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x1c, 0x07, 0x48,
        0x85, 0xdb, 0x0f, 0x84, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0,
        0x89, 0x03, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06,
        0xff, 0xc8, 0x89, 0x07, 0x74, 0x09, 0x49, 0x89,
        0x5d, 0xf8, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0x49, 0x89, 0x5d, 0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x14, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x33, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3d, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_SLOT_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_SLOT_1.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // b: 48 8b 1c 07                   movq    (%rdi,%rax), %rbx
    // f: 48 85 db                      testq   %rbx, %rbx
    // 12: 0f 84 00 00 00 00             je      0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 18: 8b 03                         movl    (%rbx), %eax
    // 1a: 85 c0                         testl   %eax, %eax
    // 1c: 78 04                         js      0x22 <__JIT_ENTRY+0x22>
    // 1e: ff c0                         incl    %eax
    // 20: 89 03                         movl    %eax, (%rbx)
    // 22: 8b 07                         movl    (%rdi), %eax
    // 24: 85 c0                         testl   %eax, %eax
    // 26: 78 06                         js      0x2e <__JIT_ENTRY+0x2e>
    // 28: ff c8                         decl    %eax
    // 2a: 89 07                         movl    %eax, (%rdi)
    // 2c: 74 15                         je      0x43 <__JIT_ENTRY+0x43>
    // 2e: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 32: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 3a: 49 83 c5 08                   addq    $0x8, %r13
    // 3e: e9 00 00 00 00                jmp     0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 43: 55                            pushq   %rbp
    // 44: 48 89 e5                      movq    %rsp, %rbp
    // 47: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4d <__JIT_ENTRY+0x4d>
    // 0000000000000049:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4d: 5d                            popq    %rbp
    // 4e: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 52: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 5a: 49 83 c5 08                   addq    $0x8, %r13
    // 5e: e9 00 00 00 00                jmp     0x63 <__JIT_ENTRY+0x63>
    // 000000000000005f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[94] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x1c, 0x07, 0x48,
        0x85, 0xdb, 0x0f, 0x84, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x04, 0xff, 0xc0,
        0x89, 0x03, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06,
        0xff, 0xc8, 0x89, 0x07, 0x74, 0x15, 0x49, 0x89,
        0x5d, 0xf8, 0x49, 0xc7, 0x45, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0xc5, 0x08, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0x49, 0x89,
        0x5d, 0xf8, 0x49, 0xc7, 0x45, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0xc5, 0x08,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x14, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x3f, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x49, (uintptr_t)data + -0x4);
}

void
emit__LOAD_ATTR_WITH_HINT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_ATTR_WITH_HINT.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 4f e8                   movq    -0x18(%rdi), %rcx
    // 8: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // f: 48 8b 51 20                   movq    0x20(%rcx), %rdx
    // 13: 48 39 42 18                   cmpq    %rax, 0x18(%rdx)
    // 17: 0f 86 00 00 00 00             jbe     0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1d: 80 7a 0a 00                   cmpb    $0x0, 0xa(%rdx)
    // 21: 0f 84 00 00 00 00             je      0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 27: 0f b7 1d 00 00 00 00          movzwl  (%rip), %ebx            ## 0x2e <__JIT_ENTRY+0x2e>
    // 000000000000002a:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 2e: 49 8b 0c 24                   movq    (%r12), %rcx
    // 32: 4c 8b 41 20                   movq    0x20(%rcx), %r8
    // 36: 41 89 d9                      movl    %ebx, %r9d
    // 39: 41 83 e1 fe                   andl    $-0x2, %r9d
    // 3d: 0f b6 4a 09                   movzbl  0x9(%rdx), %ecx
    // 41: be 01 00 00 00                movl    $0x1, %esi
    // 46: 48 d3 e6                      shlq    %cl, %rsi
    // 49: 48 01 d6                      addq    %rdx, %rsi
    // 4c: c1 e0 04                      shll    $0x4, %eax
    // 4f: 48 8b 4c 30 20                movq    0x20(%rax,%rsi), %rcx
    // 54: 4b 3b 4c 88 18                cmpq    0x18(%r8,%r9,4), %rcx
    // 59: 0f 85 00 00 00 00             jne     0x5f <__JIT_ENTRY+0x5f>
    // 000000000000005b:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 5f: 48 01 f0                      addq    %rsi, %rax
    // 62: 48 83 c0 20                   addq    $0x20, %rax
    // 66: 4c 8b 78 08                   movq    0x8(%rax), %r15
    // 6a: 4d 85 ff                      testq   %r15, %r15
    // 6d: 0f 84 00 00 00 00             je      0x73 <__JIT_ENTRY+0x73>
    // 000000000000006f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 73: 41 8b 07                      movl    (%r15), %eax
    // 76: 85 c0                         testl   %eax, %eax
    // 78: 78 05                         js      0x7f <__JIT_ENTRY+0x7f>
    // 7a: ff c0                         incl    %eax
    // 7c: 41 89 07                      movl    %eax, (%r15)
    // 7f: 8b 07                         movl    (%rdi), %eax
    // 81: 85 c0                         testl   %eax, %eax
    // 83: 78 06                         js      0x8b <__JIT_ENTRY+0x8b>
    // 85: ff c8                         decl    %eax
    // 87: 89 07                         movl    %eax, (%rdi)
    // 89: 74 1d                         je      0xa8 <__JIT_ENTRY+0xa8>
    // 8b: 4d 89 7d f8                   movq    %r15, -0x8(%r13)
    // 8f: 83 e3 01                      andl    $0x1, %ebx
    // 92: 74 08                         je      0x9c <__JIT_ENTRY+0x9c>
    // 94: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // 9c: 89 d8                         movl    %ebx, %eax
    // 9e: 4d 8d 6c c5 00                leaq    (%r13,%rax,8), %r13
    // a3: e9 00 00 00 00                jmp     0xa8 <__JIT_ENTRY+0xa8>
    // 00000000000000a4:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // a8: 55                            pushq   %rbp
    // a9: 48 89 e5                      movq    %rsp, %rbp
    // ac: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb2 <__JIT_ENTRY+0xb2>
    // 00000000000000ae:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b2: 5d                            popq    %rbp
    // b3: 4d 89 7d f8                   movq    %r15, -0x8(%r13)
    // b7: 83 e3 01                      andl    $0x1, %ebx
    // ba: 75 d8                         jne     0x94 <__JIT_ENTRY+0x94>
    // bc: eb de                         jmp     0x9c <__JIT_ENTRY+0x9c>
    const unsigned char code_body[190] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x4f, 0xe8,
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x51, 0x20, 0x48, 0x39, 0x42, 0x18, 0x0f,
        0x86, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7a, 0x0a,
        0x00, 0x0f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0xb7, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b,
        0x0c, 0x24, 0x4c, 0x8b, 0x41, 0x20, 0x41, 0x89,
        0xd9, 0x41, 0x83, 0xe1, 0xfe, 0x0f, 0xb6, 0x4a,
        0x09, 0xbe, 0x01, 0x00, 0x00, 0x00, 0x48, 0xd3,
        0xe6, 0x48, 0x01, 0xd6, 0xc1, 0xe0, 0x04, 0x48,
        0x8b, 0x4c, 0x30, 0x20, 0x4b, 0x3b, 0x4c, 0x88,
        0x18, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x01, 0xf0, 0x48, 0x83, 0xc0, 0x20, 0x4c, 0x8b,
        0x78, 0x08, 0x4d, 0x85, 0xff, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0,
        0x78, 0x05, 0xff, 0xc0, 0x41, 0x89, 0x07, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x07, 0x74, 0x1d, 0x4d, 0x89, 0x7d, 0xf8, 0x83,
        0xe3, 0x01, 0x74, 0x08, 0x49, 0xc7, 0x45, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x89, 0xd8, 0x4d, 0x8d,
        0x6c, 0xc5, 0x00, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x55, 0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0x4d, 0x89, 0x7d, 0xf8, 0x83,
        0xe3, 0x01, 0x75, 0xd8, 0xeb, 0xde,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    // 10: OPERAND0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    patch_64(data + 0x10, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_32r(code + 0x19, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x23, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x2a, (uintptr_t)data + 0x4);
    patch_32r(code + 0x5b, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x6f, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0xa4, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xae, (uintptr_t)data + -0x4);
}

void
emit__LOAD_BUILD_CLASS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_BUILD_CLASS.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 49 8b 7c 24 20                movq    0x20(%r12), %rdi
    // 12: be 68 8f 00 00                movl    $0x8f68, %esi           ## imm = 0x8F68
    // 17: 48 03 35 00 00 00 00          addq    (%rip), %rsi            ## 0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 1e: 48 8d 55 f8                   leaq    -0x8(%rbp), %rdx
    // 22: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x28 <__JIT_ENTRY+0x28>
    // 0000000000000024:  X86_64_RELOC_GOT     _PyMapping_GetOptionalItem@GOTPCREL
    // 28: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2d: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 36: 85 c0                         testl   %eax, %eax
    // 38: 78 48                         js      0x82 <__JIT_ENTRY+0x82>
    // 3a: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 3e: 48 85 c0                      testq   %rax, %rax
    // 41: 74 12                         je      0x55 <__JIT_ENTRY+0x55>
    // 43: 49 89 45 00                   movq    %rax, (%r13)
    // 47: 49 83 c5 08                   addq    $0x8, %r13
    // 4b: 48 83 c4 10                   addq    $0x10, %rsp
    // 4f: 5d                            popq    %rbp
    // 50: e9 00 00 00 00                jmp     0x55 <__JIT_ENTRY+0x55>
    // 0000000000000051:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 55: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 5a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x61 <__JIT_ENTRY+0x61>
    // 000000000000005d:  X86_64_RELOC_GOT_LOAD        _PyExc_NameError@GOTPCREL
    // 61: 48 8b 30                      movq    (%rax), %rsi
    // 64: 48 8d 15 21 00 00 00          leaq    0x21(%rip), %rdx        ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000067:  X86_64_RELOC_SIGNED  __cstring
    // 6b: 4c 89 f7                      movq    %r14, %rdi
    // 6e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x74 <__JIT_ENTRY+0x74>
    // 0000000000000070:  X86_64_RELOC_GOT     __PyErr_SetString@GOTPCREL
    // 74: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 79: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 82: 48 83 c4 10                   addq    $0x10, %rsp
    // 86: 5d                            popq    %rbp
    // 87: e9 00 00 00 00                jmp     0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[140] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49, 0x8b, 0x7c,
        0x24, 0x20, 0xbe, 0x68, 0x8f, 0x00, 0x00, 0x48,
        0x03, 0x35, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8d,
        0x55, 0xf8, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x85, 0xc0,
        0x78, 0x48, 0x48, 0x8b, 0x45, 0xf8, 0x48, 0x85,
        0xc0, 0x74, 0x12, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x30, 0x48, 0x8d, 0x15, 0x21,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: '__build_class__ not found\x00'
    // 1a: 00 00 00 00 00 00
    // 20: &_PyErr_SetString+0x0
    // 28: &PyExc_NameError+0x0
    // 30: &PyMapping_GetOptionalItem+0x0
    // 38: &_PyRuntime+0x0
    const unsigned char data_body[64] = {
        0x5f, 0x5f, 0x62, 0x75, 0x69, 0x6c, 0x64, 0x5f,
        0x63, 0x6c, 0x61, 0x73, 0x73, 0x5f, 0x5f, 0x20,
        0x6e, 0x6f, 0x74, 0x20, 0x66, 0x6f, 0x75, 0x6e,
        0x64, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x20, (uintptr_t)&_PyErr_SetString);
    patch_64(data + 0x28, (uintptr_t)&PyExc_NameError);
    patch_64(data + 0x30, (uintptr_t)&PyMapping_GetOptionalItem);
    patch_64(data + 0x38, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1a, (uintptr_t)data + 0x34);
    patch_x86_64_32rx(code + 0x24, (uintptr_t)data + 0x2c);
    patch_32r(code + 0x51, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x5d, (uintptr_t)data + 0x24);
    patch_32r(code + 0x67, (uintptr_t)data + 0xa9);
    patch_x86_64_32rx(code + 0x70, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x88, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_COMMON_CONSTANT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_COMMON_CONSTANT.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 66 85 c0                      testw   %ax, %ax
    // e: 75 09                         jne     0x19 <__JIT_ENTRY+0x19>
    // 10: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT_LOAD        _PyExc_AssertionError@GOTPCREL
    // 17: eb 07                         jmp     0x20 <__JIT_ENTRY+0x20>
    // 19: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT_LOAD        _PyExc_NotImplementedError@GOTPCREL
    // 20: 48 8b 00                      movq    (%rax), %rax
    // 23: 49 89 45 00                   movq    %rax, (%r13)
    // 27: 49 83 c5 08                   addq    $0x8, %r13
    // 2b: 5d                            popq    %rbp
    // 2c: e9 00 00 00 00                jmp     0x31 <__JIT_ENTRY+0x31>
    // 000000000000002d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[44] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x66, 0x85, 0xc0, 0x75, 0x09,
        0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0xeb,
        0x07, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x00, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: &PyExc_NotImplementedError+0x0
    // 8: &PyExc_AssertionError+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyExc_NotImplementedError);
    patch_64(data + 0x8, (uintptr_t)&PyExc_AssertionError);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + -0x4);
}

void
emit__LOAD_CONST_IMMORTAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_CONST_IMMORTAL.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 04 24                   movq    (%r12), %rax
    // 8: 48 8b 40 18                   movq    0x18(%rax), %rax
    // c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 13: 48 8b 44 c8 18                movq    0x18(%rax,%rcx,8), %rax
    // 18: 49 89 45 00                   movq    %rax, (%r13)
    // 1c: 49 83 c5 08                   addq    $0x8, %r13
    // 20: 5d                            popq    %rbp
    // 21: e9 00 00 00 00                jmp     0x26 <__JIT_ENTRY+0x26>
    // 0000000000000022:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[33] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x40, 0x18, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x44, 0xc8, 0x18,
        0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
}

void
emit__LOAD_CONST_INLINE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_CONST_INLINE.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // b: 8b 08                         movl    (%rax), %ecx
    // d: 85 c9                         testl   %ecx, %ecx
    // f: 78 04                         js      0x15 <__JIT_ENTRY+0x15>
    // 11: ff c1                         incl    %ecx
    // 13: 89 08                         movl    %ecx, (%rax)
    // 15: 49 89 45 00                   movq    %rax, (%r13)
    // 19: 49 83 c5 08                   addq    $0x8, %r13
    // 1d: 5d                            popq    %rbp
    // 1e: e9 00 00 00 00                jmp     0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[30] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x08, 0x85, 0xc9, 0x78,
        0x04, 0xff, 0xc1, 0x89, 0x08, 0x49, 0x89, 0x45,
        0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__LOAD_CONST_INLINE_BORROW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_CONST_INLINE_BORROW.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // b: 49 89 45 00                   movq    %rax, (%r13)
    // f: 49 83 c5 08                   addq    $0x8, %r13
    // 13: 5d                            popq    %rbp
    // 14: e9 00 00 00 00                jmp     0x19 <__JIT_ENTRY+0x19>
    // 0000000000000015:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[20] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__LOAD_CONST_INLINE_BORROW_WITH_NULL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_CONST_INLINE_BORROW_WITH_NULL.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // b: 49 89 45 00                   movq    %rax, (%r13)
    // f: 49 c7 45 08 00 00 00 00       movq    $0x0, 0x8(%r13)
    // 17: 49 83 c5 10                   addq    $0x10, %r13
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x45, 0x00, 0x49,
        0xc7, 0x45, 0x08, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x83, 0xc5, 0x10, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__LOAD_CONST_INLINE_WITH_NULL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_CONST_INLINE_WITH_NULL.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // b: 8b 08                         movl    (%rax), %ecx
    // d: 85 c9                         testl   %ecx, %ecx
    // f: 78 04                         js      0x15 <__JIT_ENTRY+0x15>
    // 11: ff c1                         incl    %ecx
    // 13: 89 08                         movl    %ecx, (%rax)
    // 15: 49 89 45 00                   movq    %rax, (%r13)
    // 19: 49 c7 45 08 00 00 00 00       movq    $0x0, 0x8(%r13)
    // 21: 49 83 c5 10                   addq    $0x10, %r13
    // 25: 5d                            popq    %rbp
    // 26: e9 00 00 00 00                jmp     0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[38] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x08, 0x85, 0xc9, 0x78,
        0x04, 0xff, 0xc1, 0x89, 0x08, 0x49, 0x89, 0x45,
        0x00, 0x49, 0xc7, 0x45, 0x08, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x83, 0xc5, 0x10, 0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__LOAD_CONST_MORTAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_CONST_MORTAL.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 04 24                   movq    (%r12), %rax
    // 8: 48 8b 40 18                   movq    0x18(%rax), %rax
    // c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 13: 48 8b 44 c8 18                movq    0x18(%rax,%rcx,8), %rax
    // 18: 8b 08                         movl    (%rax), %ecx
    // 1a: 85 c9                         testl   %ecx, %ecx
    // 1c: 78 04                         js      0x22 <__JIT_ENTRY+0x22>
    // 1e: ff c1                         incl    %ecx
    // 20: 89 08                         movl    %ecx, (%rax)
    // 22: 49 89 45 00                   movq    %rax, (%r13)
    // 26: 49 83 c5 08                   addq    $0x8, %r13
    // 2a: 5d                            popq    %rbp
    // 2b: e9 00 00 00 00                jmp     0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[43] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x40, 0x18, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x44, 0xc8, 0x18,
        0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1,
        0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49, 0x83,
        0xc5, 0x08, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
}

void
emit__LOAD_DEREF(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_DEREF.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: 49 8b 44 c4 50                movq    0x50(%r12,%rax,8), %rax
    // c: 48 8b 40 10                   movq    0x10(%rax), %rax
    // 10: 48 85 c0                      testq   %rax, %rax
    // 13: 74 17                         je      0x2c <__JIT_ENTRY+0x2c>
    // 15: 8b 08                         movl    (%rax), %ecx
    // 17: 85 c9                         testl   %ecx, %ecx
    // 19: 78 04                         js      0x1f <__JIT_ENTRY+0x1f>
    // 1b: ff c1                         incl    %ecx
    // 1d: 89 08                         movl    %ecx, (%rax)
    // 1f: 49 89 45 00                   movq    %rax, (%r13)
    // 23: 49 83 c5 08                   addq    $0x8, %r13
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2c: 55                            pushq   %rbp
    // 2d: 48 89 e5                      movq    %rsp, %rbp
    // 30: 0f b7 15 00 00 00 00          movzwl  (%rip), %edx            ## 0x37 <__JIT_ENTRY+0x37>
    // 0000000000000033:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 37: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 3c: 49 8b 34 24                   movq    (%r12), %rsi
    // 40: 4c 89 f7                      movq    %r14, %rdi
    // 43: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x49 <__JIT_ENTRY+0x49>
    // 0000000000000045:  X86_64_RELOC_GOT     __PyEval_FormatExcUnbound@GOTPCREL
    // 49: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 4e: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 57: 5d                            popq    %rbp
    // 58: e9 00 00 00 00                jmp     0x5d <__JIT_ENTRY+0x5d>
    // 0000000000000059:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[93] = {
        0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8b, 0x44, 0xc4, 0x50, 0x48, 0x8b, 0x40, 0x10,
        0x48, 0x85, 0xc0, 0x74, 0x17, 0x8b, 0x08, 0x85,
        0xc9, 0x78, 0x04, 0xff, 0xc1, 0x89, 0x08, 0x49,
        0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0x0f, 0xb7, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x49, 0x8b, 0x34, 0x24,
        0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyEval_FormatExcUnbound+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_FormatExcUnbound);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0x4);
    patch_32r(code + 0x28, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x33, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x45, (uintptr_t)data + -0x4);
    patch_32r(code + 0x59, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_FAST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 44 c4 50                movq    0x50(%r12,%rax,8), %rax
    // 10: 8b 08                         movl    (%rax), %ecx
    // 12: 85 c9                         testl   %ecx, %ecx
    // 14: 78 04                         js      0x1a <__JIT_ENTRY+0x1a>
    // 16: ff c1                         incl    %ecx
    // 18: 89 08                         movl    %ecx, (%rax)
    // 1a: 49 89 45 00                   movq    %rax, (%r13)
    // 1e: 49 83 c5 08                   addq    $0x8, %r13
    // 22: 5d                            popq    %rbp
    // 23: e9 00 00 00 00                jmp     0x28 <__JIT_ENTRY+0x28>
    // 0000000000000024:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[35] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x44, 0xc4, 0x50,
        0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1,
        0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49, 0x83,
        0xc5, 0x08, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__LOAD_FAST_0(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_0.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 50                movq    0x50(%r12), %rax
    // 9: 8b 08                         movl    (%rax), %ecx
    // b: 85 c9                         testl   %ecx, %ecx
    // d: 78 04                         js      0x13 <__JIT_ENTRY+0x13>
    // f: ff c1                         incl    %ecx
    // 11: 89 08                         movl    %ecx, (%rax)
    // 13: 49 89 45 00                   movq    %rax, (%r13)
    // 17: 49 83 c5 08                   addq    $0x8, %r13
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x50, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_1.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 58                movq    0x58(%r12), %rax
    // 9: 8b 08                         movl    (%rax), %ecx
    // b: 85 c9                         testl   %ecx, %ecx
    // d: 78 04                         js      0x13 <__JIT_ENTRY+0x13>
    // f: ff c1                         incl    %ecx
    // 11: 89 08                         movl    %ecx, (%rax)
    // 13: 49 89 45 00                   movq    %rax, (%r13)
    // 17: 49 83 c5 08                   addq    $0x8, %r13
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x58, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_2(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_2.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 60                movq    0x60(%r12), %rax
    // 9: 8b 08                         movl    (%rax), %ecx
    // b: 85 c9                         testl   %ecx, %ecx
    // d: 78 04                         js      0x13 <__JIT_ENTRY+0x13>
    // f: ff c1                         incl    %ecx
    // 11: 89 08                         movl    %ecx, (%rax)
    // 13: 49 89 45 00                   movq    %rax, (%r13)
    // 17: 49 83 c5 08                   addq    $0x8, %r13
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x60, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_3(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_3.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 68                movq    0x68(%r12), %rax
    // 9: 8b 08                         movl    (%rax), %ecx
    // b: 85 c9                         testl   %ecx, %ecx
    // d: 78 04                         js      0x13 <__JIT_ENTRY+0x13>
    // f: ff c1                         incl    %ecx
    // 11: 89 08                         movl    %ecx, (%rax)
    // 13: 49 89 45 00                   movq    %rax, (%r13)
    // 17: 49 83 c5 08                   addq    $0x8, %r13
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x68, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_4(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_4.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 70                movq    0x70(%r12), %rax
    // 9: 8b 08                         movl    (%rax), %ecx
    // b: 85 c9                         testl   %ecx, %ecx
    // d: 78 04                         js      0x13 <__JIT_ENTRY+0x13>
    // f: ff c1                         incl    %ecx
    // 11: 89 08                         movl    %ecx, (%rax)
    // 13: 49 89 45 00                   movq    %rax, (%r13)
    // 17: 49 83 c5 08                   addq    $0x8, %r13
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x70, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_5(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_5.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 78                movq    0x78(%r12), %rax
    // 9: 8b 08                         movl    (%rax), %ecx
    // b: 85 c9                         testl   %ecx, %ecx
    // d: 78 04                         js      0x13 <__JIT_ENTRY+0x13>
    // f: ff c1                         incl    %ecx
    // 11: 89 08                         movl    %ecx, (%rax)
    // 13: 49 89 45 00                   movq    %rax, (%r13)
    // 17: 49 83 c5 08                   addq    $0x8, %r13
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x78, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff,
        0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x49,
        0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_6(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_6.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 84 24 80 00 00 00       movq    0x80(%r12), %rax
    // c: 8b 08                         movl    (%rax), %ecx
    // e: 85 c9                         testl   %ecx, %ecx
    // 10: 78 04                         js      0x16 <__JIT_ENTRY+0x16>
    // 12: ff c1                         incl    %ecx
    // 14: 89 08                         movl    %ecx, (%rax)
    // 16: 49 89 45 00                   movq    %rax, (%r13)
    // 1a: 49 83 c5 08                   addq    $0x8, %r13
    // 1e: 5d                            popq    %rbp
    // 1f: e9 00 00 00 00                jmp     0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[31] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x84, 0x24,
        0x80, 0x00, 0x00, 0x00, 0x8b, 0x08, 0x85, 0xc9,
        0x78, 0x04, 0xff, 0xc1, 0x89, 0x08, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_7(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_7.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 84 24 88 00 00 00       movq    0x88(%r12), %rax
    // c: 8b 08                         movl    (%rax), %ecx
    // e: 85 c9                         testl   %ecx, %ecx
    // 10: 78 04                         js      0x16 <__JIT_ENTRY+0x16>
    // 12: ff c1                         incl    %ecx
    // 14: 89 08                         movl    %ecx, (%rax)
    // 16: 49 89 45 00                   movq    %rax, (%r13)
    // 1a: 49 83 c5 08                   addq    $0x8, %r13
    // 1e: 5d                            popq    %rbp
    // 1f: e9 00 00 00 00                jmp     0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[31] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x84, 0x24,
        0x88, 0x00, 0x00, 0x00, 0x8b, 0x08, 0x85, 0xc9,
        0x78, 0x04, 0xff, 0xc1, 0x89, 0x08, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__LOAD_FAST_AND_CLEAR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_AND_CLEAR.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 4c c4 50                movq    0x50(%r12,%rax,8), %rcx
    // 10: 49 c7 44 c4 50 00 00 00 00    movq    $0x0, 0x50(%r12,%rax,8)
    // 19: 49 89 4d 00                   movq    %rcx, (%r13)
    // 1d: 49 83 c5 08                   addq    $0x8, %r13
    // 21: 5d                            popq    %rbp
    // 22: e9 00 00 00 00                jmp     0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[34] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x4c, 0xc4, 0x50,
        0x49, 0xc7, 0x44, 0xc4, 0x50, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x4d, 0x00, 0x49, 0x83, 0xc5,
        0x08, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__LOAD_FAST_CHECK(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FAST_CHECK.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 7: 0f b7 c1                      movzwl  %cx, %eax
    // a: 49 8b 44 c4 50                movq    0x50(%r12,%rax,8), %rax
    // f: 48 85 c0                      testq   %rax, %rax
    // 12: 74 17                         je      0x2b <__JIT_ENTRY+0x2b>
    // 14: 8b 08                         movl    (%rax), %ecx
    // 16: 85 c9                         testl   %ecx, %ecx
    // 18: 78 04                         js      0x1e <__JIT_ENTRY+0x1e>
    // 1a: ff c1                         incl    %ecx
    // 1c: 89 08                         movl    %ecx, (%rax)
    // 1e: 49 89 45 00                   movq    %rax, (%r13)
    // 22: 49 83 c5 08                   addq    $0x8, %r13
    // 26: e9 00 00 00 00                jmp     0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2b: 55                            pushq   %rbp
    // 2c: 48 89 e5                      movq    %rsp, %rbp
    // 2f: 0f b7 f1                      movzwl  %cx, %esi
    // 32: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 37: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x3e <__JIT_ENTRY+0x3e>
    // 000000000000003a:  X86_64_RELOC_GOT_LOAD        _PyExc_UnboundLocalError@GOTPCREL
    // 3e: 48 8b 18                      movq    (%rax), %rbx
    // 41: 49 8b 04 24                   movq    (%r12), %rax
    // 45: 48 8b 78 60                   movq    0x60(%rax), %rdi
    // 49: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4f <__JIT_ENTRY+0x4f>
    // 000000000000004b:  X86_64_RELOC_GOT     _PyTuple_GetItem@GOTPCREL
    // 4f: 48 8d 15 23 00 00 00          leaq    0x23(%rip), %rdx        ## 0x79 <__JIT_ENTRY+0x79>
    // 0000000000000052:  X86_64_RELOC_SIGNED  __cstring
    // 56: 4c 89 f7                      movq    %r14, %rdi
    // 59: 48 89 de                      movq    %rbx, %rsi
    // 5c: 48 89 c1                      movq    %rax, %rcx
    // 5f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x65 <__JIT_ENTRY+0x65>
    // 0000000000000061:  X86_64_RELOC_GOT     __PyEval_FormatExcCheckArg@GOTPCREL
    // 65: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 6a: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 73: 5d                            popq    %rbp
    // 74: e9 00 00 00 00                jmp     0x79 <__JIT_ENTRY+0x79>
    // 0000000000000075:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[121] = {
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0xb7, 0xc1, 0x49, 0x8b, 0x44, 0xc4, 0x50, 0x48,
        0x85, 0xc0, 0x74, 0x17, 0x8b, 0x08, 0x85, 0xc9,
        0x78, 0x04, 0xff, 0xc1, 0x89, 0x08, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0x0f,
        0xb7, 0xf1, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x18, 0x49, 0x8b, 0x04, 0x24, 0x48, 0x8b, 0x78,
        0x60, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8d, 0x15, 0x23, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xf7, 0x48, 0x89, 0xde, 0x48, 0x89, 0xc1, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: "cannot access local variable '%s' where it is not associated with a value\x00"
    // 4a: 00 00 00 00 00 00
    // 50: &_PyEval_FormatExcCheckArg+0x0
    // 58: &PyTuple_GetItem+0x0
    // 60: &PyExc_UnboundLocalError+0x0
    // 68: OPARG
    const unsigned char data_body[112] = {
        0x63, 0x61, 0x6e, 0x6e, 0x6f, 0x74, 0x20, 0x61,
        0x63, 0x63, 0x65, 0x73, 0x73, 0x20, 0x6c, 0x6f,
        0x63, 0x61, 0x6c, 0x20, 0x76, 0x61, 0x72, 0x69,
        0x61, 0x62, 0x6c, 0x65, 0x20, 0x27, 0x25, 0x73,
        0x27, 0x20, 0x77, 0x68, 0x65, 0x72, 0x65, 0x20,
        0x69, 0x74, 0x20, 0x69, 0x73, 0x20, 0x6e, 0x6f,
        0x74, 0x20, 0x61, 0x73, 0x73, 0x6f, 0x63, 0x69,
        0x61, 0x74, 0x65, 0x64, 0x20, 0x77, 0x69, 0x74,
        0x68, 0x20, 0x61, 0x20, 0x76, 0x61, 0x6c, 0x75,
        0x65, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x50, (uintptr_t)&_PyEval_FormatExcCheckArg);
    patch_64(data + 0x58, (uintptr_t)&PyTuple_GetItem);
    patch_64(data + 0x60, (uintptr_t)&PyExc_UnboundLocalError);
    patch_64(data + 0x68, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0x64);
    patch_32r(code + 0x27, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3a, (uintptr_t)data + 0x5c);
    patch_x86_64_32rx(code + 0x4b, (uintptr_t)data + 0x54);
    patch_32r(code + 0x52, (uintptr_t)data + 0x98);
    patch_x86_64_32rx(code + 0x61, (uintptr_t)data + 0x4c);
    patch_32r(code + 0x75, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_FROM_DICT_OR_DEREF(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_FROM_DICT_OR_DEREF.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // c: 49 8b 04 24                   movq    (%r12), %rax
    // 10: 48 8b 40 60                   movq    0x60(%rax), %rax
    // 14: 4c 8b 3d 00 00 00 00          movq    (%rip), %r15            ## 0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 1b: 41 0f b7 cf                   movzwl  %r15w, %ecx
    // 1f: 48 8b 74 c8 18                movq    0x18(%rax,%rcx,8), %rsi
    // 24: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 29: 48 8d 55 f8                   leaq    -0x8(%rbp), %rdx
    // 2d: 48 89 df                      movq    %rbx, %rdi
    // 30: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT     _PyMapping_GetOptionalItem@GOTPCREL
    // 36: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 3b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 44: 85 c0                         testl   %eax, %eax
    // 46: 0f 88 93 00 00 00             js      0xdf <__JIT_ENTRY+0xdf>
    // 4c: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 50: 48 85 c0                      testq   %rax, %rax
    // 53: 74 14                         je      0x69 <__JIT_ENTRY+0x69>
    // 55: 8b 0b                         movl    (%rbx), %ecx
    // 57: 85 c9                         testl   %ecx, %ecx
    // 59: 79 34                         jns     0x8f <__JIT_ENTRY+0x8f>
    // 5b: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 5f: 48 83 c4 10                   addq    $0x10, %rsp
    // 63: 5d                            popq    %rbp
    // 64: e9 00 00 00 00                jmp     0x69 <__JIT_ENTRY+0x69>
    // 0000000000000065:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 69: 41 0f b7 c7                   movzwl  %r15w, %eax
    // 6d: 49 8b 44 c4 50                movq    0x50(%r12,%rax,8), %rax
    // 72: 48 8b 40 10                   movq    0x10(%rax), %rax
    // 76: 48 85 c0                      testq   %rax, %rax
    // 79: 74 35                         je      0xb0 <__JIT_ENTRY+0xb0>
    // 7b: 8b 08                         movl    (%rax), %ecx
    // 7d: 85 c9                         testl   %ecx, %ecx
    // 7f: 78 04                         js      0x85 <__JIT_ENTRY+0x85>
    // 81: ff c1                         incl    %ecx
    // 83: 89 08                         movl    %ecx, (%rax)
    // 85: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // 89: 8b 0b                         movl    (%rbx), %ecx
    // 8b: 85 c9                         testl   %ecx, %ecx
    // 8d: 78 cc                         js      0x5b <__JIT_ENTRY+0x5b>
    // 8f: ff c9                         decl    %ecx
    // 91: 89 0b                         movl    %ecx, (%rbx)
    // 93: 75 c6                         jne     0x5b <__JIT_ENTRY+0x5b>
    // 95: 48 89 df                      movq    %rbx, %rdi
    // 98: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x9e <__JIT_ENTRY+0x9e>
    // 000000000000009a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 9e: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // a2: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // a6: 48 83 c4 10                   addq    $0x10, %rsp
    // aa: 5d                            popq    %rbp
    // ab: e9 00 00 00 00                jmp     0xb0 <__JIT_ENTRY+0xb0>
    // 00000000000000ac:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // b0: 48 c7 45 f8 00 00 00 00       movq    $0x0, -0x8(%rbp)
    // b8: 0f b7 15 00 00 00 00          movzwl  (%rip), %edx            ## 0xbf <__JIT_ENTRY+0xbf>
    // 00000000000000bb:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // bf: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // c4: 49 8b 34 24                   movq    (%r12), %rsi
    // c8: 4c 89 f7                      movq    %r14, %rdi
    // cb: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd1 <__JIT_ENTRY+0xd1>
    // 00000000000000cd:  X86_64_RELOC_GOT     __PyEval_FormatExcUnbound@GOTPCREL
    // d1: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // d6: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // df: 48 83 c4 10                   addq    $0x10, %rsp
    // e3: 5d                            popq    %rbp
    // e4: e9 00 00 00 00                jmp     0xe9 <__JIT_ENTRY+0xe9>
    // 00000000000000e5:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[233] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x49, 0x8b, 0x5d, 0xf8, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x40, 0x60, 0x4c, 0x8b, 0x3d, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x0f, 0xb7, 0xcf, 0x48,
        0x8b, 0x74, 0xc8, 0x18, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x48, 0x8d, 0x55, 0xf8, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x85, 0xc0, 0x0f, 0x88,
        0x93, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x45, 0xf8,
        0x48, 0x85, 0xc0, 0x74, 0x14, 0x8b, 0x0b, 0x85,
        0xc9, 0x79, 0x34, 0x49, 0x89, 0x45, 0xf8, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x0f, 0xb7, 0xc7, 0x49, 0x8b, 0x44,
        0xc4, 0x50, 0x48, 0x8b, 0x40, 0x10, 0x48, 0x85,
        0xc0, 0x74, 0x35, 0x8b, 0x08, 0x85, 0xc9, 0x78,
        0x04, 0xff, 0xc1, 0x89, 0x08, 0x48, 0x89, 0x45,
        0xf8, 0x8b, 0x0b, 0x85, 0xc9, 0x78, 0xcc, 0xff,
        0xc9, 0x89, 0x0b, 0x75, 0xc6, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x45, 0xf8, 0x49, 0x89, 0x45, 0xf8, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0xc7, 0x45, 0xf8, 0x00, 0x00, 0x00, 0x00,
        0x0f, 0xb7, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x49, 0x8b, 0x34, 0x24,
        0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_PyEval_FormatExcUnbound+0x0
    // 8: OPARG
    // 10: &_Py_Dealloc+0x0
    // 18: &PyMapping_GetOptionalItem+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_FormatExcUnbound);
    patch_64(data + 0x8, instruction->oparg);
    patch_64(data + 0x10, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x18, (uintptr_t)&PyMapping_GetOptionalItem);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x17, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0x14);
    patch_32r(code + 0x65, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x9a, (uintptr_t)data + 0xc);
    patch_32r(code + 0xac, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xbb, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xcd, (uintptr_t)data + -0x4);
    patch_32r(code + 0xe5, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_GLOBAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_GLOBAL.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4c 89 eb                      movq    %r13, %rbx
    // 7: 44 8b 3d 00 00 00 00          movl    (%rip), %r15d           ## 0xe <__JIT_ENTRY+0xe>
    // 000000000000000a:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // e: 49 8b 04 24                   movq    (%r12), %rax
    // 12: 49 8b 7c 24 18                movq    0x18(%r12), %rdi
    // 17: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 1b: 44 89 f9                      movl    %r15d, %ecx
    // 1e: 81 e1 fe ff 00 00             andl    $0xfffe, %ecx           ## imm = 0xFFFE
    // 24: 48 8b 54 88 18                movq    0x18(%rax,%rcx,4), %rdx
    // 29: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2e: 49 8b 74 24 20                movq    0x20(%r12), %rsi
    // 33: 4c 89 e9                      movq    %r13, %rcx
    // 36: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_GOT     __PyEval_LoadGlobalStackRef@GOTPCREL
    // 3c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 41: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 4a: 48 83 3b 00                   cmpq    $0x0, (%rbx)
    // 4e: 74 1e                         je      0x6e <__JIT_ENTRY+0x6e>
    // 50: 41 0f b7 c7                   movzwl  %r15w, %eax
    // 54: 83 e0 01                      andl    $0x1, %eax
    // 57: 74 08                         je      0x61 <__JIT_ENTRY+0x61>
    // 59: 49 c7 45 08 00 00 00 00       movq    $0x0, 0x8(%r13)
    // 61: 89 c0                         movl    %eax, %eax
    // 63: 4d 8d 6c c5 08                leaq    0x8(%r13,%rax,8), %r13
    // 68: 5d                            popq    %rbp
    // 69: e9 00 00 00 00                jmp     0x6e <__JIT_ENTRY+0x6e>
    // 000000000000006a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 6e: 5d                            popq    %rbp
    // 6f: e9 00 00 00 00                jmp     0x74 <__JIT_ENTRY+0x74>
    // 0000000000000070:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[116] = {
        0x55, 0x48, 0x89, 0xe5, 0x4c, 0x89, 0xeb, 0x44,
        0x8b, 0x3d, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b,
        0x04, 0x24, 0x49, 0x8b, 0x7c, 0x24, 0x18, 0x48,
        0x8b, 0x40, 0x20, 0x44, 0x89, 0xf9, 0x81, 0xe1,
        0xfe, 0xff, 0x00, 0x00, 0x48, 0x8b, 0x54, 0x88,
        0x18, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49, 0x8b,
        0x74, 0x24, 0x20, 0x4c, 0x89, 0xe9, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x83, 0x3b, 0x00, 0x74, 0x1e,
        0x41, 0x0f, 0xb7, 0xc7, 0x83, 0xe0, 0x01, 0x74,
        0x08, 0x49, 0xc7, 0x45, 0x08, 0x00, 0x00, 0x00,
        0x00, 0x89, 0xc0, 0x4d, 0x8d, 0x6c, 0xc5, 0x08,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyEval_LoadGlobalStackRef+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_LoadGlobalStackRef);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xa, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x38, (uintptr_t)data + -0x4);
    patch_32r(code + 0x6a, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x70, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_GLOBAL_BUILTINS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_GLOBAL_BUILTINS.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 20                movq    0x20(%r12), %rax
    // 9: 48 8b 40 20                   movq    0x20(%rax), %rax
    // d: 0f b6 48 09                   movzbl  0x9(%rax), %ecx
    // 11: ba 01 00 00 00                movl    $0x1, %edx
    // 16: 48 d3 e2                      shlq    %cl, %rdx
    // 19: 48 01 c2                      addq    %rax, %rdx
    // 1c: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 23: c1 e0 04                      shll    $0x4, %eax
    // 26: 48 8b 44 10 28                movq    0x28(%rax,%rdx), %rax
    // 2b: 48 85 c0                      testq   %rax, %rax
    // 2e: 74 31                         je      0x61 <__JIT_ENTRY+0x61>
    // 30: 8b 08                         movl    (%rax), %ecx
    // 32: 85 c9                         testl   %ecx, %ecx
    // 34: 78 04                         js      0x3a <__JIT_ENTRY+0x3a>
    // 36: ff c1                         incl    %ecx
    // 38: 89 08                         movl    %ecx, (%rax)
    // 3a: 49 89 45 00                   movq    %rax, (%r13)
    // 3e: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 45: 66 83 e0 01                   andw    $0x1, %ax
    // 49: 74 08                         je      0x53 <__JIT_ENTRY+0x53>
    // 4b: 49 c7 45 08 00 00 00 00       movq    $0x0, 0x8(%r13)
    // 53: 0f b7 c0                      movzwl  %ax, %eax
    // 56: 4d 8d 6c c5 08                leaq    0x8(%r13,%rax,8), %r13
    // 5b: 5d                            popq    %rbp
    // 5c: e9 00 00 00 00                jmp     0x61 <__JIT_ENTRY+0x61>
    // 000000000000005d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 61: 5d                            popq    %rbp
    // 62: e9 00 00 00 00                jmp     0x67 <__JIT_ENTRY+0x67>
    // 0000000000000063:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[103] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x20, 0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb6, 0x48,
        0x09, 0xba, 0x01, 0x00, 0x00, 0x00, 0x48, 0xd3,
        0xe2, 0x48, 0x01, 0xc2, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xc1, 0xe0, 0x04, 0x48, 0x8b,
        0x44, 0x10, 0x28, 0x48, 0x85, 0xc0, 0x74, 0x31,
        0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1,
        0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x66, 0x83, 0xe0,
        0x01, 0x74, 0x08, 0x49, 0xc7, 0x45, 0x08, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0xc0, 0x4d, 0x8d,
        0x6c, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPARG
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1f, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x41, (uintptr_t)data + -0x4);
    patch_32r(code + 0x5d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x63, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__LOAD_GLOBAL_BUILTINS_FROM_KEYS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_GLOBAL_BUILTINS_FROM_KEYS.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4c 89 e8                      movq    %r13, %rax
    // 7: 49 83 c5 f8                   addq    $-0x8, %r13
    // b: 48 8b 50 f8                   movq    -0x8(%rax), %rdx
    // f: 0f b6 4a 09                   movzbl  0x9(%rdx), %ecx
    // 13: be 01 00 00 00                movl    $0x1, %esi
    // 18: 48 d3 e6                      shlq    %cl, %rsi
    // 1b: 48 01 d6                      addq    %rdx, %rsi
    // 1e: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 25: c1 e1 04                      shll    $0x4, %ecx
    // 28: 48 8b 4c 31 28                movq    0x28(%rcx,%rsi), %rcx
    // 2d: 48 85 c9                      testq   %rcx, %rcx
    // 30: 74 30                         je      0x62 <__JIT_ENTRY+0x62>
    // 32: 8b 11                         movl    (%rcx), %edx
    // 34: 85 d2                         testl   %edx, %edx
    // 36: 78 04                         js      0x3c <__JIT_ENTRY+0x3c>
    // 38: ff c2                         incl    %edx
    // 3a: 89 11                         movl    %edx, (%rcx)
    // 3c: 49 89 4d 00                   movq    %rcx, (%r13)
    // 40: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x47 <__JIT_ENTRY+0x47>
    // 0000000000000043:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 47: 66 83 e1 01                   andw    $0x1, %cx
    // 4b: 74 07                         je      0x54 <__JIT_ENTRY+0x54>
    // 4d: 48 c7 00 00 00 00 00          movq    $0x0, (%rax)
    // 54: 0f b7 c1                      movzwl  %cx, %eax
    // 57: 4d 8d 6c c5 08                leaq    0x8(%r13,%rax,8), %r13
    // 5c: 5d                            popq    %rbp
    // 5d: e9 00 00 00 00                jmp     0x62 <__JIT_ENTRY+0x62>
    // 000000000000005e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 62: 5d                            popq    %rbp
    // 63: e9 00 00 00 00                jmp     0x68 <__JIT_ENTRY+0x68>
    // 0000000000000064:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[104] = {
        0x55, 0x48, 0x89, 0xe5, 0x4c, 0x89, 0xe8, 0x49,
        0x83, 0xc5, 0xf8, 0x48, 0x8b, 0x50, 0xf8, 0x0f,
        0xb6, 0x4a, 0x09, 0xbe, 0x01, 0x00, 0x00, 0x00,
        0x48, 0xd3, 0xe6, 0x48, 0x01, 0xd6, 0x0f, 0xb7,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0xc1, 0xe1, 0x04,
        0x48, 0x8b, 0x4c, 0x31, 0x28, 0x48, 0x85, 0xc9,
        0x74, 0x30, 0x8b, 0x11, 0x85, 0xd2, 0x78, 0x04,
        0xff, 0xc2, 0x89, 0x11, 0x49, 0x89, 0x4d, 0x00,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x66,
        0x83, 0xe1, 0x01, 0x74, 0x07, 0x48, 0xc7, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0xb7, 0xc1, 0x4d,
        0x8d, 0x6c, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPARG
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x43, (uintptr_t)data + -0x4);
    patch_32r(code + 0x5e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x64, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__LOAD_GLOBAL_MODULE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_GLOBAL_MODULE.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 44 24 18                movq    0x18(%r12), %rax
    // 9: 48 8b 40 20                   movq    0x20(%rax), %rax
    // d: 0f b6 48 09                   movzbl  0x9(%rax), %ecx
    // 11: ba 01 00 00 00                movl    $0x1, %edx
    // 16: 48 d3 e2                      shlq    %cl, %rdx
    // 19: 48 01 c2                      addq    %rax, %rdx
    // 1c: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 23: c1 e0 04                      shll    $0x4, %eax
    // 26: 48 8b 44 10 28                movq    0x28(%rax,%rdx), %rax
    // 2b: 48 85 c0                      testq   %rax, %rax
    // 2e: 74 31                         je      0x61 <__JIT_ENTRY+0x61>
    // 30: 8b 08                         movl    (%rax), %ecx
    // 32: 85 c9                         testl   %ecx, %ecx
    // 34: 78 04                         js      0x3a <__JIT_ENTRY+0x3a>
    // 36: ff c1                         incl    %ecx
    // 38: 89 08                         movl    %ecx, (%rax)
    // 3a: 49 89 45 00                   movq    %rax, (%r13)
    // 3e: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 45: 66 83 e0 01                   andw    $0x1, %ax
    // 49: 74 08                         je      0x53 <__JIT_ENTRY+0x53>
    // 4b: 49 c7 45 08 00 00 00 00       movq    $0x0, 0x8(%r13)
    // 53: 0f b7 c0                      movzwl  %ax, %eax
    // 56: 4d 8d 6c c5 08                leaq    0x8(%r13,%rax,8), %r13
    // 5b: 5d                            popq    %rbp
    // 5c: e9 00 00 00 00                jmp     0x61 <__JIT_ENTRY+0x61>
    // 000000000000005d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 61: 5d                            popq    %rbp
    // 62: e9 00 00 00 00                jmp     0x67 <__JIT_ENTRY+0x67>
    // 0000000000000063:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[103] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x44, 0x24,
        0x18, 0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb6, 0x48,
        0x09, 0xba, 0x01, 0x00, 0x00, 0x00, 0x48, 0xd3,
        0xe2, 0x48, 0x01, 0xc2, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xc1, 0xe0, 0x04, 0x48, 0x8b,
        0x44, 0x10, 0x28, 0x48, 0x85, 0xc0, 0x74, 0x31,
        0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04, 0xff, 0xc1,
        0x89, 0x08, 0x49, 0x89, 0x45, 0x00, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x66, 0x83, 0xe0,
        0x01, 0x74, 0x08, 0x49, 0xc7, 0x45, 0x08, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0xc0, 0x4d, 0x8d,
        0x6c, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPARG
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1f, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x41, (uintptr_t)data + -0x4);
    patch_32r(code + 0x5d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x63, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__LOAD_GLOBAL_MODULE_FROM_KEYS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_GLOBAL_MODULE_FROM_KEYS.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4c 89 e8                      movq    %r13, %rax
    // 7: 49 83 c5 f8                   addq    $-0x8, %r13
    // b: 48 8b 50 f8                   movq    -0x8(%rax), %rdx
    // f: 0f b6 4a 09                   movzbl  0x9(%rdx), %ecx
    // 13: be 01 00 00 00                movl    $0x1, %esi
    // 18: 48 d3 e6                      shlq    %cl, %rsi
    // 1b: 48 01 d6                      addq    %rdx, %rsi
    // 1e: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 25: c1 e1 04                      shll    $0x4, %ecx
    // 28: 48 8b 4c 31 28                movq    0x28(%rcx,%rsi), %rcx
    // 2d: 48 85 c9                      testq   %rcx, %rcx
    // 30: 74 30                         je      0x62 <__JIT_ENTRY+0x62>
    // 32: 8b 11                         movl    (%rcx), %edx
    // 34: 85 d2                         testl   %edx, %edx
    // 36: 78 04                         js      0x3c <__JIT_ENTRY+0x3c>
    // 38: ff c2                         incl    %edx
    // 3a: 89 11                         movl    %edx, (%rcx)
    // 3c: 49 89 4d 00                   movq    %rcx, (%r13)
    // 40: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x47 <__JIT_ENTRY+0x47>
    // 0000000000000043:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 47: 66 83 e1 01                   andw    $0x1, %cx
    // 4b: 74 07                         je      0x54 <__JIT_ENTRY+0x54>
    // 4d: 48 c7 00 00 00 00 00          movq    $0x0, (%rax)
    // 54: 0f b7 c1                      movzwl  %cx, %eax
    // 57: 4d 8d 6c c5 08                leaq    0x8(%r13,%rax,8), %r13
    // 5c: 5d                            popq    %rbp
    // 5d: e9 00 00 00 00                jmp     0x62 <__JIT_ENTRY+0x62>
    // 000000000000005e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 62: 5d                            popq    %rbp
    // 63: e9 00 00 00 00                jmp     0x68 <__JIT_ENTRY+0x68>
    // 0000000000000064:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[104] = {
        0x55, 0x48, 0x89, 0xe5, 0x4c, 0x89, 0xe8, 0x49,
        0x83, 0xc5, 0xf8, 0x48, 0x8b, 0x50, 0xf8, 0x0f,
        0xb6, 0x4a, 0x09, 0xbe, 0x01, 0x00, 0x00, 0x00,
        0x48, 0xd3, 0xe6, 0x48, 0x01, 0xd6, 0x0f, 0xb7,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0xc1, 0xe1, 0x04,
        0x48, 0x8b, 0x4c, 0x31, 0x28, 0x48, 0x85, 0xc9,
        0x74, 0x30, 0x8b, 0x11, 0x85, 0xd2, 0x78, 0x04,
        0xff, 0xc2, 0x89, 0x11, 0x49, 0x89, 0x4d, 0x00,
        0x48, 0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x66,
        0x83, 0xe1, 0x01, 0x74, 0x07, 0x48, 0xc7, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0xb7, 0xc1, 0x4d,
        0x8d, 0x6c, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: OPARG
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x43, (uintptr_t)data + -0x4);
    patch_32r(code + 0x5e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x64, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__LOAD_LOCALS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_LOCALS.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 44 24 28                movq    0x28(%r12), %rax
    // 5: 48 85 c0                      testq   %rax, %rax
    // 8: 74 17                         je      0x21 <__JIT_ENTRY+0x21>
    // a: 8b 08                         movl    (%rax), %ecx
    // c: 85 c9                         testl   %ecx, %ecx
    // e: 78 04                         js      0x14 <__JIT_ENTRY+0x14>
    // 10: ff c1                         incl    %ecx
    // 12: 89 08                         movl    %ecx, (%rax)
    // 14: 49 89 45 00                   movq    %rax, (%r13)
    // 18: 49 83 c5 08                   addq    $0x8, %r13
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 21: 55                            pushq   %rbp
    // 22: 48 89 e5                      movq    %rsp, %rbp
    // 25: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x31 <__JIT_ENTRY+0x31>
    // 000000000000002d:  X86_64_RELOC_GOT_LOAD        _PyExc_SystemError@GOTPCREL
    // 31: 48 8b 30                      movq    (%rax), %rsi
    // 34: 48 8d 15 1d 00 00 00          leaq    0x1d(%rip), %rdx        ## 0x58 <__JIT_ENTRY+0x58>
    // 0000000000000037:  X86_64_RELOC_SIGNED  __cstring
    // 3b: 4c 89 f7                      movq    %r14, %rdi
    // 3e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x44 <__JIT_ENTRY+0x44>
    // 0000000000000040:  X86_64_RELOC_GOT     __PyErr_SetString@GOTPCREL
    // 44: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 49: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 52: 5d                            popq    %rbp
    // 53: e9 00 00 00 00                jmp     0x58 <__JIT_ENTRY+0x58>
    // 0000000000000054:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[88] = {
        0x49, 0x8b, 0x44, 0x24, 0x28, 0x48, 0x85, 0xc0,
        0x74, 0x17, 0x8b, 0x08, 0x85, 0xc9, 0x78, 0x04,
        0xff, 0xc1, 0x89, 0x08, 0x49, 0x89, 0x45, 0x00,
        0x49, 0x83, 0xc5, 0x08, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x55, 0x48, 0x89, 0xe5, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x30, 0x48, 0x8d, 0x15, 0x1d,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: 'no locals found\x00'
    // 10: &_PyErr_SetString+0x0
    // 18: &PyExc_SystemError+0x0
    const unsigned char data_body[32] = {
        0x6e, 0x6f, 0x20, 0x6c, 0x6f, 0x63, 0x61, 0x6c,
        0x73, 0x20, 0x66, 0x6f, 0x75, 0x6e, 0x64, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x10, (uintptr_t)&_PyErr_SetString);
    patch_64(data + 0x18, (uintptr_t)&PyExc_SystemError);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x1d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x2d, (uintptr_t)data + 0x14);
    patch_32r(code + 0x37, (uintptr_t)data + 0x71);
    patch_x86_64_32rx(code + 0x40, (uintptr_t)data + 0xc);
    patch_32r(code + 0x54, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_NAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_NAME.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 04 24                   movq    (%r12), %rax
    // 8: 48 8b 40 20                   movq    0x20(%rax), %rax
    // c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 13: 48 8b 54 c8 18                movq    0x18(%rax,%rcx,8), %rdx
    // 18: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1d: 4c 89 f7                      movq    %r14, %rdi
    // 20: 4c 89 e6                      movq    %r12, %rsi
    // 23: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_GOT     __PyEval_LoadName@GOTPCREL
    // 29: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2e: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 37: 48 85 c0                      testq   %rax, %rax
    // 3a: 74 0e                         je      0x4a <__JIT_ENTRY+0x4a>
    // 3c: 49 89 45 00                   movq    %rax, (%r13)
    // 40: 49 83 c5 08                   addq    $0x8, %r13
    // 44: 5d                            popq    %rbp
    // 45: e9 00 00 00 00                jmp     0x4a <__JIT_ENTRY+0x4a>
    // 0000000000000046:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 4a: 5d                            popq    %rbp
    // 4b: e9 00 00 00 00                jmp     0x50 <__JIT_ENTRY+0x50>
    // 000000000000004c:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[80] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x54, 0xc8, 0x18,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0xf7,
        0x4c, 0x89, 0xe6, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89, 0x45, 0x00,
        0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyEval_LoadName+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_LoadName);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x25, (uintptr_t)data + -0x4);
    patch_32r(code + 0x46, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x4c, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_SMALL_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SMALL_INT.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: c1 e0 05                      shll    $0x5, %eax
    // e: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 15: 48 01 c8                      addq    %rcx, %rax
    // 18: 48 05 60 34 00 00             addq    $0x3460, %rax           ## imm = 0x3460
    // 1e: 49 89 45 00                   movq    %rax, (%r13)
    // 22: 49 83 c5 08                   addq    $0x8, %r13
    // 26: 5d                            popq    %rbp
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[39] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xc1, 0xe0, 0x05, 0x48, 0x8b,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x01, 0xc8,
        0x48, 0x05, 0x60, 0x34, 0x00, 0x00, 0x49, 0x89,
        0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: &_PyRuntime+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x11, (uintptr_t)data + -0x4);
}

void
emit__LOAD_SMALL_INT_0(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SMALL_INT_0.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: b8 60 34 00 00                movl    $0x3460, %eax           ## imm = 0x3460
    // 9: 48 03 05 00 00 00 00          addq    (%rip), %rax            ## 0x10 <__JIT_ENTRY+0x10>
    // 000000000000000c:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 10: 49 89 45 00                   movq    %rax, (%r13)
    // 14: 49 83 c5 08                   addq    $0x8, %r13
    // 18: 5d                            popq    %rbp
    // 19: e9 00 00 00 00                jmp     0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[25] = {
        0x55, 0x48, 0x89, 0xe5, 0xb8, 0x60, 0x34, 0x00,
        0x00, 0x48, 0x03, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d,
    };
    // 0: &_PyRuntime+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xc, (uintptr_t)data + -0x4);
}

void
emit__LOAD_SMALL_INT_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SMALL_INT_1.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: b8 80 34 00 00                movl    $0x3480, %eax           ## imm = 0x3480
    // 9: 48 03 05 00 00 00 00          addq    (%rip), %rax            ## 0x10 <__JIT_ENTRY+0x10>
    // 000000000000000c:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 10: 49 89 45 00                   movq    %rax, (%r13)
    // 14: 49 83 c5 08                   addq    $0x8, %r13
    // 18: 5d                            popq    %rbp
    // 19: e9 00 00 00 00                jmp     0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[25] = {
        0x55, 0x48, 0x89, 0xe5, 0xb8, 0x80, 0x34, 0x00,
        0x00, 0x48, 0x03, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d,
    };
    // 0: &_PyRuntime+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xc, (uintptr_t)data + -0x4);
}

void
emit__LOAD_SMALL_INT_2(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SMALL_INT_2.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: b8 a0 34 00 00                movl    $0x34a0, %eax           ## imm = 0x34A0
    // 9: 48 03 05 00 00 00 00          addq    (%rip), %rax            ## 0x10 <__JIT_ENTRY+0x10>
    // 000000000000000c:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 10: 49 89 45 00                   movq    %rax, (%r13)
    // 14: 49 83 c5 08                   addq    $0x8, %r13
    // 18: 5d                            popq    %rbp
    // 19: e9 00 00 00 00                jmp     0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[25] = {
        0x55, 0x48, 0x89, 0xe5, 0xb8, 0xa0, 0x34, 0x00,
        0x00, 0x48, 0x03, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d,
    };
    // 0: &_PyRuntime+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xc, (uintptr_t)data + -0x4);
}

void
emit__LOAD_SMALL_INT_3(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SMALL_INT_3.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: b8 c0 34 00 00                movl    $0x34c0, %eax           ## imm = 0x34C0
    // 9: 48 03 05 00 00 00 00          addq    (%rip), %rax            ## 0x10 <__JIT_ENTRY+0x10>
    // 000000000000000c:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 10: 49 89 45 00                   movq    %rax, (%r13)
    // 14: 49 83 c5 08                   addq    $0x8, %r13
    // 18: 5d                            popq    %rbp
    // 19: e9 00 00 00 00                jmp     0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[25] = {
        0x55, 0x48, 0x89, 0xe5, 0xb8, 0xc0, 0x34, 0x00,
        0x00, 0x48, 0x03, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d,
    };
    // 0: &_PyRuntime+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyRuntime);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xc, (uintptr_t)data + -0x4);
}

void
emit__LOAD_SPECIAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SPECIAL.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 10: 49 83 c5 f8                   addq    $-0x8, %r13
    // 14: 0f b7 1d 00 00 00 00          movzwl  (%rip), %ebx            ## 0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 1b: c1 e3 04                      shll    $0x4, %ebx
    // 1e: 4c 8b 35 00 00 00 00          movq    (%rip), %r14            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT_LOAD        __Py_SpecialMethods@GOTPCREL
    // 25: 49 8b 34 1e                   movq    (%r14,%rbx), %rsi
    // 29: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2e: 48 8d 55 f0                   leaq    -0x10(%rbp), %rdx
    // 32: 4c 89 ff                      movq    %r15, %rdi
    // 35: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3b <__JIT_ENTRY+0x3b>
    // 0000000000000037:  X86_64_RELOC_GOT     __PyObject_LookupSpecialMethod@GOTPCREL
    // 3b: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 40: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 49: 48 85 c0                      testq   %rax, %rax
    // 4c: 74 1e                         je      0x6c <__JIT_ENTRY+0x6c>
    // 4e: 48 8b 4d f0                   movq    -0x10(%rbp), %rcx
    // 52: 49 89 45 00                   movq    %rax, (%r13)
    // 56: 49 89 4d 08                   movq    %rcx, 0x8(%r13)
    // 5a: 49 83 c5 10                   addq    $0x10, %r13
    // 5e: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 62: 48 83 c4 10                   addq    $0x10, %rsp
    // 66: 5d                            popq    %rbp
    // 67: e9 00 00 00 00                jmp     0x6c <__JIT_ENTRY+0x6c>
    // 0000000000000068:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 6c: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // 70: 48 8b 47 70                   movq    0x70(%rdi), %rax
    // 74: 48 85 c0                      testq   %rax, %rax
    // 77: 74 14                         je      0x8d <__JIT_ENTRY+0x8d>
    // 79: 48 83 78 08 00                cmpq    $0x0, 0x8(%rax)
    // 7e: 74 0d                         je      0x8d <__JIT_ENTRY+0x8d>
    // 80: 49 89 fe                      movq    %rdi, %r14
    // 83: 48 83 c4 10                   addq    $0x10, %rsp
    // 87: 5d                            popq    %rbp
    // 88: e9 00 00 00 00                jmp     0x8d <__JIT_ENTRY+0x8d>
    // 0000000000000089:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 8d: 49 01 de                      addq    %rbx, %r14
    // 90: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 95: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x9c <__JIT_ENTRY+0x9c>
    // 0000000000000098:  X86_64_RELOC_GOT_LOAD        _PyExc_TypeError@GOTPCREL
    // 9c: 48 8b 30                      movq    (%rax), %rsi
    // 9f: 49 8b 56 08                   movq    0x8(%r14), %rdx
    // a3: 49 8b 47 08                   movq    0x8(%r15), %rax
    // a7: 48 8b 48 18                   movq    0x18(%rax), %rcx
    // ab: 49 89 fe                      movq    %rdi, %r14
    // ae: 31 c0                         xorl    %eax, %eax
    // b0: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb6 <__JIT_ENTRY+0xb6>
    // 00000000000000b2:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // b6: 4c 89 f7                      movq    %r14, %rdi
    // b9: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // be: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // c7: 49 89 fe                      movq    %rdi, %r14
    // ca: 48 83 c4 10                   addq    $0x10, %rsp
    // ce: 5d                            popq    %rbp
    // cf: e9 00 00 00 00                jmp     0xd4 <__JIT_ENTRY+0xd4>
    // 00000000000000d0:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[212] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf8,
        0x49, 0x83, 0xc5, 0xf8, 0x0f, 0xb7, 0x1d, 0x00,
        0x00, 0x00, 0x00, 0xc1, 0xe3, 0x04, 0x4c, 0x8b,
        0x35, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x34,
        0x1e, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8d,
        0x55, 0xf0, 0x4c, 0x89, 0xff, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x85, 0xc0, 0x74, 0x1e, 0x48, 0x8b,
        0x4d, 0xf0, 0x49, 0x89, 0x45, 0x00, 0x49, 0x89,
        0x4d, 0x08, 0x49, 0x83, 0xc5, 0x10, 0x4c, 0x8b,
        0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x7d, 0xf8,
        0x48, 0x8b, 0x47, 0x70, 0x48, 0x85, 0xc0, 0x74,
        0x14, 0x48, 0x83, 0x78, 0x08, 0x00, 0x74, 0x0d,
        0x49, 0x89, 0xfe, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x49, 0x01, 0xde,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x30, 0x49,
        0x8b, 0x56, 0x08, 0x49, 0x8b, 0x47, 0x08, 0x48,
        0x8b, 0x48, 0x18, 0x49, 0x89, 0xfe, 0x31, 0xc0,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xf7, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x89, 0xfe, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyErr_Format+0x0
    // 8: &PyExc_TypeError+0x0
    // 10: &_PyObject_LookupSpecialMethod+0x0
    // 18: &_Py_SpecialMethods+0x0
    // 20: OPARG
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyErr_Format);
    patch_64(data + 0x8, (uintptr_t)&PyExc_TypeError);
    patch_64(data + 0x10, (uintptr_t)&_PyObject_LookupSpecialMethod);
    patch_64(data + 0x18, (uintptr_t)&_Py_SpecialMethods);
    patch_64(data + 0x20, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x17, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x37, (uintptr_t)data + 0xc);
    patch_32r(code + 0x68, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x89, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x98, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xb2, (uintptr_t)data + -0x4);
    patch_32r(code + 0xd0, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_SUPER_ATTR_ATTR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SUPER_ATTR_ATTR.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 49 8b 45 e8                   movq    -0x18(%r13), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PySuper_Type@GOTPCREL
    // 13: 75 11                         jne     0x26 <__JIT_ENTRY+0x26>
    // 15: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 19: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 1d: f6 80 ab 00 00 00 80          testb   $-0x80, 0xab(%rax)
    // 24: 75 0a                         jne     0x30 <__JIT_ENTRY+0x30>
    // 26: 48 83 c4 10                   addq    $0x10, %rsp
    // 2a: 5d                            popq    %rbp
    // 2b: e9 00 00 00 00                jmp     0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 30: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 34: 49 8b 04 24                   movq    (%r12), %rax
    // 38: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 3c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 43: 83 e1 fc                      andl    $-0x4, %ecx
    // 46: 48 8b 54 48 18                movq    0x18(%rax,%rcx,2), %rdx
    // 4b: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 50: 4c 89 ff                      movq    %r15, %rdi
    // 53: 48 89 de                      movq    %rbx, %rsi
    // 56: 31 c9                         xorl    %ecx, %ecx
    // 58: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5e <__JIT_ENTRY+0x5e>
    // 000000000000005a:  X86_64_RELOC_GOT     __PySuper_Lookup@GOTPCREL
    // 5e: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 63: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 6c: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x73 <__JIT_ENTRY+0x73>
    // 000000000000006f:  X86_64_RELOC_GOT_LOAD        _PySuper_Type@GOTPCREL
    // 73: 8b 0a                         movl    (%rdx), %ecx
    // 75: 85 c9                         testl   %ecx, %ecx
    // 77: 78 1b                         js      0x94 <__JIT_ENTRY+0x94>
    // 79: ff c9                         decl    %ecx
    // 7b: 89 0a                         movl    %ecx, (%rdx)
    // 7d: 75 15                         jne     0x94 <__JIT_ENTRY+0x94>
    // 7f: 48 8b 3d 00 00 00 00          movq    (%rip), %rdi            ## 0x86 <__JIT_ENTRY+0x86>
    // 0000000000000082:  X86_64_RELOC_GOT_LOAD        _PySuper_Type@GOTPCREL
    // 86: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // 8a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x90 <__JIT_ENTRY+0x90>
    // 000000000000008c:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 90: 48 8b 45 f8                   movq    -0x8(%rbp), %rax
    // 94: 41 8b 0f                      movl    (%r15), %ecx
    // 97: 85 c9                         testl   %ecx, %ecx
    // 99: 78 16                         js      0xb1 <__JIT_ENTRY+0xb1>
    // 9b: ff c9                         decl    %ecx
    // 9d: 41 89 0f                      movl    %ecx, (%r15)
    // a0: 75 0f                         jne     0xb1 <__JIT_ENTRY+0xb1>
    // a2: 4c 89 ff                      movq    %r15, %rdi
    // a5: 49 89 c7                      movq    %rax, %r15
    // a8: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xae <__JIT_ENTRY+0xae>
    // 00000000000000aa:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // ae: 4c 89 f8                      movq    %r15, %rax
    // b1: 8b 0b                         movl    (%rbx), %ecx
    // b3: 85 c9                         testl   %ecx, %ecx
    // b5: 78 15                         js      0xcc <__JIT_ENTRY+0xcc>
    // b7: ff c9                         decl    %ecx
    // b9: 89 0b                         movl    %ecx, (%rbx)
    // bb: 75 0f                         jne     0xcc <__JIT_ENTRY+0xcc>
    // bd: 48 89 df                      movq    %rbx, %rdi
    // c0: 48 89 c3                      movq    %rax, %rbx
    // c3: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xc9 <__JIT_ENTRY+0xc9>
    // 00000000000000c5:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // c9: 48 89 d8                      movq    %rbx, %rax
    // cc: 48 85 c0                      testq   %rax, %rax
    // cf: 74 12                         je      0xe3 <__JIT_ENTRY+0xe3>
    // d1: 49 89 45 e8                   movq    %rax, -0x18(%r13)
    // d5: 49 83 c5 f0                   addq    $-0x10, %r13
    // d9: 48 83 c4 10                   addq    $0x10, %rsp
    // dd: 5d                            popq    %rbp
    // de: e9 00 00 00 00                jmp     0xe3 <__JIT_ENTRY+0xe3>
    // 00000000000000df:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // e3: 48 83 c4 10                   addq    $0x10, %rsp
    // e7: 5d                            popq    %rbp
    // e8: e9 00 00 00 00                jmp     0xed <__JIT_ENTRY+0xed>
    // 00000000000000e9:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[237] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x49, 0x8b, 0x45, 0xe8, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x11, 0x4d, 0x8b, 0x7d,
        0xf0, 0x49, 0x8b, 0x47, 0x08, 0xf6, 0x80, 0xab,
        0x00, 0x00, 0x00, 0x80, 0x75, 0x0a, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x8b, 0x5d, 0xf8, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x83, 0xe1, 0xfc, 0x48, 0x8b,
        0x54, 0x48, 0x18, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x4c, 0x89, 0xff, 0x48, 0x89, 0xde, 0x31, 0xc9,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x0a, 0x85, 0xc9, 0x78,
        0x1b, 0xff, 0xc9, 0x89, 0x0a, 0x75, 0x15, 0x48,
        0x8b, 0x3d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0x45, 0xf8, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x45, 0xf8, 0x41, 0x8b, 0x0f, 0x85,
        0xc9, 0x78, 0x16, 0xff, 0xc9, 0x41, 0x89, 0x0f,
        0x75, 0x0f, 0x4c, 0x89, 0xff, 0x49, 0x89, 0xc7,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xf8, 0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x15, 0xff,
        0xc9, 0x89, 0x0b, 0x75, 0x0f, 0x48, 0x89, 0xdf,
        0x48, 0x89, 0xc3, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xd8, 0x48, 0x85, 0xc0, 0x74,
        0x12, 0x49, 0x89, 0x45, 0xe8, 0x49, 0x83, 0xc5,
        0xf0, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PySuper_Type+0x0
    // 10: &_PySuper_Lookup+0x0
    // 18: OPARG
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PySuper_Type);
    patch_64(data + 0x10, (uintptr_t)&_PySuper_Lookup);
    patch_64(data + 0x18, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x4);
    patch_32r(code + 0x2c, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x3f, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x5a, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x6f, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x82, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x8c, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xaa, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xc5, (uintptr_t)data + -0x4);
    patch_32r(code + 0xdf, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xe9, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__LOAD_SUPER_ATTR_METHOD(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _LOAD_SUPER_ATTR_METHOD.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 49 8b 45 e8                   movq    -0x18(%r13), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PySuper_Type@GOTPCREL
    // 13: 75 11                         jne     0x26 <__JIT_ENTRY+0x26>
    // 15: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 19: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 1d: f6 80 ab 00 00 00 80          testb   $-0x80, 0xab(%rax)
    // 24: 75 0a                         jne     0x30 <__JIT_ENTRY+0x30>
    // 26: 48 83 c4 10                   addq    $0x10, %rsp
    // 2a: 5d                            popq    %rbp
    // 2b: e9 00 00 00 00                jmp     0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 30: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 34: 49 8b 04 24                   movq    (%r12), %rax
    // 38: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 3c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 43: 83 e1 fc                      andl    $-0x4, %ecx
    // 46: 48 8b 54 48 18                movq    0x18(%rax,%rcx,2), %rdx
    // 4b: c7 45 fc 00 00 00 00          movl    $0x0, -0x4(%rbp)
    // 52: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 57: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 5b: 48 8b 80 90 00 00 00          movq    0x90(%rax), %rax
    // 62: 31 f6                         xorl    %esi, %esi
    // 64: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x6b <__JIT_ENTRY+0x6b>
    // 0000000000000067:  X86_64_RELOC_GOT     _PyObject_GenericGetAttr@GOTPCREL
    // 6b: 48 8d 4d fc                   leaq    -0x4(%rbp), %rcx
    // 6f: 48 0f 45 ce                   cmovneq %rsi, %rcx
    // 73: 4c 89 ff                      movq    %r15, %rdi
    // 76: 48 89 de                      movq    %rbx, %rsi
    // 79: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7f <__JIT_ENTRY+0x7f>
    // 000000000000007b:  X86_64_RELOC_GOT     __PySuper_Lookup@GOTPCREL
    // 7f: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 84: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 8d: 48 85 c0                      testq   %rax, %rax
    // 90: 74 7c                         je      0x10e <__JIT_ENTRY+0x10e>
    // 92: 83 7d fc 00                   cmpl    $0x0, -0x4(%rbp)
    // 96: 75 1d                         jne     0xb5 <__JIT_ENTRY+0xb5>
    // 98: 8b 0b                         movl    (%rbx), %ecx
    // 9a: 85 c9                         testl   %ecx, %ecx
    // 9c: 78 15                         js      0xb3 <__JIT_ENTRY+0xb3>
    // 9e: ff c9                         decl    %ecx
    // a0: 89 0b                         movl    %ecx, (%rbx)
    // a2: 75 0f                         jne     0xb3 <__JIT_ENTRY+0xb3>
    // a4: 48 89 df                      movq    %rbx, %rdi
    // a7: 48 89 c3                      movq    %rax, %rbx
    // aa: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb0 <__JIT_ENTRY+0xb0>
    // 00000000000000ac:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b0: 48 89 d8                      movq    %rbx, %rax
    // b3: 31 db                         xorl    %ebx, %ebx
    // b5: 41 8b 0f                      movl    (%r15), %ecx
    // b8: 85 c9                         testl   %ecx, %ecx
    // ba: 78 16                         js      0xd2 <__JIT_ENTRY+0xd2>
    // bc: ff c9                         decl    %ecx
    // be: 41 89 0f                      movl    %ecx, (%r15)
    // c1: 75 0f                         jne     0xd2 <__JIT_ENTRY+0xd2>
    // c3: 4c 89 ff                      movq    %r15, %rdi
    // c6: 49 89 c7                      movq    %rax, %r15
    // c9: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xcf <__JIT_ENTRY+0xcf>
    // 00000000000000cb:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // cf: 4c 89 f8                      movq    %r15, %rax
    // d2: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0xd9 <__JIT_ENTRY+0xd9>
    // 00000000000000d5:  X86_64_RELOC_GOT_LOAD        _PySuper_Type@GOTPCREL
    // d9: 8b 0a                         movl    (%rdx), %ecx
    // db: 85 c9                         testl   %ecx, %ecx
    // dd: 78 19                         js      0xf8 <__JIT_ENTRY+0xf8>
    // df: ff c9                         decl    %ecx
    // e1: 89 0a                         movl    %ecx, (%rdx)
    // e3: 75 13                         jne     0xf8 <__JIT_ENTRY+0xf8>
    // e5: 48 8b 3d 00 00 00 00          movq    (%rip), %rdi            ## 0xec <__JIT_ENTRY+0xec>
    // 00000000000000e8:  X86_64_RELOC_GOT_LOAD        _PySuper_Type@GOTPCREL
    // ec: 49 89 c7                      movq    %rax, %r15
    // ef: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xf5 <__JIT_ENTRY+0xf5>
    // 00000000000000f1:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // f5: 4c 89 f8                      movq    %r15, %rax
    // f8: 49 89 45 e8                   movq    %rax, -0x18(%r13)
    // fc: 49 89 5d f0                   movq    %rbx, -0x10(%r13)
    // 100: 49 83 c5 f8                   addq    $-0x8, %r13
    // 104: 48 83 c4 10                   addq    $0x10, %rsp
    // 108: 5d                            popq    %rbp
    // 109: e9 00 00 00 00                jmp     0x10e <__JIT_ENTRY+0x10e>
    // 000000000000010a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 10e: 48 83 c4 10                   addq    $0x10, %rsp
    // 112: 5d                            popq    %rbp
    // 113: e9 00 00 00 00                jmp     0x118 <__JIT_ENTRY+0x118>
    // 0000000000000114:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[280] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x49, 0x8b, 0x45, 0xe8, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x75, 0x11, 0x4d, 0x8b, 0x7d,
        0xf0, 0x49, 0x8b, 0x47, 0x08, 0xf6, 0x80, 0xab,
        0x00, 0x00, 0x00, 0x80, 0x75, 0x0a, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x8b, 0x5d, 0xf8, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x83, 0xe1, 0xfc, 0x48, 0x8b,
        0x54, 0x48, 0x18, 0xc7, 0x45, 0xfc, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x8b, 0x43, 0x08, 0x48, 0x8b, 0x80, 0x90, 0x00,
        0x00, 0x00, 0x31, 0xf6, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8d, 0x4d, 0xfc, 0x48,
        0x0f, 0x45, 0xce, 0x4c, 0x89, 0xff, 0x48, 0x89,
        0xde, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x7c, 0x83, 0x7d, 0xfc, 0x00, 0x75, 0x1d,
        0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x15, 0xff, 0xc9,
        0x89, 0x0b, 0x75, 0x0f, 0x48, 0x89, 0xdf, 0x48,
        0x89, 0xc3, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0xd8, 0x31, 0xdb, 0x41, 0x8b, 0x0f,
        0x85, 0xc9, 0x78, 0x16, 0xff, 0xc9, 0x41, 0x89,
        0x0f, 0x75, 0x0f, 0x4c, 0x89, 0xff, 0x49, 0x89,
        0xc7, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c,
        0x89, 0xf8, 0x48, 0x8b, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x0a, 0x85, 0xc9, 0x78, 0x19, 0xff,
        0xc9, 0x89, 0x0a, 0x75, 0x13, 0x48, 0x8b, 0x3d,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0xc7, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xf8,
        0x49, 0x89, 0x45, 0xe8, 0x49, 0x89, 0x5d, 0xf0,
        0x49, 0x83, 0xc5, 0xf8, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PySuper_Type+0x0
    // 10: &_PySuper_Lookup+0x0
    // 18: &PyObject_GenericGetAttr+0x0
    // 20: OPARG
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PySuper_Type);
    patch_64(data + 0x10, (uintptr_t)&_PySuper_Lookup);
    patch_64(data + 0x18, (uintptr_t)&PyObject_GenericGetAttr);
    patch_64(data + 0x20, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x4);
    patch_32r(code + 0x2c, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x3f, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x67, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x7b, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xac, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xcb, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xd5, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xe8, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xf1, (uintptr_t)data + -0x4);
    patch_32r(code + 0x10a, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x114, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__MAKE_CALLARGS_A_TUPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MAKE_CALLARGS_A_TUPLE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 20                   subq    $0x20, %rsp
    // 8: 4c 89 f7                      movq    %r14, %rdi
    // b: 44 8b 3d 00 00 00 00          movl    (%rip), %r15d           ## 0x12 <__JIT_ENTRY+0x12>
    // 000000000000000e:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 12: 41 83 e7 01                   andl    $0x1, %r15d
    // 16: 75 04                         jne     0x1c <__JIT_ENTRY+0x1c>
    // 18: 31 c9                         xorl    %ecx, %ecx
    // 1a: eb 04                         jmp     0x20 <__JIT_ENTRY+0x20>
    // 1c: 49 8b 4d f8                   movq    -0x8(%r13), %rcx
    // 20: 44 89 f8                      movl    %r15d, %eax
    // 23: f7 d0                         notl    %eax
    // 25: 48 63 d0                      movslq  %eax, %rdx
    // 28: 49 8b 5c d5 00                movq    (%r13,%rdx,8), %rbx
    // 2d: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 31: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x38 <__JIT_ENTRY+0x38>
    // 0000000000000034:  X86_64_RELOC_GOT     _PyTuple_Type@GOTPCREL
    // 38: 0f 84 87 00 00 00             je      0xc5 <__JIT_ENTRY+0xc5>
    // 3e: 48 89 55 f0                   movq    %rdx, -0x10(%rbp)
    // 42: 48 89 4d e8                   movq    %rcx, -0x18(%rbp)
    // 46: 44 89 f8                      movl    %r15d, %eax
    // 49: 83 f0 fd                      xorl    $-0x3, %eax
    // 4c: 48 98                         cltq
    // 4e: 49 8b 74 c5 00                movq    (%r13,%rax,8), %rsi
    // 53: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 58: 48 89 da                      movq    %rbx, %rdx
    // 5b: 49 89 fe                      movq    %rdi, %r14
    // 5e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_GOT     __Py_Check_ArgsIterable@GOTPCREL
    // 64: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 69: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 72: 85 c0                         testl   %eax, %eax
    // 74: 78 6e                         js      0xe4 <__JIT_ENTRY+0xe4>
    // 76: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 7a: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 7f: 48 89 df                      movq    %rbx, %rdi
    // 82: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x88 <__JIT_ENTRY+0x88>
    // 0000000000000084:  X86_64_RELOC_GOT     _PySequence_Tuple@GOTPCREL
    // 88: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 8d: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 96: 48 85 c0                      testq   %rax, %rax
    // 99: 74 45                         je      0xe0 <__JIT_ENTRY+0xe0>
    // 9b: 8b 0b                         movl    (%rbx), %ecx
    // 9d: 85 c9                         testl   %ecx, %ecx
    // 9f: 78 15                         js      0xb6 <__JIT_ENTRY+0xb6>
    // a1: ff c9                         decl    %ecx
    // a3: 89 0b                         movl    %ecx, (%rbx)
    // a5: 75 0f                         jne     0xb6 <__JIT_ENTRY+0xb6>
    // a7: 48 89 df                      movq    %rbx, %rdi
    // aa: 48 89 c3                      movq    %rax, %rbx
    // ad: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb3 <__JIT_ENTRY+0xb3>
    // 00000000000000af:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b3: 48 89 d8                      movq    %rbx, %rax
    // b6: 48 89 c3                      movq    %rax, %rbx
    // b9: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // bd: 48 8b 4d e8                   movq    -0x18(%rbp), %rcx
    // c1: 48 8b 55 f0                   movq    -0x10(%rbp), %rdx
    // c5: 49 89 5c d5 00                movq    %rbx, (%r13,%rdx,8)
    // ca: 45 85 ff                      testl   %r15d, %r15d
    // cd: 74 04                         je      0xd3 <__JIT_ENTRY+0xd3>
    // cf: 49 89 4d f8                   movq    %rcx, -0x8(%r13)
    // d3: 49 89 fe                      movq    %rdi, %r14
    // d6: 48 83 c4 20                   addq    $0x20, %rsp
    // da: 5d                            popq    %rbp
    // db: e9 00 00 00 00                jmp     0xe0 <__JIT_ENTRY+0xe0>
    // 00000000000000dc:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // e0: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // e4: 48 83 c4 20                   addq    $0x20, %rsp
    // e8: 5d                            popq    %rbp
    // e9: e9 00 00 00 00                jmp     0xee <__JIT_ENTRY+0xee>
    // 00000000000000ea:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[238] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x20,
        0x4c, 0x89, 0xf7, 0x44, 0x8b, 0x3d, 0x00, 0x00,
        0x00, 0x00, 0x41, 0x83, 0xe7, 0x01, 0x75, 0x04,
        0x31, 0xc9, 0xeb, 0x04, 0x49, 0x8b, 0x4d, 0xf8,
        0x44, 0x89, 0xf8, 0xf7, 0xd0, 0x48, 0x63, 0xd0,
        0x49, 0x8b, 0x5c, 0xd5, 0x00, 0x48, 0x8b, 0x43,
        0x08, 0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x0f, 0x84, 0x87, 0x00, 0x00, 0x00, 0x48, 0x89,
        0x55, 0xf0, 0x48, 0x89, 0x4d, 0xe8, 0x44, 0x89,
        0xf8, 0x83, 0xf0, 0xfd, 0x48, 0x98, 0x49, 0x8b,
        0x74, 0xc5, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x48, 0x89, 0xda, 0x49, 0x89, 0xfe, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x85, 0xc0, 0x78, 0x6e, 0x4c, 0x89,
        0x75, 0xf8, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85,
        0xc0, 0x74, 0x45, 0x8b, 0x0b, 0x85, 0xc9, 0x78,
        0x15, 0xff, 0xc9, 0x89, 0x0b, 0x75, 0x0f, 0x48,
        0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xd8, 0x48, 0x89,
        0xc3, 0x48, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x4d,
        0xe8, 0x48, 0x8b, 0x55, 0xf0, 0x49, 0x89, 0x5c,
        0xd5, 0x00, 0x45, 0x85, 0xff, 0x74, 0x04, 0x49,
        0x89, 0x4d, 0xf8, 0x49, 0x89, 0xfe, 0x48, 0x83,
        0xc4, 0x20, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x20,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PySequence_Tuple+0x0
    // 10: &_Py_Check_ArgsIterable+0x0
    // 18: &PyTuple_Type+0x0
    // 20: OPARG
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PySequence_Tuple);
    patch_64(data + 0x10, (uintptr_t)&_Py_Check_ArgsIterable);
    patch_64(data + 0x18, (uintptr_t)&PyTuple_Type);
    patch_64(data + 0x20, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xe, (uintptr_t)data + 0x1c);
    patch_x86_64_32rx(code + 0x34, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x60, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x84, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xaf, (uintptr_t)data + -0x4);
    patch_32r(code + 0xdc, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xea, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__MAKE_CELL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MAKE_CELL.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 0f b7 c3                      movzwl  %bx, %eax
    // e: 49 8b 7c c4 50                movq    0x50(%r12,%rax,8), %rdi
    // 13: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x19 <__JIT_ENTRY+0x19>
    // 0000000000000015:  X86_64_RELOC_GOT     _PyCell_New@GOTPCREL
    // 19: 48 85 c0                      testq   %rax, %rax
    // 1c: 74 24                         je      0x42 <__JIT_ENTRY+0x42>
    // 1e: 0f b7 cb                      movzwl  %bx, %ecx
    // 21: 49 8b 7c cc 50                movq    0x50(%r12,%rcx,8), %rdi
    // 26: 49 89 44 cc 50                movq    %rax, 0x50(%r12,%rcx,8)
    // 2b: 48 85 ff                      testq   %rdi, %rdi
    // 2e: 74 0c                         je      0x3c <__JIT_ENTRY+0x3c>
    // 30: 8b 07                         movl    (%rdi), %eax
    // 32: 85 c0                         testl   %eax, %eax
    // 34: 78 06                         js      0x3c <__JIT_ENTRY+0x3c>
    // 36: ff c8                         decl    %eax
    // 38: 89 07                         movl    %eax, (%rdi)
    // 3a: 74 0c                         je      0x48 <__JIT_ENTRY+0x48>
    // 3c: 5d                            popq    %rbp
    // 3d: e9 00 00 00 00                jmp     0x42 <__JIT_ENTRY+0x42>
    // 000000000000003e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 42: 5d                            popq    %rbp
    // 43: e9 00 00 00 00                jmp     0x48 <__JIT_ENTRY+0x48>
    // 0000000000000044:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 48: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4e <__JIT_ENTRY+0x4e>
    // 000000000000004a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4e: 5d                            popq    %rbp
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[79] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x1d, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0xb7, 0xc3, 0x49, 0x8b,
        0x7c, 0xc4, 0x50, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x85, 0xc0, 0x74, 0x24, 0x0f, 0xb7,
        0xcb, 0x49, 0x8b, 0x7c, 0xcc, 0x50, 0x49, 0x89,
        0x44, 0xcc, 0x50, 0x48, 0x85, 0xff, 0x74, 0x0c,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x07, 0x74, 0x0c, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyCell_New+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyCell_New);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x15, (uintptr_t)data + 0x4);
    patch_32r(code + 0x3e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x44, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x4a, (uintptr_t)data + -0x4);
}

void
emit__MAKE_FUNCTION(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MAKE_FUNCTION.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 49 8b 74 24 18                movq    0x18(%r12), %rsi
    // 12: 48 89 df                      movq    %rbx, %rdi
    // 15: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_GOT     _PyFunction_New@GOTPCREL
    // 1b: 49 89 c7                      movq    %rax, %r15
    // 1e: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 23: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 2c: 8b 03                         movl    (%rbx), %eax
    // 2e: 85 c0                         testl   %eax, %eax
    // 30: 78 06                         js      0x38 <__JIT_ENTRY+0x38>
    // 32: ff c8                         decl    %eax
    // 34: 89 03                         movl    %eax, (%rbx)
    // 36: 74 1b                         je      0x53 <__JIT_ENTRY+0x53>
    // 38: 4d 85 ff                      testq   %r15, %r15
    // 3b: 74 24                         je      0x61 <__JIT_ENTRY+0x61>
    // 3d: 8b 73 5c                      movl    0x5c(%rbx), %esi
    // 40: 4c 89 ff                      movq    %r15, %rdi
    // 43: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x49 <__JIT_ENTRY+0x49>
    // 0000000000000045:  X86_64_RELOC_GOT     __PyFunction_SetVersion@GOTPCREL
    // 49: 4d 89 7d f8                   movq    %r15, -0x8(%r13)
    // 4d: 5d                            popq    %rbp
    // 4e: e9 00 00 00 00                jmp     0x53 <__JIT_ENTRY+0x53>
    // 000000000000004f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5c: 4d 85 ff                      testq   %r15, %r15
    // 5f: 75 dc                         jne     0x3d <__JIT_ENTRY+0x3d>
    // 61: 5d                            popq    %rbp
    // 62: e9 00 00 00 00                jmp     0x67 <__JIT_ENTRY+0x67>
    // 0000000000000063:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[103] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49, 0x8b, 0x74,
        0x24, 0x18, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0xc7, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x03, 0x85, 0xc0,
        0x78, 0x06, 0xff, 0xc8, 0x89, 0x03, 0x74, 0x1b,
        0x4d, 0x85, 0xff, 0x74, 0x24, 0x8b, 0x73, 0x5c,
        0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x89, 0x7d, 0xf8, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x85, 0xff, 0x75,
        0xdc, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyFunction_SetVersion+0x0
    // 10: &PyFunction_New+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyFunction_SetVersion);
    patch_64(data + 0x10, (uintptr_t)&PyFunction_New);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x17, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x45, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4f, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
    patch_32r(code + 0x63, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__MAKE_WARM(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MAKE_WARM.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_EXECUTOR@GOTPCREL
    // b: c6 40 23 01                   movb    $0x1, 0x23(%rax)
    // f: 49 8b 46 10                   movq    0x10(%r14), %rax
    // 13: 48 ff 88 08 67 03 00          decq    0x36708(%rax)
    // 1a: 74 06                         je      0x22 <__JIT_ENTRY+0x22>
    // 1c: 5d                            popq    %rbp
    // 1d: e9 00 00 00 00                jmp     0x22 <__JIT_ENTRY+0x22>
    // 000000000000001e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 22: f0                            lock
    // 23: 49 81 4e 18 80 00 00 00       orq     $0x80, 0x18(%r14)
    // 2b: 5d                            popq    %rbp
    // 2c: e9 00 00 00 00                jmp     0x31 <__JIT_ENTRY+0x31>
    // 000000000000002d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[44] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0xc6, 0x40, 0x23, 0x01, 0x49,
        0x8b, 0x46, 0x10, 0x48, 0xff, 0x88, 0x08, 0x67,
        0x03, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0xf0, 0x49, 0x81, 0x4e, 0x18, 0x80,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: EXECUTOR
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)executor);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
    patch_32r(code + 0x1e, (uintptr_t)code + sizeof(code_body) + -0x4);
}

void
emit__MAP_ADD(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MAP_ADD.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 75 f0                   movq    -0x10(%r13), %rsi
    // f: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // 13: 48 c7 c1 fe ff ff ff          movq    $-0x2, %rcx
    // 1a: 48 29 c1                      subq    %rax, %rcx
    // 1d: 49 8b 7c cd 00                movq    (%r13,%rcx,8), %rdi
    // 22: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 27: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2d <__JIT_ENTRY+0x2d>
    // 0000000000000029:  X86_64_RELOC_GOT     __PyDict_SetItem_Take2@GOTPCREL
    // 2d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 32: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3b: 85 c0                         testl   %eax, %eax
    // 3d: 74 06                         je      0x45 <__JIT_ENTRY+0x45>
    // 3f: 5d                            popq    %rbp
    // 40: e9 00 00 00 00                jmp     0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 45: 49 83 c5 f0                   addq    $-0x10, %r13
    // 49: 5d                            popq    %rbp
    // 4a: e9 00 00 00 00                jmp     0x4f <__JIT_ENTRY+0x4f>
    // 000000000000004b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[74] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x75, 0xf0, 0x49,
        0x8b, 0x55, 0xf8, 0x48, 0xc7, 0xc1, 0xfe, 0xff,
        0xff, 0xff, 0x48, 0x29, 0xc1, 0x49, 0x8b, 0x7c,
        0xcd, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x85, 0xc0, 0x74, 0x06, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc5,
        0xf0, 0x5d,
    };
    // 0: &_PyDict_SetItem_Take2+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyDict_SetItem_Take2);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x29, (uintptr_t)data + -0x4);
    patch_32r(code + 0x41, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__MATCH_CLASS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MATCH_CLASS.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 f7                      movq    %r14, %rdi
    // b: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // f: 4d 8b 75 e8                   movq    -0x18(%r13), %r14
    // 13: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 17: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 23: 48 89 7d f8                   movq    %rdi, -0x8(%rbp)
    // 27: 4c 89 f6                      movq    %r14, %rsi
    // 2a: 48 89 da                      movq    %rbx, %rdx
    // 2d: 4d 89 f8                      movq    %r15, %r8
    // 30: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_GOT     __PyEval_MatchClass@GOTPCREL
    // 36: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 3b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 44: 41 8b 0e                      movl    (%r14), %ecx
    // 47: 85 c9                         testl   %ecx, %ecx
    // 49: 78 16                         js      0x61 <__JIT_ENTRY+0x61>
    // 4b: ff c9                         decl    %ecx
    // 4d: 41 89 0e                      movl    %ecx, (%r14)
    // 50: 75 0f                         jne     0x61 <__JIT_ENTRY+0x61>
    // 52: 4c 89 f7                      movq    %r14, %rdi
    // 55: 49 89 c6                      movq    %rax, %r14
    // 58: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5e <__JIT_ENTRY+0x5e>
    // 000000000000005a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5e: 4c 89 f0                      movq    %r14, %rax
    // 61: 8b 0b                         movl    (%rbx), %ecx
    // 63: 85 c9                         testl   %ecx, %ecx
    // 65: 78 15                         js      0x7c <__JIT_ENTRY+0x7c>
    // 67: ff c9                         decl    %ecx
    // 69: 89 0b                         movl    %ecx, (%rbx)
    // 6b: 75 0f                         jne     0x7c <__JIT_ENTRY+0x7c>
    // 6d: 48 89 df                      movq    %rbx, %rdi
    // 70: 48 89 c3                      movq    %rax, %rbx
    // 73: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x79 <__JIT_ENTRY+0x79>
    // 0000000000000075:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 79: 48 89 d8                      movq    %rbx, %rax
    // 7c: 41 8b 0f                      movl    (%r15), %ecx
    // 7f: 85 c9                         testl   %ecx, %ecx
    // 81: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 85: 78 07                         js      0x8e <__JIT_ENTRY+0x8e>
    // 87: ff c9                         decl    %ecx
    // 89: 41 89 0f                      movl    %ecx, (%r15)
    // 8c: 74 17                         je      0xa5 <__JIT_ENTRY+0xa5>
    // 8e: 48 85 c0                      testq   %rax, %rax
    // 91: 74 26                         je      0xb9 <__JIT_ENTRY+0xb9>
    // 93: 49 89 45 e8                   movq    %rax, -0x18(%r13)
    // 97: 49 83 c5 f0                   addq    $-0x10, %r13
    // 9b: 48 83 c4 10                   addq    $0x10, %rsp
    // 9f: 5d                            popq    %rbp
    // a0: e9 00 00 00 00                jmp     0xa5 <__JIT_ENTRY+0xa5>
    // 00000000000000a1:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // a5: 4c 89 ff                      movq    %r15, %rdi
    // a8: 48 89 c3                      movq    %rax, %rbx
    // ab: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xb1 <__JIT_ENTRY+0xb1>
    // 00000000000000ad:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // b1: 48 89 d8                      movq    %rbx, %rax
    // b4: 48 85 c0                      testq   %rax, %rax
    // b7: 75 da                         jne     0x93 <__JIT_ENTRY+0x93>
    // b9: 49 8b 4e 70                   movq    0x70(%r14), %rcx
    // bd: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xc4 <__JIT_ENTRY+0xc4>
    // 00000000000000c0:  X86_64_RELOC_GOT_LOAD        __Py_NoneStruct@GOTPCREL
    // c4: 48 85 c9                      testq   %rcx, %rcx
    // c7: 74 ca                         je      0x93 <__JIT_ENTRY+0x93>
    // c9: 48 83 79 08 00                cmpq    $0x0, 0x8(%rcx)
    // ce: 74 c3                         je      0x93 <__JIT_ENTRY+0x93>
    // d0: 48 83 c4 10                   addq    $0x10, %rsp
    // d4: 5d                            popq    %rbp
    // d5: e9 00 00 00 00                jmp     0xda <__JIT_ENTRY+0xda>
    // 00000000000000d6:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[218] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0xf7, 0x4d, 0x8b, 0x7d, 0xf8, 0x4d,
        0x8b, 0x75, 0xe8, 0x49, 0x8b, 0x5d, 0xf0, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0x7d, 0xf8, 0x4c,
        0x89, 0xf6, 0x48, 0x89, 0xda, 0x4d, 0x89, 0xf8,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x0e, 0x85,
        0xc9, 0x78, 0x16, 0xff, 0xc9, 0x41, 0x89, 0x0e,
        0x75, 0x0f, 0x4c, 0x89, 0xf7, 0x49, 0x89, 0xc6,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xf0, 0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x15, 0xff,
        0xc9, 0x89, 0x0b, 0x75, 0x0f, 0x48, 0x89, 0xdf,
        0x48, 0x89, 0xc3, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xd8, 0x41, 0x8b, 0x0f, 0x85,
        0xc9, 0x4c, 0x8b, 0x75, 0xf8, 0x78, 0x07, 0xff,
        0xc9, 0x41, 0x89, 0x0f, 0x74, 0x17, 0x48, 0x85,
        0xc0, 0x74, 0x26, 0x49, 0x89, 0x45, 0xe8, 0x49,
        0x83, 0xc5, 0xf0, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xff,
        0x48, 0x89, 0xc3, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xd8, 0x48, 0x85, 0xc0, 0x75,
        0xda, 0x49, 0x8b, 0x4e, 0x70, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc9, 0x74,
        0xca, 0x48, 0x83, 0x79, 0x08, 0x00, 0x74, 0xc3,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_NoneStruct+0x0
    // 8: &_Py_Dealloc+0x0
    // 10: &_PyEval_MatchClass+0x0
    // 18: OPARG
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_NoneStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, (uintptr_t)&_PyEval_MatchClass);
    patch_64(data + 0x18, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1f, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x32, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x5a, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x75, (uintptr_t)data + 0x4);
    patch_32r(code + 0xa1, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xad, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xc0, (uintptr_t)data + -0x4);
    patch_32r(code + 0xd6, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__MATCH_KEYS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MATCH_KEYS.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 75 f0                   movq    -0x10(%r13), %rsi
    // 8: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // c: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 11: 4c 89 f7                      movq    %r14, %rdi
    // 14: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1a <__JIT_ENTRY+0x1a>
    // 0000000000000016:  X86_64_RELOC_GOT     __PyEval_MatchKeys@GOTPCREL
    // 1a: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 1f: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 28: 48 85 c0                      testq   %rax, %rax
    // 2b: 74 0e                         je      0x3b <__JIT_ENTRY+0x3b>
    // 2d: 49 89 45 00                   movq    %rax, (%r13)
    // 31: 49 83 c5 08                   addq    $0x8, %r13
    // 35: 5d                            popq    %rbp
    // 36: e9 00 00 00 00                jmp     0x3b <__JIT_ENTRY+0x3b>
    // 0000000000000037:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3b: 5d                            popq    %rbp
    // 3c: e9 00 00 00 00                jmp     0x41 <__JIT_ENTRY+0x41>
    // 000000000000003d:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[65] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x75, 0xf0,
        0x49, 0x8b, 0x55, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x85, 0xc0, 0x74, 0x0e, 0x49, 0x89, 0x45,
        0x00, 0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_PyEval_MatchKeys+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_MatchKeys);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x16, (uintptr_t)data + -0x4);
    patch_32r(code + 0x37, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x3d, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__MATCH_MAPPING(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MATCH_MAPPING.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: f6 80 a8 00 00 00 40          testb   $0x40, 0xa8(%rax)
    // 13: 75 15                         jne     0x2a <__JIT_ENTRY+0x2a>
    // 15: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 1c: 49 89 45 00                   movq    %rax, (%r13)
    // 20: 49 83 c5 08                   addq    $0x8, %r13
    // 24: 5d                            popq    %rbp
    // 25: e9 00 00 00 00                jmp     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x31 <__JIT_ENTRY+0x31>
    // 000000000000002d:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 31: 49 89 45 00                   movq    %rax, (%r13)
    // 35: 49 83 c5 08                   addq    $0x8, %r13
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0xf6, 0x80, 0xa8, 0x00,
        0x00, 0x00, 0x40, 0x75, 0x15, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x45, 0x00,
        0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5,
        0x08, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + 0x4);
    patch_32r(code + 0x26, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x2d, (uintptr_t)data + -0x4);
}

void
emit__MATCH_SEQUENCE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MATCH_SEQUENCE.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: f6 80 a8 00 00 00 20          testb   $0x20, 0xa8(%rax)
    // 13: 75 15                         jne     0x2a <__JIT_ENTRY+0x2a>
    // 15: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 1c: 49 89 45 00                   movq    %rax, (%r13)
    // 20: 49 83 c5 08                   addq    $0x8, %r13
    // 24: 5d                            popq    %rbp
    // 25: e9 00 00 00 00                jmp     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x31 <__JIT_ENTRY+0x31>
    // 000000000000002d:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 31: 49 89 45 00                   movq    %rax, (%r13)
    // 35: 49 83 c5 08                   addq    $0x8, %r13
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0xf6, 0x80, 0xa8, 0x00,
        0x00, 0x00, 0x20, 0x75, 0x15, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x45, 0x00,
        0x49, 0x83, 0xc5, 0x08, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x45, 0x00, 0x49, 0x83, 0xc5,
        0x08, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + 0x4);
    patch_32r(code + 0x26, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x2d, (uintptr_t)data + -0x4);
}

void
emit__MAYBE_EXPAND_METHOD(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MAYBE_EXPAND_METHOD.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 15 00 00 00 00          movzwl  (%rip), %edx            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: b8 fe ff ff ff                movl    $0xfffffffe, %eax       ## imm = 0xFFFFFFFE
    // c: 29 d0                         subl    %edx, %eax
    // e: 48 98                         cltq
    // 10: 49 8b 4c c5 00                movq    (%r13,%rax,8), %rcx
    // 15: 48 8b 71 08                   movq    0x8(%rcx), %rsi
    // 19: 48 3b 35 00 00 00 00          cmpq    (%rip), %rsi            ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     _PyMethod_Type@GOTPCREL
    // 20: 0f 85 00 00 00 00             jne     0x26 <__JIT_ENTRY+0x26>
    // 0000000000000022:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 26: f7 d2                         notl    %edx
    // 28: 48 63 d2                      movslq  %edx, %rdx
    // 2b: 49 83 7c d5 00 00             cmpq    $0x0, (%r13,%rdx,8)
    // 31: 0f 85 00 00 00 00             jne     0x37 <__JIT_ENTRY+0x37>
    // 0000000000000033:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 37: 48 8b 71 18                   movq    0x18(%rcx), %rsi
    // 3b: 8b 3e                         movl    (%rsi), %edi
    // 3d: 85 ff                         testl   %edi, %edi
    // 3f: 78 04                         js      0x45 <__JIT_ENTRY+0x45>
    // 41: ff c7                         incl    %edi
    // 43: 89 3e                         movl    %edi, (%rsi)
    // 45: 49 89 74 d5 00                movq    %rsi, (%r13,%rdx,8)
    // 4a: 48 8b 49 10                   movq    0x10(%rcx), %rcx
    // 4e: 49 8b 7c c5 00                movq    (%r13,%rax,8), %rdi
    // 53: 8b 11                         movl    (%rcx), %edx
    // 55: 85 d2                         testl   %edx, %edx
    // 57: 78 04                         js      0x5d <__JIT_ENTRY+0x5d>
    // 59: ff c2                         incl    %edx
    // 5b: 89 11                         movl    %edx, (%rcx)
    // 5d: 49 89 4c c5 00                movq    %rcx, (%r13,%rax,8)
    // 62: 8b 07                         movl    (%rdi), %eax
    // 64: 85 c0                         testl   %eax, %eax
    // 66: 0f 88 00 00 00 00             js      0x6c <__JIT_ENTRY+0x6c>
    // 0000000000000068:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 6c: ff c8                         decl    %eax
    // 6e: 89 07                         movl    %eax, (%rdi)
    // 70: 0f 85 00 00 00 00             jne     0x76 <__JIT_ENTRY+0x76>
    // 0000000000000072:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 76: 55                            pushq   %rbp
    // 77: 48 89 e5                      movq    %rsp, %rbp
    // 7a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x80 <__JIT_ENTRY+0x80>
    // 000000000000007c:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 80: 5d                            popq    %rbp
    // 81: e9 00 00 00 00                jmp     0x86 <__JIT_ENTRY+0x86>
    // 0000000000000082:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[129] = {
        0x0f, 0xb7, 0x15, 0x00, 0x00, 0x00, 0x00, 0xb8,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xd0, 0x48, 0x98,
        0x49, 0x8b, 0x4c, 0xc5, 0x00, 0x48, 0x8b, 0x71,
        0x08, 0x48, 0x3b, 0x35, 0x00, 0x00, 0x00, 0x00,
        0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0xf7, 0xd2,
        0x48, 0x63, 0xd2, 0x49, 0x83, 0x7c, 0xd5, 0x00,
        0x00, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x71, 0x18, 0x8b, 0x3e, 0x85, 0xff, 0x78,
        0x04, 0xff, 0xc7, 0x89, 0x3e, 0x49, 0x89, 0x74,
        0xd5, 0x00, 0x48, 0x8b, 0x49, 0x10, 0x49, 0x8b,
        0x7c, 0xc5, 0x00, 0x8b, 0x11, 0x85, 0xd2, 0x78,
        0x04, 0xff, 0xc2, 0x89, 0x11, 0x49, 0x89, 0x4c,
        0xc5, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f, 0x88,
        0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89, 0x07,
        0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48,
        0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyMethod_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyMethod_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0x4);
    patch_32r(code + 0x22, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x33, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x68, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x72, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x7c, (uintptr_t)data + -0x4);
}

void
emit__MAYBE_EXPAND_METHOD_KW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _MAYBE_EXPAND_METHOD_KW.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 0f b7 15 00 00 00 00          movzwl  (%rip), %edx            ## 0x7 <__JIT_ENTRY+0x7>
    // 0000000000000003:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 7: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // b: b8 fd ff ff ff                movl    $0xfffffffd, %eax       ## imm = 0xFFFFFFFD
    // 10: 29 d0                         subl    %edx, %eax
    // 12: 48 98                         cltq
    // 14: 49 8b 4c c5 00                movq    (%r13,%rax,8), %rcx
    // 19: 48 8b 71 08                   movq    0x8(%rcx), %rsi
    // 1d: 48 3b 35 00 00 00 00          cmpq    (%rip), %rsi            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyMethod_Type@GOTPCREL
    // 24: 74 09                         je      0x2f <__JIT_ENTRY+0x2f>
    // 26: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 2a: e9 00 00 00 00                jmp     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: be fe ff ff ff                movl    $0xfffffffe, %esi       ## imm = 0xFFFFFFFE
    // 34: 29 d6                         subl    %edx, %esi
    // 36: 48 63 d6                      movslq  %esi, %rdx
    // 39: 49 83 7c d5 00 00             cmpq    $0x0, (%r13,%rdx,8)
    // 3f: 75 e5                         jne     0x26 <__JIT_ENTRY+0x26>
    // 41: 48 8b 71 18                   movq    0x18(%rcx), %rsi
    // 45: 44 8b 06                      movl    (%rsi), %r8d
    // 48: 48 89 cf                      movq    %rcx, %rdi
    // 4b: 45 85 c0                      testl   %r8d, %r8d
    // 4e: 78 0b                         js      0x5b <__JIT_ENTRY+0x5b>
    // 50: 41 ff c0                      incl    %r8d
    // 53: 44 89 06                      movl    %r8d, (%rsi)
    // 56: 49 8b 7c c5 00                movq    (%r13,%rax,8), %rdi
    // 5b: 49 89 74 d5 00                movq    %rsi, (%r13,%rdx,8)
    // 60: 48 8b 49 10                   movq    0x10(%rcx), %rcx
    // 64: 8b 11                         movl    (%rcx), %edx
    // 66: 85 d2                         testl   %edx, %edx
    // 68: 78 04                         js      0x6e <__JIT_ENTRY+0x6e>
    // 6a: ff c2                         incl    %edx
    // 6c: 89 11                         movl    %edx, (%rcx)
    // 6e: 49 89 4c c5 00                movq    %rcx, (%r13,%rax,8)
    // 73: 8b 07                         movl    (%rdi), %eax
    // 75: 85 c0                         testl   %eax, %eax
    // 77: 78 ad                         js      0x26 <__JIT_ENTRY+0x26>
    // 79: ff c8                         decl    %eax
    // 7b: 89 07                         movl    %eax, (%rdi)
    // 7d: 75 a7                         jne     0x26 <__JIT_ENTRY+0x26>
    // 7f: 55                            pushq   %rbp
    // 80: 48 89 e5                      movq    %rsp, %rbp
    // 83: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x89 <__JIT_ENTRY+0x89>
    // 0000000000000085:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 89: 5d                            popq    %rbp
    // 8a: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 8e: e9 00 00 00 00                jmp     0x93 <__JIT_ENTRY+0x93>
    // 000000000000008f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[142] = {
        0x0f, 0xb7, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8b, 0x5d, 0xf8, 0xb8, 0xfd, 0xff, 0xff, 0xff,
        0x29, 0xd0, 0x48, 0x98, 0x49, 0x8b, 0x4c, 0xc5,
        0x00, 0x48, 0x8b, 0x71, 0x08, 0x48, 0x3b, 0x35,
        0x00, 0x00, 0x00, 0x00, 0x74, 0x09, 0x49, 0x89,
        0x5d, 0xf8, 0xe9, 0x00, 0x00, 0x00, 0x00, 0xbe,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xd6, 0x48, 0x63,
        0xd6, 0x49, 0x83, 0x7c, 0xd5, 0x00, 0x00, 0x75,
        0xe5, 0x48, 0x8b, 0x71, 0x18, 0x44, 0x8b, 0x06,
        0x48, 0x89, 0xcf, 0x45, 0x85, 0xc0, 0x78, 0x0b,
        0x41, 0xff, 0xc0, 0x44, 0x89, 0x06, 0x49, 0x8b,
        0x7c, 0xc5, 0x00, 0x49, 0x89, 0x74, 0xd5, 0x00,
        0x48, 0x8b, 0x49, 0x10, 0x8b, 0x11, 0x85, 0xd2,
        0x78, 0x04, 0xff, 0xc2, 0x89, 0x11, 0x49, 0x89,
        0x4c, 0xc5, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x78,
        0xad, 0xff, 0xc8, 0x89, 0x07, 0x75, 0xa7, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0x49, 0x89, 0x5d, 0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyMethod_Type+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyMethod_Type);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x3, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + 0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x85, (uintptr_t)data + -0x4);
}

void
emit__NOP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _NOP.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 5d                            popq    %rbp
    // 5: e9 00 00 00 00                jmp     0xa <__JIT_ENTRY+0xa>
    // 0000000000000006:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[5] = {
        0x55, 0x48, 0x89, 0xe5, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__POP_EXCEPT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _POP_EXCEPT.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 8b 4e 78                   movq    0x78(%r14), %rcx
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 48 8b 39                      movq    (%rcx), %rdi
    // 10: 31 d2                         xorl    %edx, %edx
    // 12: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x19 <__JIT_ENTRY+0x19>
    // 0000000000000015:  X86_64_RELOC_GOT     __Py_NoneStruct@GOTPCREL
    // 19: 48 0f 45 d0                   cmovneq %rax, %rdx
    // 1d: 48 89 11                      movq    %rdx, (%rcx)
    // 20: 48 85 ff                      testq   %rdi, %rdi
    // 23: 74 0c                         je      0x31 <__JIT_ENTRY+0x31>
    // 25: 8b 07                         movl    (%rdi), %eax
    // 27: 85 c0                         testl   %eax, %eax
    // 29: 78 06                         js      0x31 <__JIT_ENTRY+0x31>
    // 2b: ff c8                         decl    %eax
    // 2d: 89 07                         movl    %eax, (%rdi)
    // 2f: 74 17                         je      0x48 <__JIT_ENTRY+0x48>
    // 31: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 36: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3f: 49 83 c5 f8                   addq    $-0x8, %r13
    // 43: e9 00 00 00 00                jmp     0x48 <__JIT_ENTRY+0x48>
    // 0000000000000044:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 48: 55                            pushq   %rbp
    // 49: 48 89 e5                      movq    %rsp, %rbp
    // 4c: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x52 <__JIT_ENTRY+0x52>
    // 000000000000004e:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 52: 5d                            popq    %rbp
    // 53: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 58: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 61: 49 83 c5 f8                   addq    $-0x8, %r13
    // 65: e9 00 00 00 00                jmp     0x6a <__JIT_ENTRY+0x6a>
    // 0000000000000066:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[101] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x8b, 0x4e, 0x78,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b, 0x39,
        0x31, 0xd2, 0x48, 0x3b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x0f, 0x45, 0xd0, 0x48, 0x89, 0x11,
        0x48, 0x85, 0xff, 0x74, 0x0c, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74,
        0x17, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7,
        0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x83, 0xc5, 0xf8, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x55, 0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x5d, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x83, 0xc5, 0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_NoneStruct+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_NoneStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x15, (uintptr_t)data + 0x4);
    patch_32r(code + 0x44, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x4e, (uintptr_t)data + -0x4);
}

void
emit__POP_TOP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _POP_TOP.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 8b 07                         movl    (%rdi), %eax
    // a: 85 c0                         testl   %eax, %eax
    // c: 0f 88 00 00 00 00             js      0x12 <__JIT_ENTRY+0x12>
    // 000000000000000e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 12: ff c8                         decl    %eax
    // 14: 89 07                         movl    %eax, (%rdi)
    // 16: 0f 85 00 00 00 00             jne     0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1c: 55                            pushq   %rbp
    // 1d: 48 89 e5                      movq    %rsp, %rbp
    // 20: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x26 <__JIT_ENTRY+0x26>
    // 0000000000000022:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 26: 5d                            popq    %rbp
    // 27: e9 00 00 00 00                jmp     0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[39] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x8b, 0x07, 0x85, 0xc0, 0x0f, 0x88, 0x00, 0x00,
        0x00, 0x00, 0xff, 0xc8, 0x89, 0x07, 0x0f, 0x85,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0xe, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x18, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x22, (uintptr_t)data + -0x4);
}

void
emit__POP_TOP_LOAD_CONST_INLINE_BORROW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _POP_TOP_LOAD_CONST_INLINE_BORROW.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 8: 8b 07                         movl    (%rdi), %eax
    // a: 85 c0                         testl   %eax, %eax
    // c: 78 06                         js      0x14 <__JIT_ENTRY+0x14>
    // e: ff c8                         decl    %eax
    // 10: 89 07                         movl    %eax, (%rdi)
    // 12: 74 11                         je      0x25 <__JIT_ENTRY+0x25>
    // 14: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 1b: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 1f: 5d                            popq    %rbp
    // 20: e9 00 00 00 00                jmp     0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 2b: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // 32: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 36: 5d                            popq    %rbp
    // 37: e9 00 00 00 00                jmp     0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[55] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf8,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x07, 0x74, 0x11, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x45, 0xf8, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x89, 0x45, 0xf8, 0x5d,
    };
    // 0: OPERAND0
    // 8: &_Py_Dealloc+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x17, (uintptr_t)data + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x27, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2e, (uintptr_t)data + -0x4);
}

void
emit__PUSH_EXC_INFO(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _PUSH_EXC_INFO.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 49 8b 4e 78                   movq    0x78(%r14), %rcx
    // c: 48 8b 11                      movq    (%rcx), %rdx
    // f: 8b 30                         movl    (%rax), %esi
    // 11: 85 f6                         testl   %esi, %esi
    // 13: 78 04                         js      0x19 <__JIT_ENTRY+0x19>
    // 15: ff c6                         incl    %esi
    // 17: 89 30                         movl    %esi, (%rax)
    // 19: 48 85 d2                      testq   %rdx, %rdx
    // 1c: 75 07                         jne     0x25 <__JIT_ENTRY+0x25>
    // 1e: 48 8b 15 00 00 00 00          movq    (%rip), %rdx            ## 0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_GOT_LOAD        __Py_NoneStruct@GOTPCREL
    // 25: 48 89 01                      movq    %rax, (%rcx)
    // 28: 49 89 55 f8                   movq    %rdx, -0x8(%r13)
    // 2c: 49 89 45 00                   movq    %rax, (%r13)
    // 30: 49 83 c5 08                   addq    $0x8, %r13
    // 34: 5d                            popq    %rbp
    // 35: e9 00 00 00 00                jmp     0x3a <__JIT_ENTRY+0x3a>
    // 0000000000000036:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[53] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x49, 0x8b, 0x4e, 0x78, 0x48, 0x8b, 0x11, 0x8b,
        0x30, 0x85, 0xf6, 0x78, 0x04, 0xff, 0xc6, 0x89,
        0x30, 0x48, 0x85, 0xd2, 0x75, 0x07, 0x48, 0x8b,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0x01,
        0x49, 0x89, 0x55, 0xf8, 0x49, 0x89, 0x45, 0x00,
        0x49, 0x83, 0xc5, 0x08, 0x5d,
    };
    // 0: &_Py_NoneStruct+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_NoneStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x21, (uintptr_t)data + -0x4);
}

void
emit__PUSH_FRAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _PUSH_FRAME.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 49 83 c5 f8                   addq    $-0x8, %r13
    // c: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 11: 49 89 46 48                   movq    %rax, 0x48(%r14)
    // 15: 41 ff 4e 2c                   decl    0x2c(%r14)
    // 19: 4c 8b 68 40                   movq    0x40(%rax), %r13
    // 1d: 48 c7 40 40 00 00 00 00       movq    $0x0, 0x40(%rax)
    // 25: 49 89 c4                      movq    %rax, %r12
    // 28: 5d                            popq    %rbp
    // 29: e9 00 00 00 00                jmp     0x2e <__JIT_ENTRY+0x2e>
    // 000000000000002a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[41] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x49, 0x83, 0xc5, 0xf8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x49, 0x89, 0x46, 0x48, 0x41, 0xff, 0x4e,
        0x2c, 0x4c, 0x8b, 0x68, 0x40, 0x48, 0xc7, 0x40,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0xc4,
        0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__PUSH_NULL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _PUSH_NULL.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 c7 45 00 00 00 00 00       movq    $0x0, (%r13)
    // c: 49 83 c5 08                   addq    $0x8, %r13
    // 10: 5d                            popq    %rbp
    // 11: e9 00 00 00 00                jmp     0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[17] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0xc7, 0x45, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
}

void
emit__PY_FRAME_GENERAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _PY_FRAME_GENERAL.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 e8                      movq    %r13, %rax
    // b: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x12 <__JIT_ENTRY+0x12>
    // 000000000000000e:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 12: 8d 14 cd 00 00 00 00          leal    (,%rcx,8), %edx
    // 19: 4c 89 ef                      movq    %r13, %rdi
    // 1c: 48 29 d7                      subq    %rdx, %rdi
    // 1f: 89 ca                         movl    %ecx, %edx
    // 21: f7 d2                         notl    %edx
    // 23: 48 63 d2                      movslq  %edx, %rdx
    // 26: be fe ff ff ff                movl    $0xfffffffe, %esi       ## imm = 0xFFFFFFFE
    // 2b: 29 ce                         subl    %ecx, %esi
    // 2d: 4c 63 ee                      movslq  %esi, %r13
    // 30: 45 31 c0                      xorl    %r8d, %r8d
    // 33: 31 f6                         xorl    %esi, %esi
    // 35: 48 83 3c d0 00                cmpq    $0x0, (%rax,%rdx,8)
    // 3a: 4a 8b 14 e8                   movq    (%rax,%r13,8), %rdx
    // 3e: 41 0f 94 c0                   sete    %r8b
    // 42: 40 0f 95 c6                   setne   %sil
    // 46: 01 ce                         addl    %ecx, %esi
    // 48: 4a 8d 0c c7                   leaq    (%rdi,%r8,8), %rcx
    // 4c: 48 83 c1 f8                   addq    $-0x8, %rcx
    // 50: 48 8b 7a 30                   movq    0x30(%rdx), %rdi
    // 54: f6 47 30 01                   testb   $0x1, 0x30(%rdi)
    // 58: 75 10                         jne     0x6a <__JIT_ENTRY+0x6a>
    // 5a: 48 8b 52 10                   movq    0x10(%rdx), %rdx
    // 5e: 8b 3a                         movl    (%rdx), %edi
    // 60: 85 ff                         testl   %edi, %edi
    // 62: 78 08                         js      0x6c <__JIT_ENTRY+0x6c>
    // 64: ff c7                         incl    %edi
    // 66: 89 3a                         movl    %edi, (%rdx)
    // 68: eb 02                         jmp     0x6c <__JIT_ENTRY+0x6c>
    // 6a: 31 d2                         xorl    %edx, %edx
    // 6c: 49 89 44 24 40                movq    %rax, 0x40(%r12)
    // 71: 41 89 f0                      movl    %esi, %r8d
    // 74: 4a 8b 34 e8                   movq    (%rax,%r13,8), %rsi
    // 78: 49 c1 e5 03                   shlq    $0x3, %r13
    // 7c: 4c 89 24 24                   movq    %r12, (%rsp)
    // 80: 4c 89 f7                      movq    %r14, %rdi
    // 83: 45 31 c9                      xorl    %r9d, %r9d
    // 86: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_GOT     __PyEvalFramePushAndInit@GOTPCREL
    // 8c: 4d 03 6c 24 40                addq    0x40(%r12), %r13
    // 91: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 9a: 48 85 c0                      testq   %rax, %rax
    // 9d: 74 12                         je      0xb1 <__JIT_ENTRY+0xb1>
    // 9f: 49 89 45 00                   movq    %rax, (%r13)
    // a3: 49 83 c5 08                   addq    $0x8, %r13
    // a7: 48 83 c4 10                   addq    $0x10, %rsp
    // ab: 5d                            popq    %rbp
    // ac: e9 00 00 00 00                jmp     0xb1 <__JIT_ENTRY+0xb1>
    // 00000000000000ad:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // b1: 48 83 c4 10                   addq    $0x10, %rsp
    // b5: 5d                            popq    %rbp
    // b6: e9 00 00 00 00                jmp     0xbb <__JIT_ENTRY+0xbb>
    // 00000000000000b7:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[187] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0xe8, 0x0f, 0xb7, 0x0d, 0x00, 0x00,
        0x00, 0x00, 0x8d, 0x14, 0xcd, 0x00, 0x00, 0x00,
        0x00, 0x4c, 0x89, 0xef, 0x48, 0x29, 0xd7, 0x89,
        0xca, 0xf7, 0xd2, 0x48, 0x63, 0xd2, 0xbe, 0xfe,
        0xff, 0xff, 0xff, 0x29, 0xce, 0x4c, 0x63, 0xee,
        0x45, 0x31, 0xc0, 0x31, 0xf6, 0x48, 0x83, 0x3c,
        0xd0, 0x00, 0x4a, 0x8b, 0x14, 0xe8, 0x41, 0x0f,
        0x94, 0xc0, 0x40, 0x0f, 0x95, 0xc6, 0x01, 0xce,
        0x4a, 0x8d, 0x0c, 0xc7, 0x48, 0x83, 0xc1, 0xf8,
        0x48, 0x8b, 0x7a, 0x30, 0xf6, 0x47, 0x30, 0x01,
        0x75, 0x10, 0x48, 0x8b, 0x52, 0x10, 0x8b, 0x3a,
        0x85, 0xff, 0x78, 0x08, 0xff, 0xc7, 0x89, 0x3a,
        0xeb, 0x02, 0x31, 0xd2, 0x49, 0x89, 0x44, 0x24,
        0x40, 0x41, 0x89, 0xf0, 0x4a, 0x8b, 0x34, 0xe8,
        0x49, 0xc1, 0xe5, 0x03, 0x4c, 0x89, 0x24, 0x24,
        0x4c, 0x89, 0xf7, 0x45, 0x31, 0xc9, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x03, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x12, 0x49,
        0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_PyEvalFramePushAndInit+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEvalFramePushAndInit);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xe, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x88, (uintptr_t)data + -0x4);
    patch_32r(code + 0xad, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xb7, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__PY_FRAME_KW(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _PY_FRAME_KW.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: b8 fe ff ff ff                movl    $0xfffffffe, %eax       ## imm = 0xFFFFFFFE
    // 14: 29 c8                         subl    %ecx, %eax
    // 16: 48 63 d0                      movslq  %eax, %rdx
    // 19: be fd ff ff ff                movl    $0xfffffffd, %esi       ## imm = 0xFFFFFFFD
    // 1e: 29 ce                         subl    %ecx, %esi
    // 20: 31 ff                         xorl    %edi, %edi
    // 22: 31 c0                         xorl    %eax, %eax
    // 24: 49 83 7c d5 00 00             cmpq    $0x0, (%r13,%rdx,8)
    // 2a: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 2e: 40 0f 94 c7                   sete    %dil
    // 32: 0f 95 c0                      setne   %al
    // 35: 01 c8                         addl    %ecx, %eax
    // 37: f7 d1                         notl    %ecx
    // 39: 48 63 c9                      movslq  %ecx, %rcx
    // 3c: 48 8d 0c cd 00 00 00 00       leaq    (,%rcx,8), %rcx
    // 44: 4c 01 e9                      addq    %r13, %rcx
    // 47: 4c 63 fe                      movslq  %esi, %r15
    // 4a: 4b 8b 54 fd 00                movq    (%r13,%r15,8), %rdx
    // 4f: 48 8d 0c f9                   leaq    (%rcx,%rdi,8), %rcx
    // 53: 48 83 c1 f8                   addq    $-0x8, %rcx
    // 57: 48 8b 72 30                   movq    0x30(%rdx), %rsi
    // 5b: 2b 43 10                      subl    0x10(%rbx), %eax
    // 5e: f6 46 30 01                   testb   $0x1, 0x30(%rsi)
    // 62: 75 10                         jne     0x74 <__JIT_ENTRY+0x74>
    // 64: 48 8b 52 10                   movq    0x10(%rdx), %rdx
    // 68: 8b 32                         movl    (%rdx), %esi
    // 6a: 85 f6                         testl   %esi, %esi
    // 6c: 78 08                         js      0x76 <__JIT_ENTRY+0x76>
    // 6e: ff c6                         incl    %esi
    // 70: 89 32                         movl    %esi, (%rdx)
    // 72: eb 02                         jmp     0x76 <__JIT_ENTRY+0x76>
    // 74: 31 d2                         xorl    %edx, %edx
    // 76: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 7b: 4c 63 c0                      movslq  %eax, %r8
    // 7e: 4b 8b 74 fd 00                movq    (%r13,%r15,8), %rsi
    // 83: 4c 89 24 24                   movq    %r12, (%rsp)
    // 87: 4c 89 f7                      movq    %r14, %rdi
    // 8a: 49 89 d9                      movq    %rbx, %r9
    // 8d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x93 <__JIT_ENTRY+0x93>
    // 000000000000008f:  X86_64_RELOC_GOT     __PyEvalFramePushAndInit@GOTPCREL
    // 93: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 98: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // a1: 8b 0b                         movl    (%rbx), %ecx
    // a3: 85 c9                         testl   %ecx, %ecx
    // a5: 78 06                         js      0xad <__JIT_ENTRY+0xad>
    // a7: ff c9                         decl    %ecx
    // a9: 89 0b                         movl    %ecx, (%rbx)
    // ab: 74 1c                         je      0xc9 <__JIT_ENTRY+0xc9>
    // ad: 4f 8d 6c fd 00                leaq    (%r13,%r15,8), %r13
    // b2: 48 85 c0                      testq   %rax, %rax
    // b5: 74 2b                         je      0xe2 <__JIT_ENTRY+0xe2>
    // b7: 49 89 45 00                   movq    %rax, (%r13)
    // bb: 49 83 c5 08                   addq    $0x8, %r13
    // bf: 48 83 c4 10                   addq    $0x10, %rsp
    // c3: 5d                            popq    %rbp
    // c4: e9 00 00 00 00                jmp     0xc9 <__JIT_ENTRY+0xc9>
    // 00000000000000c5:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // c9: 48 89 df                      movq    %rbx, %rdi
    // cc: 48 89 c3                      movq    %rax, %rbx
    // cf: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd5 <__JIT_ENTRY+0xd5>
    // 00000000000000d1:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // d5: 48 89 d8                      movq    %rbx, %rax
    // d8: 4f 8d 6c fd 00                leaq    (%r13,%r15,8), %r13
    // dd: 48 85 c0                      testq   %rax, %rax
    // e0: 75 d5                         jne     0xb7 <__JIT_ENTRY+0xb7>
    // e2: 48 83 c4 10                   addq    $0x10, %rsp
    // e6: 5d                            popq    %rbp
    // e7: e9 00 00 00 00                jmp     0xec <__JIT_ENTRY+0xec>
    // 00000000000000e8:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[236] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00, 0xb8,
        0xfe, 0xff, 0xff, 0xff, 0x29, 0xc8, 0x48, 0x63,
        0xd0, 0xbe, 0xfd, 0xff, 0xff, 0xff, 0x29, 0xce,
        0x31, 0xff, 0x31, 0xc0, 0x49, 0x83, 0x7c, 0xd5,
        0x00, 0x00, 0x49, 0x8b, 0x5d, 0xf8, 0x40, 0x0f,
        0x94, 0xc7, 0x0f, 0x95, 0xc0, 0x01, 0xc8, 0xf7,
        0xd1, 0x48, 0x63, 0xc9, 0x48, 0x8d, 0x0c, 0xcd,
        0x00, 0x00, 0x00, 0x00, 0x4c, 0x01, 0xe9, 0x4c,
        0x63, 0xfe, 0x4b, 0x8b, 0x54, 0xfd, 0x00, 0x48,
        0x8d, 0x0c, 0xf9, 0x48, 0x83, 0xc1, 0xf8, 0x48,
        0x8b, 0x72, 0x30, 0x2b, 0x43, 0x10, 0xf6, 0x46,
        0x30, 0x01, 0x75, 0x10, 0x48, 0x8b, 0x52, 0x10,
        0x8b, 0x32, 0x85, 0xf6, 0x78, 0x08, 0xff, 0xc6,
        0x89, 0x32, 0xeb, 0x02, 0x31, 0xd2, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x4c, 0x63, 0xc0, 0x4b, 0x8b,
        0x74, 0xfd, 0x00, 0x4c, 0x89, 0x24, 0x24, 0x4c,
        0x89, 0xf7, 0x49, 0x89, 0xd9, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40,
        0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x06, 0xff,
        0xc9, 0x89, 0x0b, 0x74, 0x1c, 0x4f, 0x8d, 0x6c,
        0xfd, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x2b, 0x49,
        0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x48,
        0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xd8,
        0x4f, 0x8d, 0x6c, 0xfd, 0x00, 0x48, 0x85, 0xc0,
        0x75, 0xd5, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEvalFramePushAndInit+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEvalFramePushAndInit);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x8f, (uintptr_t)data + 0x4);
    patch_32r(code + 0xc5, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xd1, (uintptr_t)data + -0x4);
    patch_32r(code + 0xe8, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__REPLACE_WITH_TRUE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _REPLACE_WITH_TRUE.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 8: 8b 07                         movl    (%rdi), %eax
    // a: 85 c0                         testl   %eax, %eax
    // c: 78 06                         js      0x14 <__JIT_ENTRY+0x14>
    // e: ff c8                         decl    %eax
    // 10: 89 07                         movl    %eax, (%rdi)
    // 12: 74 11                         je      0x25 <__JIT_ENTRY+0x25>
    // 14: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 1b: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 1f: 5d                            popq    %rbp
    // 20: e9 00 00 00 00                jmp     0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 2b: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 32: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 36: 5d                            popq    %rbp
    // 37: e9 00 00 00 00                jmp     0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[55] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7d, 0xf8,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x07, 0x74, 0x11, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x45, 0xf8, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x89, 0x45, 0xf8, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_Dealloc+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x17, (uintptr_t)data + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x27, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2e, (uintptr_t)data + -0x4);
}

void
emit__RESUME_CHECK(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _RESUME_CHECK.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 46 18                   movq    0x18(%r14), %rax
    // 8: 49 8b 0c 24                   movq    (%r12), %rcx
    // c: 48 3b 81 a8 00 00 00          cmpq    0xa8(%rcx), %rax
    // 13: 75 06                         jne     0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    const unsigned char code_body[33] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x46, 0x18,
        0x49, 0x8b, 0x0c, 0x24, 0x48, 0x3b, 0x81, 0xa8,
        0x00, 0x00, 0x00, 0x75, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x1d, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__RETURN_GENERATOR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _RETURN_GENERATOR.o:       file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 7c 24 10                movq    0x10(%r12), %rdi
    // 9: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x14 <__JIT_ENTRY+0x14>
    // 0000000000000010:  X86_64_RELOC_GOT     __Py_MakeCoro@GOTPCREL
    // 14: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 19: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 22: 48 85 c0                      testq   %rax, %rax
    // 25: 0f 84 ae 01 00 00             je      0x1d9 <__JIT_ENTRY+0x1d9>
    // 2b: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 30: 49 83 44 24 38 02             addq    $0x2, 0x38(%r12)
    // 36: 49 8b 4c 24 50                movq    0x50(%r12), %rcx
    // 3b: 48 89 88 98 00 00 00          movq    %rcx, 0x98(%rax)
    // 42: 41 0f 10 04 24                movups  (%r12), %xmm0
    // 47: 41 0f 10 4c 24 10             movups  0x10(%r12), %xmm1
    // 4d: 41 0f 10 54 24 20             movups  0x20(%r12), %xmm2
    // 53: 0f 11 50 68                   movups  %xmm2, 0x68(%rax)
    // 57: 0f 11 48 58                   movups  %xmm1, 0x58(%rax)
    // 5b: 0f 11 40 48                   movups  %xmm0, 0x48(%rax)
    // 5f: 41 0f 10 44 24 40             movups  0x40(%r12), %xmm0
    // 65: 0f 11 80 88 00 00 00          movups  %xmm0, 0x88(%rax)
    // 6c: 41 0f 10 44 24 30             movups  0x30(%r12), %xmm0
    // 72: 0f 11 40 78                   movups  %xmm0, 0x78(%rax)
    // 76: 49 8d 54 24 50                leaq    0x50(%r12), %rdx
    // 7b: 49 8b 74 24 40                movq    0x40(%r12), %rsi
    // 80: 48 29 d6                      subq    %rdx, %rsi
    // 83: 48 c1 ee 03                   shrq    $0x3, %rsi
    // 87: 48 63 ce                      movslq  %esi, %rcx
    // 8a: 48 8d 3c c8                   leaq    (%rax,%rcx,8), %rdi
    // 8e: 48 81 c7 98 00 00 00          addq    $0x98, %rdi
    // 95: 48 89 b8 88 00 00 00          movq    %rdi, 0x88(%rax)
    // 9c: 83 f9 02                      cmpl    $0x2, %ecx
    // 9f: 0f 8c e8 00 00 00             jl      0x18d <__JIT_ENTRY+0x18d>
    // a5: 89 f1                         movl    %esi, %ecx
    // a7: 81 e1 ff ff ff 7f             andl    $0x7fffffff, %ecx       ## imm = 0x7FFFFFFF
    // ad: 4c 8d 41 ff                   leaq    -0x1(%rcx), %r8
    // b1: bf 01 00 00 00                movl    $0x1, %edi
    // b6: 49 83 f8 08                   cmpq    $0x8, %r8
    // ba: 72 54                         jb      0x110 <__JIT_ENTRY+0x110>
    // bc: 49 89 c1                      movq    %rax, %r9
    // bf: 4d 29 e1                      subq    %r12, %r9
    // c2: 49 83 c1 48                   addq    $0x48, %r9
    // c6: 49 83 f9 20                   cmpq    $0x20, %r9
    // ca: 72 44                         jb      0x110 <__JIT_ENTRY+0x110>
    // cc: 4d 89 c1                      movq    %r8, %r9
    // cf: 49 83 e1 fc                   andq    $-0x4, %r9
    // d3: 49 8d 79 01                   leaq    0x1(%r9), %rdi
    // d7: 45 31 d2                      xorl    %r10d, %r10d
    // da: 66 0f 1f 44 00 00             nopw    (%rax,%rax)
    // e0: 43 0f 10 44 d4 58             movups  0x58(%r12,%r10,8), %xmm0
    // e6: 43 0f 10 4c d4 68             movups  0x68(%r12,%r10,8), %xmm1
    // ec: 42 0f 11 84 d0 a0 00 00 00    movups  %xmm0, 0xa0(%rax,%r10,8)
    // f5: 42 0f 11 8c d0 b0 00 00 00    movups  %xmm1, 0xb0(%rax,%r10,8)
    // fe: 49 83 c2 04                   addq    $0x4, %r10
    // 102: 4d 39 d1                      cmpq    %r10, %r9
    // 105: 75 d9                         jne     0xe0 <__JIT_ENTRY+0xe0>
    // 107: 4d 39 c8                      cmpq    %r9, %r8
    // 10a: 0f 84 7d 00 00 00             je      0x18d <__JIT_ENTRY+0x18d>
    // 110: 29 fe                         subl    %edi, %esi
    // 112: 49 89 f8                      movq    %rdi, %r8
    // 115: 83 e6 03                      andl    $0x3, %esi
    // 118: 74 26                         je      0x140 <__JIT_ENTRY+0x140>
    // 11a: 49 89 c1                      movq    %rax, %r9
    // 11d: 49 81 c1 98 00 00 00          addq    $0x98, %r9
    // 124: 49 89 f8                      movq    %rdi, %r8
    // 127: 66 0f 1f 84 00 00 00 00 00    nopw    (%rax,%rax)
    // 130: 4e 8b 14 c2                   movq    (%rdx,%r8,8), %r10
    // 134: 4f 89 14 c1                   movq    %r10, (%r9,%r8,8)
    // 138: 49 ff c0                      incq    %r8
    // 13b: 48 ff ce                      decq    %rsi
    // 13e: 75 f0                         jne     0x130 <__JIT_ENTRY+0x130>
    // 140: 48 29 cf                      subq    %rcx, %rdi
    // 143: 48 83 ff fc                   cmpq    $-0x4, %rdi
    // 147: 77 44                         ja      0x18d <__JIT_ENTRY+0x18d>
    // 149: 0f 1f 80 00 00 00 00          nopl    (%rax)
    // 150: 4b 8b 54 c4 50                movq    0x50(%r12,%r8,8), %rdx
    // 155: 4a 89 94 c0 98 00 00 00       movq    %rdx, 0x98(%rax,%r8,8)
    // 15d: 4b 8b 54 c4 58                movq    0x58(%r12,%r8,8), %rdx
    // 162: 4a 89 94 c0 a0 00 00 00       movq    %rdx, 0xa0(%rax,%r8,8)
    // 16a: 4b 8b 54 c4 60                movq    0x60(%r12,%r8,8), %rdx
    // 16f: 4a 89 94 c0 a8 00 00 00       movq    %rdx, 0xa8(%rax,%r8,8)
    // 177: 4b 8b 54 c4 68                movq    0x68(%r12,%r8,8), %rdx
    // 17c: 4a 89 94 c0 b0 00 00 00       movq    %rdx, 0xb0(%rax,%r8,8)
    // 184: 49 83 c0 04                   addq    $0x4, %r8
    // 188: 4c 39 c1                      cmpq    %r8, %rcx
    // 18b: 75 c3                         jne     0x150 <__JIT_ENTRY+0x150>
    // 18d: 48 c7 40 50 00 00 00 00       movq    $0x0, 0x50(%rax)
    // 195: c6 40 43 fd                   movb    $-0x3, 0x43(%rax)
    // 199: c6 80 92 00 00 00 01          movb    $0x1, 0x92(%rax)
    // 1a0: 41 ff 46 2c                   incl    0x2c(%r14)
    // 1a4: 49 8b 5c 24 08                movq    0x8(%r12), %rbx
    // 1a9: 4c 89 f7                      movq    %r14, %rdi
    // 1ac: 4c 89 e6                      movq    %r12, %rsi
    // 1af: 49 89 c7                      movq    %rax, %r15
    // 1b2: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x1b8 <__JIT_ENTRY+0x1b8>
    // 00000000000001b4:  X86_64_RELOC_GOT     __PyThreadState_PopFrame@GOTPCREL
    // 1b8: 49 89 5e 48                   movq    %rbx, 0x48(%r14)
    // 1bc: 4c 8b 6b 40                   movq    0x40(%rbx), %r13
    // 1c0: 48 c7 43 40 00 00 00 00       movq    $0x0, 0x40(%rbx)
    // 1c8: 4d 89 7d 00                   movq    %r15, (%r13)
    // 1cc: 49 83 c5 08                   addq    $0x8, %r13
    // 1d0: 49 89 dc                      movq    %rbx, %r12
    // 1d3: 5d                            popq    %rbp
    // 1d4: e9 00 00 00 00                jmp     0x1d9 <__JIT_ENTRY+0x1d9>
    // 00000000000001d5:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1d9: 5d                            popq    %rbp
    // 1da: e9 00 00 00 00                jmp     0x1df <__JIT_ENTRY+0x1df>
    // 00000000000001db:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[479] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x7c, 0x24,
        0x10, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x0f, 0x84, 0xae,
        0x01, 0x00, 0x00, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x49, 0x83, 0x44, 0x24, 0x38, 0x02, 0x49, 0x8b,
        0x4c, 0x24, 0x50, 0x48, 0x89, 0x88, 0x98, 0x00,
        0x00, 0x00, 0x41, 0x0f, 0x10, 0x04, 0x24, 0x41,
        0x0f, 0x10, 0x4c, 0x24, 0x10, 0x41, 0x0f, 0x10,
        0x54, 0x24, 0x20, 0x0f, 0x11, 0x50, 0x68, 0x0f,
        0x11, 0x48, 0x58, 0x0f, 0x11, 0x40, 0x48, 0x41,
        0x0f, 0x10, 0x44, 0x24, 0x40, 0x0f, 0x11, 0x80,
        0x88, 0x00, 0x00, 0x00, 0x41, 0x0f, 0x10, 0x44,
        0x24, 0x30, 0x0f, 0x11, 0x40, 0x78, 0x49, 0x8d,
        0x54, 0x24, 0x50, 0x49, 0x8b, 0x74, 0x24, 0x40,
        0x48, 0x29, 0xd6, 0x48, 0xc1, 0xee, 0x03, 0x48,
        0x63, 0xce, 0x48, 0x8d, 0x3c, 0xc8, 0x48, 0x81,
        0xc7, 0x98, 0x00, 0x00, 0x00, 0x48, 0x89, 0xb8,
        0x88, 0x00, 0x00, 0x00, 0x83, 0xf9, 0x02, 0x0f,
        0x8c, 0xe8, 0x00, 0x00, 0x00, 0x89, 0xf1, 0x81,
        0xe1, 0xff, 0xff, 0xff, 0x7f, 0x4c, 0x8d, 0x41,
        0xff, 0xbf, 0x01, 0x00, 0x00, 0x00, 0x49, 0x83,
        0xf8, 0x08, 0x72, 0x54, 0x49, 0x89, 0xc1, 0x4d,
        0x29, 0xe1, 0x49, 0x83, 0xc1, 0x48, 0x49, 0x83,
        0xf9, 0x20, 0x72, 0x44, 0x4d, 0x89, 0xc1, 0x49,
        0x83, 0xe1, 0xfc, 0x49, 0x8d, 0x79, 0x01, 0x45,
        0x31, 0xd2, 0x66, 0x0f, 0x1f, 0x44, 0x00, 0x00,
        0x43, 0x0f, 0x10, 0x44, 0xd4, 0x58, 0x43, 0x0f,
        0x10, 0x4c, 0xd4, 0x68, 0x42, 0x0f, 0x11, 0x84,
        0xd0, 0xa0, 0x00, 0x00, 0x00, 0x42, 0x0f, 0x11,
        0x8c, 0xd0, 0xb0, 0x00, 0x00, 0x00, 0x49, 0x83,
        0xc2, 0x04, 0x4d, 0x39, 0xd1, 0x75, 0xd9, 0x4d,
        0x39, 0xc8, 0x0f, 0x84, 0x7d, 0x00, 0x00, 0x00,
        0x29, 0xfe, 0x49, 0x89, 0xf8, 0x83, 0xe6, 0x03,
        0x74, 0x26, 0x49, 0x89, 0xc1, 0x49, 0x81, 0xc1,
        0x98, 0x00, 0x00, 0x00, 0x49, 0x89, 0xf8, 0x66,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x4e, 0x8b, 0x14, 0xc2, 0x4f, 0x89, 0x14, 0xc1,
        0x49, 0xff, 0xc0, 0x48, 0xff, 0xce, 0x75, 0xf0,
        0x48, 0x29, 0xcf, 0x48, 0x83, 0xff, 0xfc, 0x77,
        0x44, 0x0f, 0x1f, 0x80, 0x00, 0x00, 0x00, 0x00,
        0x4b, 0x8b, 0x54, 0xc4, 0x50, 0x4a, 0x89, 0x94,
        0xc0, 0x98, 0x00, 0x00, 0x00, 0x4b, 0x8b, 0x54,
        0xc4, 0x58, 0x4a, 0x89, 0x94, 0xc0, 0xa0, 0x00,
        0x00, 0x00, 0x4b, 0x8b, 0x54, 0xc4, 0x60, 0x4a,
        0x89, 0x94, 0xc0, 0xa8, 0x00, 0x00, 0x00, 0x4b,
        0x8b, 0x54, 0xc4, 0x68, 0x4a, 0x89, 0x94, 0xc0,
        0xb0, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc0, 0x04,
        0x4c, 0x39, 0xc1, 0x75, 0xc3, 0x48, 0xc7, 0x40,
        0x50, 0x00, 0x00, 0x00, 0x00, 0xc6, 0x40, 0x43,
        0xfd, 0xc6, 0x80, 0x92, 0x00, 0x00, 0x00, 0x01,
        0x41, 0xff, 0x46, 0x2c, 0x49, 0x8b, 0x5c, 0x24,
        0x08, 0x4c, 0x89, 0xf7, 0x4c, 0x89, 0xe6, 0x49,
        0x89, 0xc7, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x5e, 0x48, 0x4c, 0x8b, 0x6b, 0x40,
        0x48, 0xc7, 0x43, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x4d, 0x89, 0x7d, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x49, 0x89, 0xdc, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_PyThreadState_PopFrame+0x0
    // 8: &_Py_MakeCoro+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyThreadState_PopFrame);
    patch_64(data + 0x8, (uintptr_t)&_Py_MakeCoro);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x10, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1b4, (uintptr_t)data + -0x4);
    patch_32r(code + 0x1d5, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x1db, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__RETURN_VALUE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _RETURN_VALUE.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4c 89 e6                      movq    %r12, %rsi
    // 7: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // b: 49 83 c5 f8                   addq    $-0x8, %r13
    // f: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 14: 41 ff 46 2c                   incl    0x2c(%r14)
    // 18: 4d 8b 64 24 08                movq    0x8(%r12), %r12
    // 1d: 4d 89 66 48                   movq    %r12, 0x48(%r14)
    // 21: 4c 89 f7                      movq    %r14, %rdi
    // 24: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_GOT     __PyEval_FrameClearAndPop@GOTPCREL
    // 2a: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2f: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 38: 49 89 5d 00                   movq    %rbx, (%r13)
    // 3c: 49 83 c5 08                   addq    $0x8, %r13
    // 40: 5d                            popq    %rbp
    // 41: e9 00 00 00 00                jmp     0x46 <__JIT_ENTRY+0x46>
    // 0000000000000042:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[65] = {
        0x55, 0x48, 0x89, 0xe5, 0x4c, 0x89, 0xe6, 0x49,
        0x8b, 0x5d, 0xf8, 0x49, 0x83, 0xc5, 0xf8, 0x4d,
        0x89, 0x6c, 0x24, 0x40, 0x41, 0xff, 0x46, 0x2c,
        0x4d, 0x8b, 0x64, 0x24, 0x08, 0x4d, 0x89, 0x66,
        0x48, 0x4c, 0x89, 0xf7, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49,
        0xc7, 0x44, 0x24, 0x40, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x5d, 0x00, 0x49, 0x83, 0xc5, 0x08,
        0x5d,
    };
    // 0: &_PyEval_FrameClearAndPop+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_PyEval_FrameClearAndPop);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x26, (uintptr_t)data + -0x4);
}

void
emit__SAVE_RETURN_OFFSET(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SAVE_RETURN_OFFSET.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 66 41 89 44 24 48             movw    %ax, 0x48(%r12)
    // 11: 5d                            popq    %rbp
    // 12: e9 00 00 00 00                jmp     0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[18] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x66, 0x41, 0x89, 0x44, 0x24,
        0x48, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__SEND_GEN_FRAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SEND_GEN_FRAME.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 48 8b 48 08                   movq    0x8(%rax), %rcx
    // c: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyGen_Type@GOTPCREL
    // 13: 0f 94 c2                      sete    %dl
    // 16: 48 3b 0d 00 00 00 00          cmpq    (%rip), %rcx            ## 0x1d <__JIT_ENTRY+0x1d>
    // 0000000000000019:  X86_64_RELOC_GOT     _PyCoro_Type@GOTPCREL
    // 1d: 0f 94 c1                      sete    %cl
    // 20: 08 d1                         orb     %dl, %cl
    // 22: 74 06                         je      0x2a <__JIT_ENTRY+0x2a>
    // 24: 80 78 43 00                   cmpb    $0x0, 0x43(%rax)
    // 28: 78 06                         js      0x30 <__JIT_ENTRY+0x30>
    // 2a: 5d                            popq    %rbp
    // 2b: e9 00 00 00 00                jmp     0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 30: 49 8b 4d f8                   movq    -0x8(%r13), %rcx
    // 34: 48 8d 50 48                   leaq    0x48(%rax), %rdx
    // 38: 48 8b b0 88 00 00 00          movq    0x88(%rax), %rsi
    // 3f: 48 89 0e                      movq    %rcx, (%rsi)
    // 42: 48 83 80 88 00 00 00 08       addq    $0x8, 0x88(%rax)
    // 4a: c6 40 43 00                   movb    $0x0, 0x43(%rax)
    // 4e: 49 8b 4e 78                   movq    0x78(%r14), %rcx
    // 52: 48 8d 70 28                   leaq    0x28(%rax), %rsi
    // 56: 48 89 48 30                   movq    %rcx, 0x30(%rax)
    // 5a: 49 89 76 78                   movq    %rsi, 0x78(%r14)
    // 5e: 8b 0d 00 00 00 00             movl    (%rip), %ecx            ## 0x64 <__JIT_ENTRY+0x64>
    // 0000000000000060:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 64: 83 c1 02                      addl    $0x2, %ecx
    // 67: 66 41 89 4c 24 48             movw    %cx, 0x48(%r12)
    // 6d: 4c 89 60 50                   movq    %r12, 0x50(%rax)
    // 71: 49 89 55 f8                   movq    %rdx, -0x8(%r13)
    // 75: 5d                            popq    %rbp
    // 76: e9 00 00 00 00                jmp     0x7b <__JIT_ENTRY+0x7b>
    // 0000000000000077:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[118] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x48, 0x8b, 0x48, 0x08, 0x48, 0x3b, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x0f, 0x94, 0xc2, 0x48, 0x3b,
        0x0d, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x94, 0xc1,
        0x08, 0xd1, 0x74, 0x06, 0x80, 0x78, 0x43, 0x00,
        0x78, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x8b, 0x4d, 0xf8, 0x48, 0x8d, 0x50, 0x48,
        0x48, 0x8b, 0xb0, 0x88, 0x00, 0x00, 0x00, 0x48,
        0x89, 0x0e, 0x48, 0x83, 0x80, 0x88, 0x00, 0x00,
        0x00, 0x08, 0xc6, 0x40, 0x43, 0x00, 0x49, 0x8b,
        0x4e, 0x78, 0x48, 0x8d, 0x70, 0x28, 0x48, 0x89,
        0x48, 0x30, 0x49, 0x89, 0x76, 0x78, 0x8b, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x83, 0xc1, 0x02, 0x66,
        0x41, 0x89, 0x4c, 0x24, 0x48, 0x4c, 0x89, 0x60,
        0x50, 0x49, 0x89, 0x55, 0xf8, 0x5d,
    };
    // 0: OPARG
    // 8: &PyCoro_Type+0x0
    // 10: &PyGen_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    patch_64(data + 0x8, (uintptr_t)&PyCoro_Type);
    patch_64(data + 0x10, (uintptr_t)&PyGen_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x19, (uintptr_t)data + 0x4);
    patch_32r(code + 0x2c, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x60, (uintptr_t)data + -0x4);
}

void
emit__SETUP_ANNOTATIONS(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SETUP_ANNOTATIONS.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 49 8b 7c 24 28                movq    0x28(%r12), %rdi
    // d: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 12: 48 85 ff                      testq   %rdi, %rdi
    // 15: 74 4b                         je      0x62 <__JIT_ENTRY+0x62>
    // 17: be 18 8e 00 00                movl    $0x8e18, %esi           ## imm = 0x8E18
    // 1c: 48 03 35 00 00 00 00          addq    (%rip), %rsi            ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 23: 48 8d 55 f8                   leaq    -0x8(%rbp), %rdx
    // 27: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2d <__JIT_ENTRY+0x2d>
    // 0000000000000029:  X86_64_RELOC_GOT     _PyMapping_GetOptionalItem@GOTPCREL
    // 2d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 32: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3b: 85 c0                         testl   %eax, %eax
    // 3d: 78 4d                         js      0x8c <__JIT_ENTRY+0x8c>
    // 3f: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // 43: 48 85 ff                      testq   %rdi, %rdi
    // 46: 74 4e                         je      0x96 <__JIT_ENTRY+0x96>
    // 48: 8b 07                         movl    (%rdi), %eax
    // 4a: 85 c0                         testl   %eax, %eax
    // 4c: 78 0a                         js      0x58 <__JIT_ENTRY+0x58>
    // 4e: ff c8                         decl    %eax
    // 50: 89 07                         movl    %eax, (%rdi)
    // 52: 0f 84 b0 00 00 00             je      0x108 <__JIT_ENTRY+0x108>
    // 58: 48 83 c4 10                   addq    $0x10, %rsp
    // 5c: 5d                            popq    %rbp
    // 5d: e9 00 00 00 00                jmp     0x62 <__JIT_ENTRY+0x62>
    // 000000000000005e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 62: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x69 <__JIT_ENTRY+0x69>
    // 0000000000000065:  X86_64_RELOC_GOT_LOAD        _PyExc_SystemError@GOTPCREL
    // 69: 48 8b 30                      movq    (%rax), %rsi
    // 6c: 48 8d 15 a5 00 00 00          leaq    0xa5(%rip), %rdx        ## 0x118 <__JIT_ENTRY+0x118>
    // 000000000000006f:  X86_64_RELOC_SIGNED  __cstring
    // 73: 4c 89 f7                      movq    %r14, %rdi
    // 76: 31 c0                         xorl    %eax, %eax
    // 78: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7e <__JIT_ENTRY+0x7e>
    // 000000000000007a:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // 7e: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 83: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 8c: 48 83 c4 10                   addq    $0x10, %rsp
    // 90: 5d                            popq    %rbp
    // 91: e9 00 00 00 00                jmp     0x96 <__JIT_ENTRY+0x96>
    // 0000000000000092:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 96: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 9b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xa1 <__JIT_ENTRY+0xa1>
    // 000000000000009d:  X86_64_RELOC_GOT     _PyDict_New@GOTPCREL
    // a1: 48 89 45 f8                   movq    %rax, -0x8(%rbp)
    // a5: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // aa: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // b3: 48 85 c0                      testq   %rax, %rax
    // b6: 74 d4                         je      0x8c <__JIT_ENTRY+0x8c>
    // b8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // bd: 49 8b 7c 24 28                movq    0x28(%r12), %rdi
    // c2: be 18 8e 00 00                movl    $0x8e18, %esi           ## imm = 0x8E18
    // c7: 48 03 35 00 00 00 00          addq    (%rip), %rsi            ## 0xce <__JIT_ENTRY+0xce>
    // 00000000000000ca:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // ce: 48 89 c2                      movq    %rax, %rdx
    // d1: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd7 <__JIT_ENTRY+0xd7>
    // 00000000000000d3:  X86_64_RELOC_GOT     _PyObject_SetItem@GOTPCREL
    // d7: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // dc: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // e5: 48 8b 7d f8                   movq    -0x8(%rbp), %rdi
    // e9: 8b 0f                         movl    (%rdi), %ecx
    // eb: 85 c9                         testl   %ecx, %ecx
    // ed: 78 10                         js      0xff <__JIT_ENTRY+0xff>
    // ef: ff c9                         decl    %ecx
    // f1: 89 0f                         movl    %ecx, (%rdi)
    // f3: 75 0a                         jne     0xff <__JIT_ENTRY+0xff>
    // f5: 89 c3                         movl    %eax, %ebx
    // f7: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xfd <__JIT_ENTRY+0xfd>
    // 00000000000000f9:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // fd: 89 d8                         movl    %ebx, %eax
    // ff: 85 c0                         testl   %eax, %eax
    // 101: 75 89                         jne     0x8c <__JIT_ENTRY+0x8c>
    // 103: e9 50 ff ff ff                jmp     0x58 <__JIT_ENTRY+0x58>
    // 108: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x10e <__JIT_ENTRY+0x10e>
    // 000000000000010a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 10e: 48 83 c4 10                   addq    $0x10, %rsp
    // 112: 5d                            popq    %rbp
    // 113: e9 00 00 00 00                jmp     0x118 <__JIT_ENTRY+0x118>
    // 0000000000000114:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[275] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x49, 0x8b, 0x7c, 0x24, 0x28, 0x4d, 0x89, 0x6c,
        0x24, 0x40, 0x48, 0x85, 0xff, 0x74, 0x4b, 0xbe,
        0x18, 0x8e, 0x00, 0x00, 0x48, 0x03, 0x35, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8d, 0x55, 0xf8, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x85, 0xc0, 0x78, 0x4d, 0x48,
        0x8b, 0x7d, 0xf8, 0x48, 0x85, 0xff, 0x74, 0x4e,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x0a, 0xff, 0xc8,
        0x89, 0x07, 0x0f, 0x84, 0xb0, 0x00, 0x00, 0x00,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x8b, 0x30, 0x48, 0x8d, 0x15, 0xa5,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0x31, 0xc0,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0x45, 0xf8, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0xd4,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49, 0x8b, 0x7c,
        0x24, 0x28, 0xbe, 0x18, 0x8e, 0x00, 0x00, 0x48,
        0x03, 0x35, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89,
        0xc2, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x7d,
        0xf8, 0x8b, 0x0f, 0x85, 0xc9, 0x78, 0x10, 0xff,
        0xc9, 0x89, 0x0f, 0x75, 0x0a, 0x89, 0xc3, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x89, 0xd8, 0x85,
        0xc0, 0x75, 0x89, 0xe9, 0x50, 0xff, 0xff, 0xff,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x83,
        0xc4, 0x10, 0x5d,
    };
    // 0: 'no locals found when setting up annotations\x00'
    // 2c: 00 00 00 00
    // 30: &_Py_Dealloc+0x0
    // 38: &PyObject_SetItem+0x0
    // 40: &_PyRuntime+0x0
    // 48: &PyDict_New+0x0
    // 50: &_PyErr_Format+0x0
    // 58: &PyExc_SystemError+0x0
    // 60: &PyMapping_GetOptionalItem+0x0
    const unsigned char data_body[104] = {
        0x6e, 0x6f, 0x20, 0x6c, 0x6f, 0x63, 0x61, 0x6c,
        0x73, 0x20, 0x66, 0x6f, 0x75, 0x6e, 0x64, 0x20,
        0x77, 0x68, 0x65, 0x6e, 0x20, 0x73, 0x65, 0x74,
        0x74, 0x69, 0x6e, 0x67, 0x20, 0x75, 0x70, 0x20,
        0x61, 0x6e, 0x6e, 0x6f, 0x74, 0x61, 0x74, 0x69,
        0x6f, 0x6e, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x30, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x38, (uintptr_t)&PyObject_SetItem);
    patch_64(data + 0x40, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x48, (uintptr_t)&PyDict_New);
    patch_64(data + 0x50, (uintptr_t)&_PyErr_Format);
    patch_64(data + 0x58, (uintptr_t)&PyExc_SystemError);
    patch_64(data + 0x60, (uintptr_t)&PyMapping_GetOptionalItem);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1f, (uintptr_t)data + 0x3c);
    patch_x86_64_32rx(code + 0x29, (uintptr_t)data + 0x5c);
    patch_32r(code + 0x5e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x65, (uintptr_t)data + 0x54);
    patch_32r(code + 0x6f, (uintptr_t)data + 0x1b9);
    patch_x86_64_32rx(code + 0x7a, (uintptr_t)data + 0x4c);
    patch_32r(code + 0x92, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x9d, (uintptr_t)data + 0x44);
    patch_x86_64_32rx(code + 0xca, (uintptr_t)data + 0x3c);
    patch_x86_64_32rx(code + 0xd3, (uintptr_t)data + 0x34);
    patch_x86_64_32rx(code + 0xf9, (uintptr_t)data + 0x2c);
    patch_x86_64_32rx(code + 0x10a, (uintptr_t)data + 0x2c);
}

void
emit__SET_ADD(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SET_ADD.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 8b 05 00 00 00 00             movl    (%rip), %eax            ## 0xa <__JIT_ENTRY+0xa>
    // 0000000000000006:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // a: f7 d0                         notl    %eax
    // c: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 10: c1 e0 03                      shll    $0x3, %eax
    // 13: 48 0d 00 00 f8 ff             orq     $-0x80000, %rax         ## imm = 0xFFF80000
    // 19: 49 8b 7c 05 00                movq    (%r13,%rax), %rdi
    // 1e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 23: 48 89 de                      movq    %rbx, %rsi
    // 26: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_GOT     _PySet_Add@GOTPCREL
    // 2c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 31: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3a: 8b 0b                         movl    (%rbx), %ecx
    // 3c: 85 c9                         testl   %ecx, %ecx
    // 3e: 78 06                         js      0x46 <__JIT_ENTRY+0x46>
    // 40: ff c9                         decl    %ecx
    // 42: 89 0b                         movl    %ecx, (%rbx)
    // 44: 74 0a                         je      0x50 <__JIT_ENTRY+0x50>
    // 46: 85 c0                         testl   %eax, %eax
    // 48: 74 17                         je      0x61 <__JIT_ENTRY+0x61>
    // 4a: 5d                            popq    %rbp
    // 4b: e9 00 00 00 00                jmp     0x50 <__JIT_ENTRY+0x50>
    // 000000000000004c:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 50: 48 89 df                      movq    %rbx, %rdi
    // 53: 89 c3                         movl    %eax, %ebx
    // 55: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5b <__JIT_ENTRY+0x5b>
    // 0000000000000057:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5b: 89 d8                         movl    %ebx, %eax
    // 5d: 85 c0                         testl   %eax, %eax
    // 5f: 75 e9                         jne     0x4a <__JIT_ENTRY+0x4a>
    // 61: 49 83 c5 f8                   addq    $-0x8, %r13
    // 65: 5d                            popq    %rbp
    // 66: e9 00 00 00 00                jmp     0x6b <__JIT_ENTRY+0x6b>
    // 0000000000000067:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[102] = {
        0x55, 0x48, 0x89, 0xe5, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0xf7, 0xd0, 0x49, 0x8b, 0x5d, 0xf8,
        0xc1, 0xe0, 0x03, 0x48, 0x0d, 0x00, 0x00, 0xf8,
        0xff, 0x49, 0x8b, 0x7c, 0x05, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x89, 0xde, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x06,
        0xff, 0xc9, 0x89, 0x0b, 0x74, 0x0a, 0x85, 0xc0,
        0x74, 0x17, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0xdf, 0x89, 0xc3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x89, 0xd8, 0x85, 0xc0, 0x75,
        0xe9, 0x49, 0x83, 0xc5, 0xf8, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PySet_Add+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PySet_Add);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x6, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x28, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4c, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x57, (uintptr_t)data + -0x4);
}

void
emit__SET_FUNCTION_ATTRIBUTE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SET_FUNCTION_ATTRIBUTE.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // 8: 49 8b 4d f0                   movq    -0x10(%r13), %rcx
    // c: 49 8b 55 f8                   movq    -0x8(%r13), %rdx
    // 10: 0f b7 35 00 00 00 00          movzwl  (%rip), %esi            ## 0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 17: 48 8b 3d 00 00 00 00          movq    (%rip), %rdi            ## 0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_GOT_LOAD        __Py_FunctionAttributeOffsets@GOTPCREL
    // 1e: 48 8b 34 f7                   movq    (%rdi,%rsi,8), %rsi
    // 22: 48 89 0c 32                   movq    %rcx, (%rdx,%rsi)
    // 26: 49 89 55 f0                   movq    %rdx, -0x10(%r13)
    // 2a: 49 89 c5                      movq    %rax, %r13
    // 2d: 5d                            popq    %rbp
    // 2e: e9 00 00 00 00                jmp     0x33 <__JIT_ENTRY+0x33>
    // 000000000000002f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[46] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8d, 0x45, 0xf8,
        0x49, 0x8b, 0x4d, 0xf0, 0x49, 0x8b, 0x55, 0xf8,
        0x0f, 0xb7, 0x35, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x3d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x34, 0xf7, 0x48, 0x89, 0x0c, 0x32, 0x49, 0x89,
        0x55, 0xf0, 0x49, 0x89, 0xc5, 0x5d,
    };
    // 0: &_Py_FunctionAttributeOffsets+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_FunctionAttributeOffsets);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x13, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x1a, (uintptr_t)data + -0x4);
}

void
emit__SET_IP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SET_IP.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPERAND0@GOTPCREL
    // b: 49 89 44 24 38                movq    %rax, 0x38(%r12)
    // 10: 5d                            popq    %rbp
    // 11: e9 00 00 00 00                jmp     0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[17] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x89, 0x44, 0x24, 0x38,
        0x5d,
    };
    // 0: OPERAND0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__SET_UPDATE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SET_UPDATE.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 8b 05 00 00 00 00             movl    (%rip), %eax            ## 0xa <__JIT_ENTRY+0xa>
    // 0000000000000006:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // a: f7 d0                         notl    %eax
    // c: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 10: c1 e0 03                      shll    $0x3, %eax
    // 13: 48 0d 00 00 f8 ff             orq     $-0x80000, %rax         ## imm = 0xFFF80000
    // 19: 49 8b 7c 05 00                movq    (%r13,%rax), %rdi
    // 1e: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 23: 48 89 de                      movq    %rbx, %rsi
    // 26: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_GOT     __PySet_Update@GOTPCREL
    // 2c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 31: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3a: 8b 0b                         movl    (%rbx), %ecx
    // 3c: 85 c9                         testl   %ecx, %ecx
    // 3e: 78 06                         js      0x46 <__JIT_ENTRY+0x46>
    // 40: ff c9                         decl    %ecx
    // 42: 89 0b                         movl    %ecx, (%rbx)
    // 44: 74 0e                         je      0x54 <__JIT_ENTRY+0x54>
    // 46: 85 c0                         testl   %eax, %eax
    // 48: 78 1b                         js      0x65 <__JIT_ENTRY+0x65>
    // 4a: 49 83 c5 f8                   addq    $-0x8, %r13
    // 4e: 5d                            popq    %rbp
    // 4f: e9 00 00 00 00                jmp     0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 54: 48 89 df                      movq    %rbx, %rdi
    // 57: 89 c3                         movl    %eax, %ebx
    // 59: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5f <__JIT_ENTRY+0x5f>
    // 000000000000005b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5f: 89 d8                         movl    %ebx, %eax
    // 61: 85 c0                         testl   %eax, %eax
    // 63: 79 e5                         jns     0x4a <__JIT_ENTRY+0x4a>
    // 65: 5d                            popq    %rbp
    // 66: e9 00 00 00 00                jmp     0x6b <__JIT_ENTRY+0x6b>
    // 0000000000000067:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[107] = {
        0x55, 0x48, 0x89, 0xe5, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0xf7, 0xd0, 0x49, 0x8b, 0x5d, 0xf8,
        0xc1, 0xe0, 0x03, 0x48, 0x0d, 0x00, 0x00, 0xf8,
        0xff, 0x49, 0x8b, 0x7c, 0x05, 0x00, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x89, 0xde, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78, 0x06,
        0xff, 0xc9, 0x89, 0x0b, 0x74, 0x0e, 0x85, 0xc0,
        0x78, 0x1b, 0x49, 0x83, 0xc5, 0xf8, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0x89,
        0xc3, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x89,
        0xd8, 0x85, 0xc0, 0x79, 0xe5, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PySet_Update+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PySet_Update);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x6, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x28, (uintptr_t)data + 0x4);
    patch_32r(code + 0x50, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x5b, (uintptr_t)data + -0x4);
    patch_32r(code + 0x67, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__START_EXECUTOR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _START_EXECUTOR.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b be 10 01 00 00          movq    0x110(%r14), %rdi
    // 7: 8b 07                         movl    (%rdi), %eax
    // 9: 85 c0                         testl   %eax, %eax
    // b: 78 06                         js      0x13 <__JIT_ENTRY+0x13>
    // d: ff c8                         decl    %eax
    // f: 89 07                         movl    %eax, (%rdi)
    // 11: 74 10                         je      0x23 <__JIT_ENTRY+0x23>
    // 13: 49 c7 86 10 01 00 00 00 00 00 00      movq    $0x0, 0x110(%r14)
    // 1e: e9 00 00 00 00                jmp     0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 23: 55                            pushq   %rbp
    // 24: 48 89 e5                      movq    %rsp, %rbp
    // 27: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2d <__JIT_ENTRY+0x2d>
    // 0000000000000029:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 2d: 5d                            popq    %rbp
    // 2e: 49 c7 86 10 01 00 00 00 00 00 00      movq    $0x0, 0x110(%r14)
    // 39: e9 00 00 00 00                jmp     0x3e <__JIT_ENTRY+0x3e>
    // 000000000000003a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[57] = {
        0x49, 0x8b, 0xbe, 0x10, 0x01, 0x00, 0x00, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x07, 0x74, 0x10, 0x49, 0xc7, 0x86, 0x10, 0x01,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0x49, 0xc7,
        0x86, 0x10, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x1f, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x29, (uintptr_t)data + -0x4);
}

void
emit__STORE_ATTR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_ATTR.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 10: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 14: 49 8b 04 24                   movq    (%r12), %rax
    // 18: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 1c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x23 <__JIT_ENTRY+0x23>
    // 000000000000001f:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 23: 48 8b 74 c8 18                movq    0x18(%rax,%rcx,8), %rsi
    // 28: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2d: 48 89 df                      movq    %rbx, %rdi
    // 30: 4c 89 fa                      movq    %r15, %rdx
    // 33: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT     _PyObject_SetAttr@GOTPCREL
    // 39: 41 89 c6                      movl    %eax, %r14d
    // 3c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 41: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 4a: 41 8b 07                      movl    (%r15), %eax
    // 4d: 85 c0                         testl   %eax, %eax
    // 4f: 78 10                         js      0x61 <__JIT_ENTRY+0x61>
    // 51: ff c8                         decl    %eax
    // 53: 41 89 07                      movl    %eax, (%r15)
    // 56: 75 09                         jne     0x61 <__JIT_ENTRY+0x61>
    // 58: 4c 89 ff                      movq    %r15, %rdi
    // 5b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x61 <__JIT_ENTRY+0x61>
    // 000000000000005d:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 61: 8b 03                         movl    (%rbx), %eax
    // 63: 85 c0                         testl   %eax, %eax
    // 65: 78 06                         js      0x6d <__JIT_ENTRY+0x6d>
    // 67: ff c8                         decl    %eax
    // 69: 89 03                         movl    %eax, (%rbx)
    // 6b: 74 13                         je      0x80 <__JIT_ENTRY+0x80>
    // 6d: 45 85 f6                      testl   %r14d, %r14d
    // 70: 74 1c                         je      0x8e <__JIT_ENTRY+0x8e>
    // 72: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 76: 48 83 c4 10                   addq    $0x10, %rsp
    // 7a: 5d                            popq    %rbp
    // 7b: e9 00 00 00 00                jmp     0x80 <__JIT_ENTRY+0x80>
    // 000000000000007c:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 80: 48 89 df                      movq    %rbx, %rdi
    // 83: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x89 <__JIT_ENTRY+0x89>
    // 0000000000000085:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 89: 45 85 f6                      testl   %r14d, %r14d
    // 8c: 75 e4                         jne     0x72 <__JIT_ENTRY+0x72>
    // 8e: 49 83 c5 f0                   addq    $-0x10, %r13
    // 92: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 96: 48 83 c4 10                   addq    $0x10, %rsp
    // 9a: 5d                            popq    %rbp
    // 9b: e9 00 00 00 00                jmp     0xa0 <__JIT_ENTRY+0xa0>
    // 000000000000009c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[155] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x49, 0x8b, 0x04, 0x24,
        0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x74, 0xc8, 0x18,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf,
        0x4c, 0x89, 0xfa, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x89, 0xc6, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78,
        0x10, 0xff, 0xc8, 0x41, 0x89, 0x07, 0x75, 0x09,
        0x4c, 0x89, 0xff, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x03, 0x85, 0xc0, 0x78, 0x06, 0xff,
        0xc8, 0x89, 0x03, 0x74, 0x13, 0x45, 0x85, 0xf6,
        0x74, 0x1c, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83,
        0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x45, 0x85, 0xf6, 0x75, 0xe4, 0x49, 0x83,
        0xc5, 0xf0, 0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83,
        0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_SetAttr+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_SetAttr);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x1f, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x5d, (uintptr_t)data + -0x4);
    patch_32r(code + 0x7c, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x85, (uintptr_t)data + -0x4);
}

void
emit__STORE_ATTR_INSTANCE_VALUE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_ATTR_INSTANCE_VALUE.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 4d f0                   movq    -0x10(%r13), %rcx
    // 8: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // c: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 13: 48 8b 3c 03                   movq    (%rbx,%rax), %rdi
    // 17: 48 89 0c 03                   movq    %rcx, (%rbx,%rax)
    // 1b: 48 85 ff                      testq   %rdi, %rdi
    // 1e: 74 14                         je      0x34 <__JIT_ENTRY+0x34>
    // 20: 8b 07                         movl    (%rdi), %eax
    // 22: 85 c0                         testl   %eax, %eax
    // 24: 78 45                         js      0x6b <__JIT_ENTRY+0x6b>
    // 26: ff c8                         decl    %eax
    // 28: 89 07                         movl    %eax, (%rdi)
    // 2a: 75 3f                         jne     0x6b <__JIT_ENTRY+0x6b>
    // 2c: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 32: eb 37                         jmp     0x6b <__JIT_ENTRY+0x6b>
    // 34: 48 01 d8                      addq    %rbx, %rax
    // 37: 48 8b 4b 08                   movq    0x8(%rbx), %rcx
    // 3b: 48 8b 49 20                   movq    0x20(%rcx), %rcx
    // 3f: 48 8d 14 0b                   leaq    (%rbx,%rcx), %rdx
    // 43: 48 8d 34 0b                   leaq    (%rbx,%rcx), %rsi
    // 47: 48 83 c6 08                   addq    $0x8, %rsi
    // 4b: 29 f0                         subl    %esi, %eax
    // 4d: c1 e8 03                      shrl    $0x3, %eax
    // 50: 0f b6 74 0b 01                movzbl  0x1(%rbx,%rcx), %esi
    // 55: 0f b6 3c 0b                   movzbl  (%rbx,%rcx), %edi
    // 59: 48 8d 14 fa                   leaq    (%rdx,%rdi,8), %rdx
    // 5d: 48 83 c2 08                   addq    $0x8, %rdx
    // 61: 88 04 16                      movb    %al, (%rsi,%rdx)
    // 64: 8d 46 01                      leal    0x1(%rsi), %eax
    // 67: 88 44 0b 01                   movb    %al, 0x1(%rbx,%rcx)
    // 6b: 49 83 c5 f0                   addq    $-0x10, %r13
    // 6f: 8b 03                         movl    (%rbx), %eax
    // 71: 85 c0                         testl   %eax, %eax
    // 73: 78 06                         js      0x7b <__JIT_ENTRY+0x7b>
    // 75: ff c8                         decl    %eax
    // 77: 89 03                         movl    %eax, (%rbx)
    // 79: 74 06                         je      0x81 <__JIT_ENTRY+0x81>
    // 7b: 5d                            popq    %rbp
    // 7c: e9 00 00 00 00                jmp     0x81 <__JIT_ENTRY+0x81>
    // 000000000000007d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 81: 48 89 df                      movq    %rbx, %rdi
    // 84: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8a <__JIT_ENTRY+0x8a>
    // 0000000000000086:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 8a: 5d                            popq    %rbp
    // 8b: e9 00 00 00 00                jmp     0x90 <__JIT_ENTRY+0x90>
    // 000000000000008c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[139] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x4d, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x3c, 0x03, 0x48,
        0x89, 0x0c, 0x03, 0x48, 0x85, 0xff, 0x74, 0x14,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x45, 0xff, 0xc8,
        0x89, 0x07, 0x75, 0x3f, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0xeb, 0x37, 0x48, 0x01, 0xd8, 0x48,
        0x8b, 0x4b, 0x08, 0x48, 0x8b, 0x49, 0x20, 0x48,
        0x8d, 0x14, 0x0b, 0x48, 0x8d, 0x34, 0x0b, 0x48,
        0x83, 0xc6, 0x08, 0x29, 0xf0, 0xc1, 0xe8, 0x03,
        0x0f, 0xb6, 0x74, 0x0b, 0x01, 0x0f, 0xb6, 0x3c,
        0x0b, 0x48, 0x8d, 0x14, 0xfa, 0x48, 0x83, 0xc2,
        0x08, 0x88, 0x04, 0x16, 0x8d, 0x46, 0x01, 0x88,
        0x44, 0x0b, 0x01, 0x49, 0x83, 0xc5, 0xf0, 0x8b,
        0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x03, 0x74, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2e, (uintptr_t)data + -0x4);
    patch_32r(code + 0x7d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x86, (uintptr_t)data + -0x4);
}

void
emit__STORE_ATTR_SLOT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_ATTR_SLOT.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f0                   movq    -0x10(%r13), %rax
    // 8: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // c: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 13: 48 8b 3c 0b                   movq    (%rbx,%rcx), %rdi
    // 17: 48 89 04 0b                   movq    %rax, (%rbx,%rcx)
    // 1b: 48 85 ff                      testq   %rdi, %rdi
    // 1e: 74 12                         je      0x32 <__JIT_ENTRY+0x32>
    // 20: 8b 07                         movl    (%rdi), %eax
    // 22: 85 c0                         testl   %eax, %eax
    // 24: 78 0c                         js      0x32 <__JIT_ENTRY+0x32>
    // 26: ff c8                         decl    %eax
    // 28: 89 07                         movl    %eax, (%rdi)
    // 2a: 75 06                         jne     0x32 <__JIT_ENTRY+0x32>
    // 2c: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x32 <__JIT_ENTRY+0x32>
    // 000000000000002e:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 32: 49 83 c5 f0                   addq    $-0x10, %r13
    // 36: 8b 03                         movl    (%rbx), %eax
    // 38: 85 c0                         testl   %eax, %eax
    // 3a: 78 06                         js      0x42 <__JIT_ENTRY+0x42>
    // 3c: ff c8                         decl    %eax
    // 3e: 89 03                         movl    %eax, (%rbx)
    // 40: 74 06                         je      0x48 <__JIT_ENTRY+0x48>
    // 42: 5d                            popq    %rbp
    // 43: e9 00 00 00 00                jmp     0x48 <__JIT_ENTRY+0x48>
    // 0000000000000044:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 48: 48 89 df                      movq    %rbx, %rdi
    // 4b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x51 <__JIT_ENTRY+0x51>
    // 000000000000004d:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 51: 5d                            popq    %rbp
    // 52: e9 00 00 00 00                jmp     0x57 <__JIT_ENTRY+0x57>
    // 0000000000000053:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[82] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf0,
        0x49, 0x8b, 0x5d, 0xf8, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x8b, 0x3c, 0x0b, 0x48,
        0x89, 0x04, 0x0b, 0x48, 0x85, 0xff, 0x74, 0x12,
        0x8b, 0x07, 0x85, 0xc0, 0x78, 0x0c, 0xff, 0xc8,
        0x89, 0x07, 0x75, 0x06, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0xc5, 0xf0, 0x8b, 0x03,
        0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x03,
        0x74, 0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPERAND0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x2e, (uintptr_t)data + -0x4);
    patch_32r(code + 0x44, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x4d, (uintptr_t)data + -0x4);
}

void
emit__STORE_ATTR_WITH_HINT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_ATTR_WITH_HINT.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 4: 48 8b 53 e8                   movq    -0x18(%rbx), %rdx
    // 8: 48 85 d2                      testq   %rdx, %rdx
    // b: 0f 84 00 00 00 00             je      0x11 <__JIT_ENTRY+0x11>
    // 000000000000000d:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 11: 0f b7 35 00 00 00 00          movzwl  (%rip), %esi            ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT     __JIT_OPERAND0@GOTPCREL
    // 18: 48 8b 7a 20                   movq    0x20(%rdx), %rdi
    // 1c: 48 39 77 18                   cmpq    %rsi, 0x18(%rdi)
    // 20: 0f 86 00 00 00 00             jbe     0x26 <__JIT_ENTRY+0x26>
    // 0000000000000022:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 26: 80 7f 0a 00                   cmpb    $0x0, 0xa(%rdi)
    // 2a: 0f 84 00 00 00 00             je      0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 30: 49 8b 04 24                   movq    (%r12), %rax
    // 34: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 38: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 3f: 48 8b 44 c8 18                movq    0x18(%rax,%rcx,8), %rax
    // 44: 0f b6 4f 09                   movzbl  0x9(%rdi), %ecx
    // 48: 41 b8 01 00 00 00             movl    $0x1, %r8d
    // 4e: 49 d3 e0                      shlq    %cl, %r8
    // 51: 49 01 f8                      addq    %rdi, %r8
    // 54: c1 e6 04                      shll    $0x4, %esi
    // 57: 4a 39 44 06 20                cmpq    %rax, 0x20(%rsi,%r8)
    // 5c: 0f 85 00 00 00 00             jne     0x62 <__JIT_ENTRY+0x62>
    // 000000000000005e:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 62: 4e 8d 3c 06                   leaq    (%rsi,%r8), %r15
    // 66: 49 83 c7 20                   addq    $0x20, %r15
    // 6a: 49 8b 4f 08                   movq    0x8(%r15), %rcx
    // 6e: 48 85 c9                      testq   %rcx, %rcx
    // 71: 0f 84 00 00 00 00             je      0x77 <__JIT_ENTRY+0x77>
    // 0000000000000073:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 77: 55                            pushq   %rbp
    // 78: 48 89 e5                      movq    %rsp, %rbp
    // 7b: 48 83 ec 10                   subq    $0x10, %rsp
    // 7f: 4d 8b 45 f0                   movq    -0x10(%r13), %r8
    // 83: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 88: 0f b6 7a 18                   movzbl  0x18(%rdx), %edi
    // 8c: 85 ff                         testl   %edi, %edi
    // 8e: 74 21                         je      0xb1 <__JIT_ENTRY+0xb1>
    // 90: be 01 00 00 00                movl    $0x1, %esi
    // 95: 48 89 4d f8                   movq    %rcx, -0x8(%rbp)
    // 99: 48 89 c1                      movq    %rax, %rcx
    // 9c: 4d 89 c5                      movq    %r8, %r13
    // 9f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xa5 <__JIT_ENTRY+0xa5>
    // 00000000000000a1:  X86_64_RELOC_GOT     __PyDict_SendEvent@GOTPCREL
    // a5: 4d 89 e8                      movq    %r13, %r8
    // a8: 48 8b 4d f8                   movq    -0x8(%rbp), %rcx
    // ac: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // b1: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // ba: 4d 89 47 08                   movq    %r8, 0x8(%r15)
    // be: 8b 01                         movl    (%rcx), %eax
    // c0: 85 c0                         testl   %eax, %eax
    // c2: 78 0f                         js      0xd3 <__JIT_ENTRY+0xd3>
    // c4: ff c8                         decl    %eax
    // c6: 89 01                         movl    %eax, (%rcx)
    // c8: 75 09                         jne     0xd3 <__JIT_ENTRY+0xd3>
    // ca: 48 89 cf                      movq    %rcx, %rdi
    // cd: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd3 <__JIT_ENTRY+0xd3>
    // 00000000000000cf:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // d3: 8b 03                         movl    (%rbx), %eax
    // d5: 85 c0                         testl   %eax, %eax
    // d7: 78 06                         js      0xdf <__JIT_ENTRY+0xdf>
    // d9: ff c8                         decl    %eax
    // db: 89 03                         movl    %eax, (%rbx)
    // dd: 74 0e                         je      0xed <__JIT_ENTRY+0xed>
    // df: 49 83 c5 f0                   addq    $-0x10, %r13
    // e3: 48 83 c4 10                   addq    $0x10, %rsp
    // e7: 5d                            popq    %rbp
    // e8: e9 00 00 00 00                jmp     0xed <__JIT_ENTRY+0xed>
    // 00000000000000e9:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // ed: 48 89 df                      movq    %rbx, %rdi
    // f0: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xf6 <__JIT_ENTRY+0xf6>
    // 00000000000000f2:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // f6: 49 83 c5 f0                   addq    $-0x10, %r13
    // fa: 48 83 c4 10                   addq    $0x10, %rsp
    // fe: 5d                            popq    %rbp
    // ff: e9 00 00 00 00                jmp     0x104 <__JIT_ENTRY+0x104>
    // 0000000000000100:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[255] = {
        0x49, 0x8b, 0x5d, 0xf8, 0x48, 0x8b, 0x53, 0xe8,
        0x48, 0x85, 0xd2, 0x0f, 0x84, 0x00, 0x00, 0x00,
        0x00, 0x0f, 0xb7, 0x35, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x7a, 0x20, 0x48, 0x39, 0x77, 0x18,
        0x0f, 0x86, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7f,
        0x0a, 0x00, 0x0f, 0x84, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x8b, 0x04, 0x24, 0x48, 0x8b, 0x40, 0x20,
        0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x44, 0xc8, 0x18, 0x0f, 0xb6, 0x4f, 0x09,
        0x41, 0xb8, 0x01, 0x00, 0x00, 0x00, 0x49, 0xd3,
        0xe0, 0x49, 0x01, 0xf8, 0xc1, 0xe6, 0x04, 0x4a,
        0x39, 0x44, 0x06, 0x20, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x4e, 0x8d, 0x3c, 0x06, 0x49, 0x83,
        0xc7, 0x20, 0x49, 0x8b, 0x4f, 0x08, 0x48, 0x85,
        0xc9, 0x0f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10, 0x4d,
        0x8b, 0x45, 0xf0, 0x4d, 0x89, 0x6c, 0x24, 0x40,
        0x0f, 0xb6, 0x7a, 0x18, 0x85, 0xff, 0x74, 0x21,
        0xbe, 0x01, 0x00, 0x00, 0x00, 0x48, 0x89, 0x4d,
        0xf8, 0x48, 0x89, 0xc1, 0x4d, 0x89, 0xc5, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x89, 0xe8,
        0x48, 0x8b, 0x4d, 0xf8, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x89, 0x47, 0x08, 0x8b, 0x01,
        0x85, 0xc0, 0x78, 0x0f, 0xff, 0xc8, 0x89, 0x01,
        0x75, 0x09, 0x48, 0x89, 0xcf, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x03, 0x85, 0xc0, 0x78,
        0x06, 0xff, 0xc8, 0x89, 0x03, 0x74, 0x0e, 0x49,
        0x83, 0xc5, 0xf0, 0x48, 0x83, 0xc4, 0x10, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x49, 0x83,
        0xc5, 0xf0, 0x48, 0x83, 0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyDict_SendEvent+0x0
    // 10: OPARG
    // 18: OPERAND0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyDict_SendEvent);
    patch_64(data + 0x10, instruction->oparg);
    patch_64(data + 0x18, instruction->operand0);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0xd, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + 0x14);
    patch_32r(code + 0x22, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x2c, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x3b, (uintptr_t)data + 0xc);
    patch_32r(code + 0x5e, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x73, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0xa1, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xcf, (uintptr_t)data + -0x4);
    patch_32r(code + 0xe9, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xf2, (uintptr_t)data + -0x4);
}

void
emit__STORE_DEREF(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_DEREF.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 4c cc 50                movq    0x50(%r12,%rcx,8), %rcx
    // 10: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 15: 48 8b 79 10                   movq    0x10(%rcx), %rdi
    // 19: 48 89 41 10                   movq    %rax, 0x10(%rcx)
    // 1d: 48 85 ff                      testq   %rdi, %rdi
    // 20: 74 0c                         je      0x2e <__JIT_ENTRY+0x2e>
    // 22: 8b 07                         movl    (%rdi), %eax
    // 24: 85 c0                         testl   %eax, %eax
    // 26: 78 06                         js      0x2e <__JIT_ENTRY+0x2e>
    // 28: ff c8                         decl    %eax
    // 2a: 89 07                         movl    %eax, (%rdi)
    // 2c: 74 17                         je      0x45 <__JIT_ENTRY+0x45>
    // 2e: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 33: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3c: 49 83 c5 f8                   addq    $-0x8, %r13
    // 40: e9 00 00 00 00                jmp     0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 45: 55                            pushq   %rbp
    // 46: 48 89 e5                      movq    %rsp, %rbp
    // 49: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4f <__JIT_ENTRY+0x4f>
    // 000000000000004b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4f: 5d                            popq    %rbp
    // 50: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 55: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 5e: 49 83 c5 f8                   addq    $-0x8, %r13
    // 62: e9 00 00 00 00                jmp     0x67 <__JIT_ENTRY+0x67>
    // 0000000000000063:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[98] = {
        0x49, 0x8b, 0x45, 0xf8, 0x0f, 0xb7, 0x0d, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x4c, 0xcc, 0x50,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x8b, 0x79,
        0x10, 0x48, 0x89, 0x41, 0x10, 0x48, 0x85, 0xff,
        0x74, 0x0c, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06,
        0xff, 0xc8, 0x89, 0x07, 0x74, 0x17, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc5, 0xf8,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89,
        0xe5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d,
        0x4d, 0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44,
        0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x49, 0x83,
        0xc5, 0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_32r(code + 0x41, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x4b, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // f: 49 8b 7c cc 50                movq    0x50(%r12,%rcx,8), %rdi
    // 14: 49 89 44 cc 50                movq    %rax, 0x50(%r12,%rcx,8)
    // 19: 48 85 ff                      testq   %rdi, %rdi
    // 1c: 0f 84 00 00 00 00             je      0x22 <__JIT_ENTRY+0x22>
    // 000000000000001e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 22: 8b 07                         movl    (%rdi), %eax
    // 24: 85 c0                         testl   %eax, %eax
    // 26: 0f 88 00 00 00 00             js      0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2c: ff c8                         decl    %eax
    // 2e: 89 07                         movl    %eax, (%rdi)
    // 30: 0f 85 00 00 00 00             jne     0x36 <__JIT_ENTRY+0x36>
    // 0000000000000032:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 36: 55                            pushq   %rbp
    // 37: 48 89 e5                      movq    %rsp, %rbp
    // 3a: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x40 <__JIT_ENTRY+0x40>
    // 000000000000003c:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 40: 5d                            popq    %rbp
    // 41: e9 00 00 00 00                jmp     0x46 <__JIT_ENTRY+0x46>
    // 0000000000000042:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[65] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x0f, 0xb7, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x8b, 0x7c, 0xcc, 0x50, 0x49, 0x89, 0x44, 0xcc,
        0x50, 0x48, 0x85, 0xff, 0x0f, 0x84, 0x00, 0x00,
        0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f, 0x88,
        0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89, 0x07,
        0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48,
        0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00,
        0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x4);
    patch_32r(code + 0x1e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x28, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x32, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3c, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_0(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_0.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b 7c 24 50                movq    0x50(%r12), %rdi
    // d: 49 89 44 24 50                movq    %rax, 0x50(%r12)
    // 12: 48 85 ff                      testq   %rdi, %rdi
    // 15: 0f 84 00 00 00 00             je      0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 8b 07                         movl    (%rdi), %eax
    // 1d: 85 c0                         testl   %eax, %eax
    // 1f: 0f 88 00 00 00 00             js      0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff c8                         decl    %eax
    // 27: 89 07                         movl    %eax, (%rdi)
    // 29: 0f 85 00 00 00 00             jne     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 55                            pushq   %rbp
    // 30: 48 89 e5                      movq    %rsp, %rbp
    // 33: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0x7c, 0x24, 0x50, 0x49, 0x89, 0x44,
        0x24, 0x50, 0x48, 0x85, 0xff, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f,
        0x88, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89,
        0x07, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_1(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_1.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b 7c 24 58                movq    0x58(%r12), %rdi
    // d: 49 89 44 24 58                movq    %rax, 0x58(%r12)
    // 12: 48 85 ff                      testq   %rdi, %rdi
    // 15: 0f 84 00 00 00 00             je      0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 8b 07                         movl    (%rdi), %eax
    // 1d: 85 c0                         testl   %eax, %eax
    // 1f: 0f 88 00 00 00 00             js      0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff c8                         decl    %eax
    // 27: 89 07                         movl    %eax, (%rdi)
    // 29: 0f 85 00 00 00 00             jne     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 55                            pushq   %rbp
    // 30: 48 89 e5                      movq    %rsp, %rbp
    // 33: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0x7c, 0x24, 0x58, 0x49, 0x89, 0x44,
        0x24, 0x58, 0x48, 0x85, 0xff, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f,
        0x88, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89,
        0x07, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_2(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_2.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b 7c 24 60                movq    0x60(%r12), %rdi
    // d: 49 89 44 24 60                movq    %rax, 0x60(%r12)
    // 12: 48 85 ff                      testq   %rdi, %rdi
    // 15: 0f 84 00 00 00 00             je      0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 8b 07                         movl    (%rdi), %eax
    // 1d: 85 c0                         testl   %eax, %eax
    // 1f: 0f 88 00 00 00 00             js      0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff c8                         decl    %eax
    // 27: 89 07                         movl    %eax, (%rdi)
    // 29: 0f 85 00 00 00 00             jne     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 55                            pushq   %rbp
    // 30: 48 89 e5                      movq    %rsp, %rbp
    // 33: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0x7c, 0x24, 0x60, 0x49, 0x89, 0x44,
        0x24, 0x60, 0x48, 0x85, 0xff, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f,
        0x88, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89,
        0x07, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_3(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_3.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b 7c 24 68                movq    0x68(%r12), %rdi
    // d: 49 89 44 24 68                movq    %rax, 0x68(%r12)
    // 12: 48 85 ff                      testq   %rdi, %rdi
    // 15: 0f 84 00 00 00 00             je      0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 8b 07                         movl    (%rdi), %eax
    // 1d: 85 c0                         testl   %eax, %eax
    // 1f: 0f 88 00 00 00 00             js      0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff c8                         decl    %eax
    // 27: 89 07                         movl    %eax, (%rdi)
    // 29: 0f 85 00 00 00 00             jne     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 55                            pushq   %rbp
    // 30: 48 89 e5                      movq    %rsp, %rbp
    // 33: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0x7c, 0x24, 0x68, 0x49, 0x89, 0x44,
        0x24, 0x68, 0x48, 0x85, 0xff, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f,
        0x88, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89,
        0x07, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_4(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_4.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b 7c 24 70                movq    0x70(%r12), %rdi
    // d: 49 89 44 24 70                movq    %rax, 0x70(%r12)
    // 12: 48 85 ff                      testq   %rdi, %rdi
    // 15: 0f 84 00 00 00 00             je      0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 8b 07                         movl    (%rdi), %eax
    // 1d: 85 c0                         testl   %eax, %eax
    // 1f: 0f 88 00 00 00 00             js      0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff c8                         decl    %eax
    // 27: 89 07                         movl    %eax, (%rdi)
    // 29: 0f 85 00 00 00 00             jne     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 55                            pushq   %rbp
    // 30: 48 89 e5                      movq    %rsp, %rbp
    // 33: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0x7c, 0x24, 0x70, 0x49, 0x89, 0x44,
        0x24, 0x70, 0x48, 0x85, 0xff, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f,
        0x88, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89,
        0x07, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_5(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_5.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b 7c 24 78                movq    0x78(%r12), %rdi
    // d: 49 89 44 24 78                movq    %rax, 0x78(%r12)
    // 12: 48 85 ff                      testq   %rdi, %rdi
    // 15: 0f 84 00 00 00 00             je      0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 1b: 8b 07                         movl    (%rdi), %eax
    // 1d: 85 c0                         testl   %eax, %eax
    // 1f: 0f 88 00 00 00 00             js      0x25 <__JIT_ENTRY+0x25>
    // 0000000000000021:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 25: ff c8                         decl    %eax
    // 27: 89 07                         movl    %eax, (%rdi)
    // 29: 0f 85 00 00 00 00             jne     0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2f: 55                            pushq   %rbp
    // 30: 48 89 e5                      movq    %rsp, %rbp
    // 33: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[58] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0x7c, 0x24, 0x78, 0x49, 0x89, 0x44,
        0x24, 0x78, 0x48, 0x85, 0xff, 0x0f, 0x84, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f,
        0x88, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc8, 0x89,
        0x07, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x55,
        0x48, 0x89, 0xe5, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x17, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x21, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x2b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_6(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_6.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b bc 24 80 00 00 00       movq    0x80(%r12), %rdi
    // 10: 49 89 84 24 80 00 00 00       movq    %rax, 0x80(%r12)
    // 18: 48 85 ff                      testq   %rdi, %rdi
    // 1b: 0f 84 00 00 00 00             je      0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 21: 8b 07                         movl    (%rdi), %eax
    // 23: 85 c0                         testl   %eax, %eax
    // 25: 0f 88 00 00 00 00             js      0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2b: ff c8                         decl    %eax
    // 2d: 89 07                         movl    %eax, (%rdi)
    // 2f: 0f 85 00 00 00 00             jne     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 35: 55                            pushq   %rbp
    // 36: 48 89 e5                      movq    %rsp, %rbp
    // 39: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 3f: 5d                            popq    %rbp
    // 40: e9 00 00 00 00                jmp     0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[64] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0xbc, 0x24, 0x80, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x84, 0x24, 0x80, 0x00, 0x00, 0x00,
        0x48, 0x85, 0xff, 0x0f, 0x84, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f, 0x88, 0x00,
        0x00, 0x00, 0x00, 0xff, 0xc8, 0x89, 0x07, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89,
        0xe5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x1d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x27, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x31, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3b, (uintptr_t)data + -0x4);
}

void
emit__STORE_FAST_7(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_FAST_7.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 4: 49 83 c5 f8                   addq    $-0x8, %r13
    // 8: 49 8b bc 24 88 00 00 00       movq    0x88(%r12), %rdi
    // 10: 49 89 84 24 88 00 00 00       movq    %rax, 0x88(%r12)
    // 18: 48 85 ff                      testq   %rdi, %rdi
    // 1b: 0f 84 00 00 00 00             je      0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 21: 8b 07                         movl    (%rdi), %eax
    // 23: 85 c0                         testl   %eax, %eax
    // 25: 0f 88 00 00 00 00             js      0x2b <__JIT_ENTRY+0x2b>
    // 0000000000000027:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 2b: ff c8                         decl    %eax
    // 2d: 89 07                         movl    %eax, (%rdi)
    // 2f: 0f 85 00 00 00 00             jne     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 35: 55                            pushq   %rbp
    // 36: 48 89 e5                      movq    %rsp, %rbp
    // 39: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 3f: 5d                            popq    %rbp
    // 40: e9 00 00 00 00                jmp     0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[64] = {
        0x49, 0x8b, 0x45, 0xf8, 0x49, 0x83, 0xc5, 0xf8,
        0x49, 0x8b, 0xbc, 0x24, 0x88, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x84, 0x24, 0x88, 0x00, 0x00, 0x00,
        0x48, 0x85, 0xff, 0x0f, 0x84, 0x00, 0x00, 0x00,
        0x00, 0x8b, 0x07, 0x85, 0xc0, 0x0f, 0x88, 0x00,
        0x00, 0x00, 0x00, 0xff, 0xc8, 0x89, 0x07, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89,
        0xe5, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0x1d, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x27, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0x31, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x3b, (uintptr_t)data + -0x4);
}

void
emit__STORE_GLOBAL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_GLOBAL.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 49 8b 04 24                   movq    (%r12), %rax
    // c: 49 8b 7c 24 18                movq    0x18(%r12), %rdi
    // 11: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 15: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 1c: 48 8b 74 c8 18                movq    0x18(%rax,%rcx,8), %rsi
    // 21: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 26: 48 89 da                      movq    %rbx, %rdx
    // 29: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_GOT     _PyDict_SetItem@GOTPCREL
    // 2f: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 34: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3d: 8b 0b                         movl    (%rbx), %ecx
    // 3f: 85 c9                         testl   %ecx, %ecx
    // 41: 78 06                         js      0x49 <__JIT_ENTRY+0x49>
    // 43: ff c9                         decl    %ecx
    // 45: 89 0b                         movl    %ecx, (%rbx)
    // 47: 74 0a                         je      0x53 <__JIT_ENTRY+0x53>
    // 49: 85 c0                         testl   %eax, %eax
    // 4b: 74 17                         je      0x64 <__JIT_ENTRY+0x64>
    // 4d: 5d                            popq    %rbp
    // 4e: e9 00 00 00 00                jmp     0x53 <__JIT_ENTRY+0x53>
    // 000000000000004f:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 53: 48 89 df                      movq    %rbx, %rdi
    // 56: 89 c3                         movl    %eax, %ebx
    // 58: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5e <__JIT_ENTRY+0x5e>
    // 000000000000005a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5e: 89 d8                         movl    %ebx, %eax
    // 60: 85 c0                         testl   %eax, %eax
    // 62: 75 e9                         jne     0x4d <__JIT_ENTRY+0x4d>
    // 64: 49 83 c5 f8                   addq    $-0x8, %r13
    // 68: 5d                            popq    %rbp
    // 69: e9 00 00 00 00                jmp     0x6e <__JIT_ENTRY+0x6e>
    // 000000000000006a:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[105] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x49, 0x8b, 0x04, 0x24, 0x49, 0x8b, 0x7c, 0x24,
        0x18, 0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb7, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x74, 0xc8,
        0x18, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89,
        0xda, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85,
        0xc9, 0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74,
        0x0a, 0x85, 0xc0, 0x74, 0x17, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0x89, 0xc3,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x89, 0xd8,
        0x85, 0xc0, 0x75, 0xe9, 0x49, 0x83, 0xc5, 0xf8,
        0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyDict_SetItem+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyDict_SetItem);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x2b, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4f, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x5a, (uintptr_t)data + -0x4);
}

void
emit__STORE_NAME(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_NAME.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 49 8b 04 24                   movq    (%r12), %rax
    // c: 49 8b 7c 24 28                movq    0x28(%r12), %rdi
    // 11: 48 8b 40 20                   movq    0x20(%rax), %rax
    // 15: 0f b7 0d 00 00 00 00          movzwl  (%rip), %ecx            ## 0x1c <__JIT_ENTRY+0x1c>
    // 0000000000000018:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 1c: 48 8b 4c c8 18                movq    0x18(%rax,%rcx,8), %rcx
    // 21: 48 85 ff                      testq   %rdi, %rdi
    // 24: 74 20                         je      0x46 <__JIT_ENTRY+0x46>
    // 26: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 2a: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 2f: 48 89 ce                      movq    %rcx, %rsi
    // 32: 48 89 da                      movq    %rbx, %rdx
    // 35: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_GOT     _PyDict_Type@GOTPCREL
    // 3c: 74 49                         je      0x87 <__JIT_ENTRY+0x87>
    // 3e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x44 <__JIT_ENTRY+0x44>
    // 0000000000000040:  X86_64_RELOC_GOT     _PyObject_SetItem@GOTPCREL
    // 44: eb 47                         jmp     0x8d <__JIT_ENTRY+0x8d>
    // 46: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 4b: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x52 <__JIT_ENTRY+0x52>
    // 000000000000004e:  X86_64_RELOC_GOT_LOAD        _PyExc_SystemError@GOTPCREL
    // 52: 48 8b 30                      movq    (%rax), %rsi
    // 55: 48 8d 15 7f 00 00 00          leaq    0x7f(%rip), %rdx        ## 0xdb <__JIT_ENTRY+0xdb>
    // 0000000000000058:  X86_64_RELOC_SIGNED  __cstring
    // 5c: 4c 89 f7                      movq    %r14, %rdi
    // 5f: 31 c0                         xorl    %eax, %eax
    // 61: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x67 <__JIT_ENTRY+0x67>
    // 0000000000000063:  X86_64_RELOC_GOT     __PyErr_Format@GOTPCREL
    // 67: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 6c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 75: 8b 03                         movl    (%rbx), %eax
    // 77: 85 c0                         testl   %eax, %eax
    // 79: 78 06                         js      0x81 <__JIT_ENTRY+0x81>
    // 7b: ff c8                         decl    %eax
    // 7d: 89 03                         movl    %eax, (%rbx)
    // 7f: 74 4b                         je      0xcc <__JIT_ENTRY+0xcc>
    // 81: 5d                            popq    %rbp
    // 82: e9 00 00 00 00                jmp     0x87 <__JIT_ENTRY+0x87>
    // 0000000000000083:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 87: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8d <__JIT_ENTRY+0x8d>
    // 0000000000000089:  X86_64_RELOC_GOT     _PyDict_SetItem@GOTPCREL
    // 8d: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 92: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 9b: 8b 0b                         movl    (%rbx), %ecx
    // 9d: 85 c9                         testl   %ecx, %ecx
    // 9f: 78 06                         js      0xa7 <__JIT_ENTRY+0xa7>
    // a1: ff c9                         decl    %ecx
    // a3: 89 0b                         movl    %ecx, (%rbx)
    // a5: 74 0a                         je      0xb1 <__JIT_ENTRY+0xb1>
    // a7: 85 c0                         testl   %eax, %eax
    // a9: 74 17                         je      0xc2 <__JIT_ENTRY+0xc2>
    // ab: 5d                            popq    %rbp
    // ac: e9 00 00 00 00                jmp     0xb1 <__JIT_ENTRY+0xb1>
    // 00000000000000ad:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // b1: 48 89 df                      movq    %rbx, %rdi
    // b4: 89 c3                         movl    %eax, %ebx
    // b6: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xbc <__JIT_ENTRY+0xbc>
    // 00000000000000b8:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // bc: 89 d8                         movl    %ebx, %eax
    // be: 85 c0                         testl   %eax, %eax
    // c0: 75 e9                         jne     0xab <__JIT_ENTRY+0xab>
    // c2: 49 83 c5 f8                   addq    $-0x8, %r13
    // c6: 5d                            popq    %rbp
    // c7: e9 00 00 00 00                jmp     0xcc <__JIT_ENTRY+0xcc>
    // 00000000000000c8:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // cc: 48 89 df                      movq    %rbx, %rdi
    // cf: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd5 <__JIT_ENTRY+0xd5>
    // 00000000000000d1:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // d5: 5d                            popq    %rbp
    // d6: e9 00 00 00 00                jmp     0xdb <__JIT_ENTRY+0xdb>
    // 00000000000000d7:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[219] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x49, 0x8b, 0x04, 0x24, 0x49, 0x8b, 0x7c, 0x24,
        0x28, 0x48, 0x8b, 0x40, 0x20, 0x0f, 0xb7, 0x0d,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x4c, 0xc8,
        0x18, 0x48, 0x85, 0xff, 0x74, 0x20, 0x48, 0x8b,
        0x47, 0x08, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48,
        0x89, 0xce, 0x48, 0x89, 0xda, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x74, 0x49, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0xeb, 0x47, 0x4d, 0x89,
        0x6c, 0x24, 0x40, 0x48, 0x8b, 0x05, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x30, 0x48, 0x8d, 0x15,
        0x7f, 0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0x31,
        0xc0, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x03, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x03, 0x74,
        0x4b, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78,
        0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x0a, 0x85,
        0xc0, 0x74, 0x17, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x89, 0xdf, 0x89, 0xc3, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x89, 0xd8, 0x85, 0xc0,
        0x75, 0xe9, 0x49, 0x83, 0xc5, 0xf8, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: 'no locals found when storing %R\x00'
    // 20: &_Py_Dealloc+0x0
    // 28: &PyDict_SetItem+0x0
    // 30: &_PyErr_Format+0x0
    // 38: &PyExc_SystemError+0x0
    // 40: &PyObject_SetItem+0x0
    // 48: &PyDict_Type+0x0
    // 50: OPARG
    const unsigned char data_body[88] = {
        0x6e, 0x6f, 0x20, 0x6c, 0x6f, 0x63, 0x61, 0x6c,
        0x73, 0x20, 0x66, 0x6f, 0x75, 0x6e, 0x64, 0x20,
        0x77, 0x68, 0x65, 0x6e, 0x20, 0x73, 0x74, 0x6f,
        0x72, 0x69, 0x6e, 0x67, 0x20, 0x25, 0x52, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x20, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x28, (uintptr_t)&PyDict_SetItem);
    patch_64(data + 0x30, (uintptr_t)&_PyErr_Format);
    patch_64(data + 0x38, (uintptr_t)&PyExc_SystemError);
    patch_64(data + 0x40, (uintptr_t)&PyObject_SetItem);
    patch_64(data + 0x48, (uintptr_t)&PyDict_Type);
    patch_64(data + 0x50, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x18, (uintptr_t)data + 0x4c);
    patch_x86_64_32rx(code + 0x38, (uintptr_t)data + 0x44);
    patch_x86_64_32rx(code + 0x40, (uintptr_t)data + 0x3c);
    patch_x86_64_32rx(code + 0x4e, (uintptr_t)data + 0x34);
    patch_32r(code + 0x58, (uintptr_t)data + 0x156);
    patch_x86_64_32rx(code + 0x63, (uintptr_t)data + 0x2c);
    patch_32r(code + 0x83, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x89, (uintptr_t)data + 0x24);
    patch_32r(code + 0xad, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0xb8, (uintptr_t)data + 0x1c);
    patch_32r(code + 0xc8, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xd1, (uintptr_t)data + 0x1c);
    patch_32r(code + 0xd7, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__STORE_SLICE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_SLICE.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // 10: 49 8b 7d f0                   movq    -0x10(%r13), %rdi
    // 14: 4d 8b 7d e0                   movq    -0x20(%r13), %r15
    // 18: 4d 8b 75 e8                   movq    -0x18(%r13), %r14
    // 1c: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 21: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_GOT     __PyBuildSlice_ConsumeRefs@GOTPCREL
    // 27: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 2c: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 35: 48 85 c0                      testq   %rax, %rax
    // 38: 74 54                         je      0x8e <__JIT_ENTRY+0x8e>
    // 3a: 48 89 c3                      movq    %rax, %rbx
    // 3d: 49 83 c5 f0                   addq    $-0x10, %r13
    // 41: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 46: 4c 89 f7                      movq    %r14, %rdi
    // 49: 48 89 c6                      movq    %rax, %rsi
    // 4c: 4c 89 fa                      movq    %r15, %rdx
    // 4f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x55 <__JIT_ENTRY+0x55>
    // 0000000000000051:  X86_64_RELOC_GOT     _PyObject_SetItem@GOTPCREL
    // 55: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 5a: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 63: 8b 0b                         movl    (%rbx), %ecx
    // 65: 85 c9                         testl   %ecx, %ecx
    // 67: 78 13                         js      0x7c <__JIT_ENTRY+0x7c>
    // 69: ff c9                         decl    %ecx
    // 6b: 89 0b                         movl    %ecx, (%rbx)
    // 6d: 75 0d                         jne     0x7c <__JIT_ENTRY+0x7c>
    // 6f: 48 89 df                      movq    %rbx, %rdi
    // 72: 89 c3                         movl    %eax, %ebx
    // 74: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7a <__JIT_ENTRY+0x7a>
    // 0000000000000076:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 7a: 89 d8                         movl    %ebx, %eax
    // 7c: 49 83 c5 10                   addq    $0x10, %r13
    // 80: 85 c0                         testl   %eax, %eax
    // 82: 0f 94 c3                      sete    %bl
    // 85: 41 8b 07                      movl    (%r15), %eax
    // 88: 85 c0                         testl   %eax, %eax
    // 8a: 79 0b                         jns     0x97 <__JIT_ENTRY+0x97>
    // 8c: eb 19                         jmp     0xa7 <__JIT_ENTRY+0xa7>
    // 8e: 31 db                         xorl    %ebx, %ebx
    // 90: 41 8b 07                      movl    (%r15), %eax
    // 93: 85 c0                         testl   %eax, %eax
    // 95: 78 10                         js      0xa7 <__JIT_ENTRY+0xa7>
    // 97: ff c8                         decl    %eax
    // 99: 41 89 07                      movl    %eax, (%r15)
    // 9c: 75 09                         jne     0xa7 <__JIT_ENTRY+0xa7>
    // 9e: 4c 89 ff                      movq    %r15, %rdi
    // a1: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xa7 <__JIT_ENTRY+0xa7>
    // 00000000000000a3:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // a7: 41 8b 06                      movl    (%r14), %eax
    // aa: 85 c0                         testl   %eax, %eax
    // ac: 78 07                         js      0xb5 <__JIT_ENTRY+0xb5>
    // ae: ff c8                         decl    %eax
    // b0: 41 89 06                      movl    %eax, (%r14)
    // b3: 74 16                         je      0xcb <__JIT_ENTRY+0xcb>
    // b5: 84 db                         testb   %bl, %bl
    // b7: 74 1f                         je      0xd8 <__JIT_ENTRY+0xd8>
    // b9: 49 83 c5 e0                   addq    $-0x20, %r13
    // bd: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // c1: 48 83 c4 10                   addq    $0x10, %rsp
    // c5: 5d                            popq    %rbp
    // c6: e9 00 00 00 00                jmp     0xcb <__JIT_ENTRY+0xcb>
    // 00000000000000c7:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // cb: 4c 89 f7                      movq    %r14, %rdi
    // ce: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xd4 <__JIT_ENTRY+0xd4>
    // 00000000000000d0:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // d4: 84 db                         testb   %bl, %bl
    // d6: 75 e1                         jne     0xb9 <__JIT_ENTRY+0xb9>
    // d8: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // dc: 48 83 c4 10                   addq    $0x10, %rsp
    // e0: 5d                            popq    %rbp
    // e1: e9 00 00 00 00                jmp     0xe6 <__JIT_ENTRY+0xe6>
    // 00000000000000e2:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[230] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x8b, 0x75, 0xf8,
        0x49, 0x8b, 0x7d, 0xf0, 0x4d, 0x8b, 0x7d, 0xe0,
        0x4d, 0x8b, 0x75, 0xe8, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x54, 0x48, 0x89, 0xc3, 0x49, 0x83, 0xc5,
        0xf0, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89,
        0xf7, 0x48, 0x89, 0xc6, 0x4c, 0x89, 0xfa, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c,
        0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00,
        0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9, 0x78,
        0x13, 0xff, 0xc9, 0x89, 0x0b, 0x75, 0x0d, 0x48,
        0x89, 0xdf, 0x89, 0xc3, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x89, 0xd8, 0x49, 0x83, 0xc5, 0x10,
        0x85, 0xc0, 0x0f, 0x94, 0xc3, 0x41, 0x8b, 0x07,
        0x85, 0xc0, 0x79, 0x0b, 0xeb, 0x19, 0x31, 0xdb,
        0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x10, 0xff,
        0xc8, 0x41, 0x89, 0x07, 0x75, 0x09, 0x4c, 0x89,
        0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x41,
        0x8b, 0x06, 0x85, 0xc0, 0x78, 0x07, 0xff, 0xc8,
        0x41, 0x89, 0x06, 0x74, 0x16, 0x84, 0xdb, 0x74,
        0x1f, 0x49, 0x83, 0xc5, 0xe0, 0x4c, 0x8b, 0x75,
        0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0xf7, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x84, 0xdb, 0x75, 0xe1,
        0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_SetItem+0x0
    // 10: &_PyBuildSlice_ConsumeRefs+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_SetItem);
    patch_64(data + 0x10, (uintptr_t)&_PyBuildSlice_ConsumeRefs);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x23, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x51, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x76, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0xa3, (uintptr_t)data + -0x4);
    patch_32r(code + 0xc7, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xd0, (uintptr_t)data + -0x4);
    patch_32r(code + 0xe2, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__STORE_SUBSCR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_SUBSCR.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 10: 4d 8b 75 e8                   movq    -0x18(%r13), %r14
    // 14: 4d 8b 7d f0                   movq    -0x10(%r13), %r15
    // 18: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1d: 4c 89 ff                      movq    %r15, %rdi
    // 20: 48 89 de                      movq    %rbx, %rsi
    // 23: 4c 89 f2                      movq    %r14, %rdx
    // 26: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2c <__JIT_ENTRY+0x2c>
    // 0000000000000028:  X86_64_RELOC_GOT     _PyObject_SetItem@GOTPCREL
    // 2c: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 31: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3a: 41 8b 0e                      movl    (%r14), %ecx
    // 3d: 85 c9                         testl   %ecx, %ecx
    // 3f: 78 16                         js      0x57 <__JIT_ENTRY+0x57>
    // 41: ff c9                         decl    %ecx
    // 43: 41 89 0e                      movl    %ecx, (%r14)
    // 46: 75 0f                         jne     0x57 <__JIT_ENTRY+0x57>
    // 48: 4c 89 f7                      movq    %r14, %rdi
    // 4b: 41 89 c6                      movl    %eax, %r14d
    // 4e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 54: 44 89 f0                      movl    %r14d, %eax
    // 57: 41 8b 0f                      movl    (%r15), %ecx
    // 5a: 85 c9                         testl   %ecx, %ecx
    // 5c: 78 16                         js      0x74 <__JIT_ENTRY+0x74>
    // 5e: ff c9                         decl    %ecx
    // 60: 41 89 0f                      movl    %ecx, (%r15)
    // 63: 75 0f                         jne     0x74 <__JIT_ENTRY+0x74>
    // 65: 4c 89 ff                      movq    %r15, %rdi
    // 68: 41 89 c6                      movl    %eax, %r14d
    // 6b: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x71 <__JIT_ENTRY+0x71>
    // 000000000000006d:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 71: 44 89 f0                      movl    %r14d, %eax
    // 74: 8b 0b                         movl    (%rbx), %ecx
    // 76: 85 c9                         testl   %ecx, %ecx
    // 78: 78 06                         js      0x80 <__JIT_ENTRY+0x80>
    // 7a: ff c9                         decl    %ecx
    // 7c: 89 0b                         movl    %ecx, (%rbx)
    // 7e: 74 12                         je      0x92 <__JIT_ENTRY+0x92>
    // 80: 85 c0                         testl   %eax, %eax
    // 82: 74 1f                         je      0xa3 <__JIT_ENTRY+0xa3>
    // 84: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 88: 48 83 c4 10                   addq    $0x10, %rsp
    // 8c: 5d                            popq    %rbp
    // 8d: e9 00 00 00 00                jmp     0x92 <__JIT_ENTRY+0x92>
    // 000000000000008e:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 92: 48 89 df                      movq    %rbx, %rdi
    // 95: 89 c3                         movl    %eax, %ebx
    // 97: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x9d <__JIT_ENTRY+0x9d>
    // 0000000000000099:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 9d: 89 d8                         movl    %ebx, %eax
    // 9f: 85 c0                         testl   %eax, %eax
    // a1: 75 e1                         jne     0x84 <__JIT_ENTRY+0x84>
    // a3: 49 83 c5 e8                   addq    $-0x18, %r13
    // a7: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // ab: 48 83 c4 10                   addq    $0x10, %rsp
    // af: 5d                            popq    %rbp
    // b0: e9 00 00 00 00                jmp     0xb5 <__JIT_ENTRY+0xb5>
    // 00000000000000b1:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[176] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0x75, 0xf8, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x8b, 0x75, 0xe8, 0x4d, 0x8b, 0x7d, 0xf0,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0xff,
        0x48, 0x89, 0xde, 0x4c, 0x89, 0xf2, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x41, 0x8b, 0x0e, 0x85, 0xc9, 0x78,
        0x16, 0xff, 0xc9, 0x41, 0x89, 0x0e, 0x75, 0x0f,
        0x4c, 0x89, 0xf7, 0x41, 0x89, 0xc6, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x44, 0x89, 0xf0, 0x41,
        0x8b, 0x0f, 0x85, 0xc9, 0x78, 0x16, 0xff, 0xc9,
        0x41, 0x89, 0x0f, 0x75, 0x0f, 0x4c, 0x89, 0xff,
        0x41, 0x89, 0xc6, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x44, 0x89, 0xf0, 0x8b, 0x0b, 0x85, 0xc9,
        0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x12,
        0x85, 0xc0, 0x74, 0x1f, 0x4c, 0x8b, 0x75, 0xf8,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xdf, 0x89, 0xc3, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x89, 0xd8, 0x85,
        0xc0, 0x75, 0xe1, 0x49, 0x83, 0xc5, 0xe8, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyObject_SetItem+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyObject_SetItem);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x28, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x50, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x6d, (uintptr_t)data + -0x4);
    patch_32r(code + 0x8e, state->instruction_starts[instruction->error_target] + -0x4);
    patch_x86_64_32rx(code + 0x99, (uintptr_t)data + -0x4);
}

void
emit__STORE_SUBSCR_DICT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_SUBSCR_DICT.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 4: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyDict_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 55                            pushq   %rbp
    // 16: 48 89 e5                      movq    %rsp, %rbp
    // 19: 49 8b 55 e8                   movq    -0x18(%r13), %rdx
    // 1d: 49 8b 75 f8                   movq    -0x8(%r13), %rsi
    // 21: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 26: 48 89 df                      movq    %rbx, %rdi
    // 29: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_GOT     __PyDict_SetItem_Take2@GOTPCREL
    // 2f: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 34: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3d: 8b 0b                         movl    (%rbx), %ecx
    // 3f: 85 c9                         testl   %ecx, %ecx
    // 41: 78 13                         js      0x56 <__JIT_ENTRY+0x56>
    // 43: ff c9                         decl    %ecx
    // 45: 89 0b                         movl    %ecx, (%rbx)
    // 47: 75 0d                         jne     0x56 <__JIT_ENTRY+0x56>
    // 49: 48 89 df                      movq    %rbx, %rdi
    // 4c: 89 c3                         movl    %eax, %ebx
    // 4e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x54 <__JIT_ENTRY+0x54>
    // 0000000000000050:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 54: 89 d8                         movl    %ebx, %eax
    // 56: 85 c0                         testl   %eax, %eax
    // 58: 5d                            popq    %rbp
    // 59: 0f 85 00 00 00 00             jne     0x5f <__JIT_ENTRY+0x5f>
    // 000000000000005b:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    // 5f: 49 83 c5 e8                   addq    $-0x18, %r13
    // 63: e9 00 00 00 00                jmp     0x68 <__JIT_ENTRY+0x68>
    // 0000000000000064:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[99] = {
        0x49, 0x8b, 0x5d, 0xf0, 0x48, 0x8b, 0x43, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89,
        0xe5, 0x49, 0x8b, 0x55, 0xe8, 0x49, 0x8b, 0x75,
        0xf8, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89,
        0xdf, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85,
        0xc9, 0x78, 0x13, 0xff, 0xc9, 0x89, 0x0b, 0x75,
        0x0d, 0x48, 0x89, 0xdf, 0x89, 0xc3, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x89, 0xd8, 0x85, 0xc0,
        0x5d, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x83, 0xc5, 0xe8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyDict_SetItem_Take2+0x0
    // 10: &PyDict_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyDict_SetItem_Take2);
    patch_64(data + 0x10, (uintptr_t)&PyDict_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x2b, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x50, (uintptr_t)data + -0x4);
    patch_32r(code + 0x5b, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__STORE_SUBSCR_LIST_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _STORE_SUBSCR_LIST_INT.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 4: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 49 8b 5d f0                   movq    -0x10(%r13), %rbx
    // 19: 48 8b 43 08                   movq    0x8(%rbx), %rax
    // 1d: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x24 <__JIT_ENTRY+0x24>
    // 0000000000000020:  X86_64_RELOC_GOT     _PyList_Type@GOTPCREL
    // 24: 0f 85 00 00 00 00             jne     0x2a <__JIT_ENTRY+0x2a>
    // 0000000000000026:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 2a: 49 83 7f 10 09                cmpq    $0x9, 0x10(%r15)
    // 2f: 0f 83 00 00 00 00             jae     0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 35: 41 8b 47 18                   movl    0x18(%r15), %eax
    // 39: 48 39 43 10                   cmpq    %rax, 0x10(%rbx)
    // 3d: 0f 8e 00 00 00 00             jle     0x43 <__JIT_ENTRY+0x43>
    // 000000000000003f:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 43: 55                            pushq   %rbp
    // 44: 48 89 e5                      movq    %rsp, %rbp
    // 47: 49 8b 4d e8                   movq    -0x18(%r13), %rcx
    // 4b: 48 8b 53 18                   movq    0x18(%rbx), %rdx
    // 4f: 48 8b 3c c2                   movq    (%rdx,%rax,8), %rdi
    // 53: 48 89 0c c2                   movq    %rcx, (%rdx,%rax,8)
    // 57: 8b 07                         movl    (%rdi), %eax
    // 59: 85 c0                         testl   %eax, %eax
    // 5b: 78 0c                         js      0x69 <__JIT_ENTRY+0x69>
    // 5d: ff c8                         decl    %eax
    // 5f: 89 07                         movl    %eax, (%rdi)
    // 61: 75 06                         jne     0x69 <__JIT_ENTRY+0x69>
    // 63: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x69 <__JIT_ENTRY+0x69>
    // 0000000000000065:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 69: 41 8b 07                      movl    (%r15), %eax
    // 6c: 85 c0                         testl   %eax, %eax
    // 6e: 78 34                         js      0xa4 <__JIT_ENTRY+0xa4>
    // 70: ff c8                         decl    %eax
    // 72: 41 89 07                      movl    %eax, (%r15)
    // 75: 75 2d                         jne     0xa4 <__JIT_ENTRY+0xa4>
    // 77: 48 8b 0d 00 00 00 00          movq    (%rip), %rcx            ## 0x7e <__JIT_ENTRY+0x7e>
    // 000000000000007a:  X86_64_RELOC_GOT_LOAD        __PyRuntime@GOTPCREL
    // 7e: 48 8b 81 f8 25 00 00          movq    0x25f8(%rcx), %rax
    // 85: 48 85 c0                      testq   %rax, %rax
    // 88: 74 11                         je      0x9b <__JIT_ENTRY+0x9b>
    // 8a: 48 8b 91 00 26 00 00          movq    0x2600(%rcx), %rdx
    // 91: 4c 89 ff                      movq    %r15, %rdi
    // 94: be 01 00 00 00                movl    $0x1, %esi
    // 99: ff d0                         callq   *%rax
    // 9b: 4c 89 ff                      movq    %r15, %rdi
    // 9e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xa4 <__JIT_ENTRY+0xa4>
    // 00000000000000a0:  X86_64_RELOC_GOT     __PyLong_ExactDealloc@GOTPCREL
    // a4: 49 83 c5 e8                   addq    $-0x18, %r13
    // a8: 8b 03                         movl    (%rbx), %eax
    // aa: 85 c0                         testl   %eax, %eax
    // ac: 78 06                         js      0xb4 <__JIT_ENTRY+0xb4>
    // ae: ff c8                         decl    %eax
    // b0: 89 03                         movl    %eax, (%rbx)
    // b2: 74 06                         je      0xba <__JIT_ENTRY+0xba>
    // b4: 5d                            popq    %rbp
    // b5: e9 00 00 00 00                jmp     0xba <__JIT_ENTRY+0xba>
    // 00000000000000b6:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // ba: 48 89 df                      movq    %rbx, %rdi
    // bd: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xc3 <__JIT_ENTRY+0xc3>
    // 00000000000000bf:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // c3: 5d                            popq    %rbp
    // c4: e9 00 00 00 00                jmp     0xc9 <__JIT_ENTRY+0xc9>
    // 00000000000000c5:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[196] = {
        0x4d, 0x8b, 0x7d, 0xf8, 0x49, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x49, 0x8b, 0x5d,
        0xf0, 0x48, 0x8b, 0x43, 0x08, 0x48, 0x3b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x0f, 0x85, 0x00, 0x00,
        0x00, 0x00, 0x49, 0x83, 0x7f, 0x10, 0x09, 0x0f,
        0x83, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x47,
        0x18, 0x48, 0x39, 0x43, 0x10, 0x0f, 0x8e, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0x49,
        0x8b, 0x4d, 0xe8, 0x48, 0x8b, 0x53, 0x18, 0x48,
        0x8b, 0x3c, 0xc2, 0x48, 0x89, 0x0c, 0xc2, 0x8b,
        0x07, 0x85, 0xc0, 0x78, 0x0c, 0xff, 0xc8, 0x89,
        0x07, 0x75, 0x06, 0xff, 0x15, 0x00, 0x00, 0x00,
        0x00, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x34,
        0xff, 0xc8, 0x41, 0x89, 0x07, 0x75, 0x2d, 0x48,
        0x8b, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b,
        0x81, 0xf8, 0x25, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x11, 0x48, 0x8b, 0x91, 0x00, 0x26, 0x00,
        0x00, 0x4c, 0x89, 0xff, 0xbe, 0x01, 0x00, 0x00,
        0x00, 0xff, 0xd0, 0x4c, 0x89, 0xff, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x49, 0x83, 0xc5, 0xe8,
        0x8b, 0x03, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8,
        0x89, 0x03, 0x74, 0x06, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyLong_ExactDealloc+0x0
    // 10: &_PyRuntime+0x0
    // 18: &PyList_Type+0x0
    // 20: &PyLong_Type+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyLong_ExactDealloc);
    patch_64(data + 0x10, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x18, (uintptr_t)&PyList_Type);
    patch_64(data + 0x20, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x20, (uintptr_t)data + 0x14);
    patch_32r(code + 0x26, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x31, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x3f, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x65, (uintptr_t)data + -0x4);
    patch_x86_64_32rx(code + 0x7a, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0xa0, (uintptr_t)data + 0x4);
    patch_32r(code + 0xb6, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0xbf, (uintptr_t)data + -0x4);
}

void
emit__SWAP(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _SWAP.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // b: 49 8b 4d f8                   movq    -0x8(%r13), %rcx
    // f: c1 e0 03                      shll    $0x3, %eax
    // 12: 4c 89 ea                      movq    %r13, %rdx
    // 15: 48 29 c2                      subq    %rax, %rdx
    // 18: 48 8b 02                      movq    (%rdx), %rax
    // 1b: 48 89 0a                      movq    %rcx, (%rdx)
    // 1e: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 22: 5d                            popq    %rbp
    // 23: e9 00 00 00 00                jmp     0x28 <__JIT_ENTRY+0x28>
    // 0000000000000024:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[35] = {
        0x55, 0x48, 0x89, 0xe5, 0x0f, 0xb7, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x8b, 0x4d, 0xf8, 0xc1,
        0xe0, 0x03, 0x4c, 0x89, 0xea, 0x48, 0x29, 0xc2,
        0x48, 0x8b, 0x02, 0x48, 0x89, 0x0a, 0x49, 0x89,
        0x45, 0xf8, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + -0x4);
}

void
emit__TIER2_RESUME_CHECK(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _TIER2_RESUME_CHECK.o:     file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 46 18                   movq    0x18(%r14), %rax
    // 8: 84 c0                         testb   %al, %al
    // a: 74 06                         je      0x12 <__JIT_ENTRY+0x12>
    // c: 5d                            popq    %rbp
    // d: e9 00 00 00 00                jmp     0x12 <__JIT_ENTRY+0x12>
    // 000000000000000e:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 12: 5d                            popq    %rbp
    // 13: e9 00 00 00 00                jmp     0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[19] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x46, 0x18,
        0x84, 0xc0, 0x74, 0x06, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x5d,
    };
    memcpy(code, code_body, sizeof(code_body));
    patch_32r(code + 0xe, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__TO_BOOL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _TO_BOOL.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 48 89 df                      movq    %rbx, %rdi
    // 10: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT     _PyObject_IsTrue@GOTPCREL
    // 16: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 1b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 24: 8b 0b                         movl    (%rbx), %ecx
    // 26: 85 c9                         testl   %ecx, %ecx
    // 28: 78 06                         js      0x30 <__JIT_ENTRY+0x30>
    // 2a: ff c9                         decl    %ecx
    // 2c: 89 0b                         movl    %ecx, (%rbx)
    // 2e: 74 28                         je      0x58 <__JIT_ENTRY+0x58>
    // 30: 85 c0                         testl   %eax, %eax
    // 32: 78 35                         js      0x69 <__JIT_ENTRY+0x69>
    // 34: 75 11                         jne     0x47 <__JIT_ENTRY+0x47>
    // 36: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x3d <__JIT_ENTRY+0x3d>
    // 0000000000000039:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 3d: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 41: 5d                            popq    %rbp
    // 42: e9 00 00 00 00                jmp     0x47 <__JIT_ENTRY+0x47>
    // 0000000000000043:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 47: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x4e <__JIT_ENTRY+0x4e>
    // 000000000000004a:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 4e: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 52: 5d                            popq    %rbp
    // 53: e9 00 00 00 00                jmp     0x58 <__JIT_ENTRY+0x58>
    // 0000000000000054:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 58: 48 89 df                      movq    %rbx, %rdi
    // 5b: 89 c3                         movl    %eax, %ebx
    // 5d: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x63 <__JIT_ENTRY+0x63>
    // 000000000000005f:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 63: 89 d8                         movl    %ebx, %eax
    // 65: 85 c0                         testl   %eax, %eax
    // 67: 79 cb                         jns     0x34 <__JIT_ENTRY+0x34>
    // 69: 5d                            popq    %rbp
    // 6a: e9 00 00 00 00                jmp     0x6f <__JIT_ENTRY+0x6f>
    // 000000000000006b:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[111] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9,
        0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x28,
        0x85, 0xc0, 0x78, 0x35, 0x75, 0x11, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x45,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89,
        0x45, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0xdf, 0x89, 0xc3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x89, 0xd8, 0x85, 0xc0, 0x79,
        0xcb, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: &PyObject_IsTrue+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, (uintptr_t)&PyObject_IsTrue);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x39, (uintptr_t)data + 0xc);
    patch_32r(code + 0x43, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x4a, (uintptr_t)data + 0x4);
    patch_32r(code + 0x54, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x5f, (uintptr_t)data + -0x4);
    patch_32r(code + 0x6b, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__TO_BOOL_BOOL(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _TO_BOOL_BOOL.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 8b 40 08                   movq    0x8(%rax), %rax
    // c: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0x13 <__JIT_ENTRY+0x13>
    // 000000000000000f:  X86_64_RELOC_GOT     _PyBool_Type@GOTPCREL
    // 13: 74 06                         je      0x1b <__JIT_ENTRY+0x1b>
    // 15: 5d                            popq    %rbp
    // 16: e9 00 00 00 00                jmp     0x1b <__JIT_ENTRY+0x1b>
    // 0000000000000017:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 1b: 5d                            popq    %rbp
    // 1c: e9 00 00 00 00                jmp     0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[28] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x8b, 0x40, 0x08, 0x48, 0x3b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x74, 0x06, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x5d,
    };
    // 0: &PyBool_Type+0x0
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyBool_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xf, (uintptr_t)data + -0x4);
    patch_32r(code + 0x17, state->instruction_starts[instruction->jump_target] + -0x4);
}

void
emit__TO_BOOL_INT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _TO_BOOL_INT.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyLong_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 8b 47 10                      movl    0x10(%rdi), %eax
    // 18: 83 e0 03                      andl    $0x3, %eax
    // 1b: 83 f8 01                      cmpl    $0x1, %eax
    // 1e: 75 10                         jne     0x30 <__JIT_ENTRY+0x30>
    // 20: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0x27 <__JIT_ENTRY+0x27>
    // 0000000000000023:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 27: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 2b: e9 00 00 00 00                jmp     0x30 <__JIT_ENTRY+0x30>
    // 000000000000002c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 30: 8b 07                         movl    (%rdi), %eax
    // 32: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0x39 <__JIT_ENTRY+0x39>
    // 0000000000000035:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 39: 85 c0                         testl   %eax, %eax
    // 3b: 78 06                         js      0x43 <__JIT_ENTRY+0x43>
    // 3d: ff c8                         decl    %eax
    // 3f: 89 07                         movl    %eax, (%rdi)
    // 41: 74 09                         je      0x4c <__JIT_ENTRY+0x4c>
    // 43: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 47: e9 00 00 00 00                jmp     0x4c <__JIT_ENTRY+0x4c>
    // 0000000000000048:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 4c: 55                            pushq   %rbp
    // 4d: 48 89 e5                      movq    %rsp, %rbp
    // 50: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x56 <__JIT_ENTRY+0x56>
    // 0000000000000052:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 56: 5d                            popq    %rbp
    // 57: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 5b: e9 00 00 00 00                jmp     0x60 <__JIT_ENTRY+0x60>
    // 000000000000005c:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[91] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x8b, 0x47, 0x10,
        0x83, 0xe0, 0x03, 0x83, 0xf8, 0x01, 0x75, 0x10,
        0x48, 0x8b, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x49,
        0x89, 0x5d, 0xf8, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0x8b, 0x07, 0x48, 0x8b, 0x1d, 0x00, 0x00, 0x00,
        0x00, 0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89,
        0x07, 0x74, 0x09, 0x49, 0x89, 0x5d, 0xf8, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0x49,
        0x89, 0x5d, 0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_TrueStruct+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: &PyLong_Type+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, (uintptr_t)&PyLong_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x14);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x23, (uintptr_t)data + 0xc);
    patch_32r(code + 0x2c, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x35, (uintptr_t)data + 0x4);
    patch_32r(code + 0x48, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x52, (uintptr_t)data + -0x4);
}

void
emit__TO_BOOL_LIST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _TO_BOOL_LIST.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyList_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 55                            pushq   %rbp
    // 16: 48 89 e5                      movq    %rsp, %rbp
    // 19: 48 8b 5f 10                   movq    0x10(%rdi), %rbx
    // 1d: 8b 07                         movl    (%rdi), %eax
    // 1f: 85 c0                         testl   %eax, %eax
    // 21: 78 06                         js      0x29 <__JIT_ENTRY+0x29>
    // 23: ff c8                         decl    %eax
    // 25: 89 07                         movl    %eax, (%rdi)
    // 27: 74 16                         je      0x3f <__JIT_ENTRY+0x3f>
    // 29: 48 85 db                      testq   %rbx, %rbx
    // 2c: 75 1c                         jne     0x4a <__JIT_ENTRY+0x4a>
    // 2e: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x35 <__JIT_ENTRY+0x35>
    // 0000000000000031:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 35: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x45 <__JIT_ENTRY+0x45>
    // 0000000000000041:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 45: 48 85 db                      testq   %rbx, %rbx
    // 48: 74 e4                         je      0x2e <__JIT_ENTRY+0x2e>
    // 4a: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x51 <__JIT_ENTRY+0x51>
    // 000000000000004d:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 51: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 55: 5d                            popq    %rbp
    // 56: e9 00 00 00 00                jmp     0x5b <__JIT_ENTRY+0x5b>
    // 0000000000000057:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[86] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x55, 0x48, 0x89,
        0xe5, 0x48, 0x8b, 0x5f, 0x10, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74,
        0x16, 0x48, 0x85, 0xdb, 0x75, 0x1c, 0x48, 0x8b,
        0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89, 0x45,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xdb,
        0x74, 0xe4, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x45, 0xf8, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_Dealloc+0x0
    // 10: &_Py_FalseStruct+0x0
    // 18: &PyList_Type+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x10, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x18, (uintptr_t)&PyList_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x14);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x31, (uintptr_t)data + 0xc);
    patch_32r(code + 0x3b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x41, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x4d, (uintptr_t)data + -0x4);
}

void
emit__TO_BOOL_NONE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _TO_BOOL_NONE.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 45 f8                   movq    -0x8(%r13), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     __Py_NoneStruct@GOTPCREL
    // f: 74 06                         je      0x17 <__JIT_ENTRY+0x17>
    // 11: 5d                            popq    %rbp
    // 12: e9 00 00 00 00                jmp     0x17 <__JIT_ENTRY+0x17>
    // 0000000000000013:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 17: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x1e <__JIT_ENTRY+0x1e>
    // 000000000000001a:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 1e: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 22: 5d                            popq    %rbp
    // 23: e9 00 00 00 00                jmp     0x28 <__JIT_ENTRY+0x28>
    // 0000000000000024:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[35] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x45, 0xf8,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x74,
        0x06, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x8b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x49, 0x89,
        0x45, 0xf8, 0x5d,
    };
    // 0: &_Py_FalseStruct+0x0
    // 8: &_Py_NoneStruct+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_NoneStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x4);
    patch_32r(code + 0x13, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x1a, (uintptr_t)data + -0x4);
}

void
emit__TO_BOOL_STR(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _TO_BOOL_STR.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyUnicode_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: b8 98 87 00 00                movl    $0x8798, %eax           ## imm = 0x8798
    // 1a: 48 03 05 00 00 00 00          addq    (%rip), %rax            ## 0x21 <__JIT_ENTRY+0x21>
    // 000000000000001d:  X86_64_RELOC_GOT     __PyRuntime@GOTPCREL
    // 21: 48 39 c7                      cmpq    %rax, %rdi
    // 24: 74 1c                         je      0x42 <__JIT_ENTRY+0x42>
    // 26: 8b 07                         movl    (%rdi), %eax
    // 28: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0x2f <__JIT_ENTRY+0x2f>
    // 000000000000002b:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 2f: 85 c0                         testl   %eax, %eax
    // 31: 78 06                         js      0x39 <__JIT_ENTRY+0x39>
    // 33: ff c8                         decl    %eax
    // 35: 89 07                         movl    %eax, (%rdi)
    // 37: 74 19                         je      0x52 <__JIT_ENTRY+0x52>
    // 39: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 3d: e9 00 00 00 00                jmp     0x42 <__JIT_ENTRY+0x42>
    // 000000000000003e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 42: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0x49 <__JIT_ENTRY+0x49>
    // 0000000000000045:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // 49: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 4d: e9 00 00 00 00                jmp     0x52 <__JIT_ENTRY+0x52>
    // 000000000000004e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 52: 55                            pushq   %rbp
    // 53: 48 89 e5                      movq    %rsp, %rbp
    // 56: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x5c <__JIT_ENTRY+0x5c>
    // 0000000000000058:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 5c: 5d                            popq    %rbp
    // 5d: 49 89 5d f8                   movq    %rbx, -0x8(%r13)
    // 61: e9 00 00 00 00                jmp     0x66 <__JIT_ENTRY+0x66>
    // 0000000000000062:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[97] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0xb8, 0x98, 0x87,
        0x00, 0x00, 0x48, 0x03, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x48, 0x39, 0xc7, 0x74, 0x1c, 0x8b, 0x07,
        0x48, 0x8b, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74,
        0x19, 0x49, 0x89, 0x5d, 0xf8, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x8b, 0x1d, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x5d, 0xf8, 0xe9, 0x00, 0x00,
        0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x5d, 0x49, 0x89, 0x5d,
        0xf8,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_Py_FalseStruct+0x0
    // 10: &_Py_TrueStruct+0x0
    // 18: &_PyRuntime+0x0
    // 20: &PyUnicode_Type+0x0
    const unsigned char data_body[40] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x18, (uintptr_t)&_PyRuntime);
    patch_64(data + 0x20, (uintptr_t)&PyUnicode_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x1c);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x1d, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x2b, (uintptr_t)data + 0xc);
    patch_32r(code + 0x3e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x45, (uintptr_t)data + 0x4);
    patch_32r(code + 0x4e, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x58, (uintptr_t)data + -0x4);
}

void
emit__UNARY_INVERT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNARY_INVERT.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 48 89 df                      movq    %rbx, %rdi
    // 10: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT     _PyNumber_Invert@GOTPCREL
    // 16: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 1b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 24: 8b 0b                         movl    (%rbx), %ecx
    // 26: 85 c9                         testl   %ecx, %ecx
    // 28: 78 06                         js      0x30 <__JIT_ENTRY+0x30>
    // 2a: ff c9                         decl    %ecx
    // 2c: 89 0b                         movl    %ecx, (%rbx)
    // 2e: 74 0f                         je      0x3f <__JIT_ENTRY+0x3f>
    // 30: 48 85 c0                      testq   %rax, %rax
    // 33: 74 1e                         je      0x53 <__JIT_ENTRY+0x53>
    // 35: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3f: 48 89 df                      movq    %rbx, %rdi
    // 42: 48 89 c3                      movq    %rax, %rbx
    // 45: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4b: 48 89 d8                      movq    %rbx, %rax
    // 4e: 48 85 c0                      testq   %rax, %rax
    // 51: 75 e2                         jne     0x35 <__JIT_ENTRY+0x35>
    // 53: 5d                            popq    %rbp
    // 54: e9 00 00 00 00                jmp     0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[89] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9,
        0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x0f,
        0x48, 0x85, 0xc0, 0x74, 0x1e, 0x49, 0x89, 0x45,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xd8, 0x48, 0x85,
        0xc0, 0x75, 0xe2, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyNumber_Invert+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyNumber_Invert);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0x4);
    patch_32r(code + 0x3b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x47, (uintptr_t)data + -0x4);
    patch_32r(code + 0x55, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__UNARY_NEGATIVE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNARY_NEGATIVE.o: file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 8: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // d: 48 89 df                      movq    %rbx, %rdi
    // 10: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x16 <__JIT_ENTRY+0x16>
    // 0000000000000012:  X86_64_RELOC_GOT     _PyNumber_Negative@GOTPCREL
    // 16: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 1b: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 24: 8b 0b                         movl    (%rbx), %ecx
    // 26: 85 c9                         testl   %ecx, %ecx
    // 28: 78 06                         js      0x30 <__JIT_ENTRY+0x30>
    // 2a: ff c9                         decl    %ecx
    // 2c: 89 0b                         movl    %ecx, (%rbx)
    // 2e: 74 0f                         je      0x3f <__JIT_ENTRY+0x3f>
    // 30: 48 85 c0                      testq   %rax, %rax
    // 33: 74 1e                         je      0x53 <__JIT_ENTRY+0x53>
    // 35: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 39: 5d                            popq    %rbp
    // 3a: e9 00 00 00 00                jmp     0x3f <__JIT_ENTRY+0x3f>
    // 000000000000003b:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 3f: 48 89 df                      movq    %rbx, %rdi
    // 42: 48 89 c3                      movq    %rax, %rbx
    // 45: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4b <__JIT_ENTRY+0x4b>
    // 0000000000000047:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4b: 48 89 d8                      movq    %rbx, %rax
    // 4e: 48 85 c0                      testq   %rax, %rax
    // 51: 75 e2                         jne     0x35 <__JIT_ENTRY+0x35>
    // 53: 5d                            popq    %rbp
    // 54: e9 00 00 00 00                jmp     0x59 <__JIT_ENTRY+0x59>
    // 0000000000000055:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[89] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x5d, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x89, 0xdf,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9,
        0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x0f,
        0x48, 0x85, 0xc0, 0x74, 0x1e, 0x49, 0x89, 0x45,
        0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x48,
        0x89, 0xdf, 0x48, 0x89, 0xc3, 0xff, 0x15, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xd8, 0x48, 0x85,
        0xc0, 0x75, 0xe2, 0x5d, 0xe9, 0x00, 0x00, 0x00,
        0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyNumber_Negative+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyNumber_Negative);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x12, (uintptr_t)data + 0x4);
    patch_32r(code + 0x3b, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x47, (uintptr_t)data + -0x4);
    patch_32r(code + 0x55, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__UNARY_NOT(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNARY_NOT.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __Py_FalseStruct@GOTPCREL
    // b: 49 39 45 f8                   cmpq    %rax, -0x8(%r13)
    // f: 75 07                         jne     0x18 <__JIT_ENTRY+0x18>
    // 11: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x18 <__JIT_ENTRY+0x18>
    // 0000000000000014:  X86_64_RELOC_GOT_LOAD        __Py_TrueStruct@GOTPCREL
    // 18: 49 89 45 f8                   movq    %rax, -0x8(%r13)
    // 1c: 5d                            popq    %rbp
    // 1d: e9 00 00 00 00                jmp     0x22 <__JIT_ENTRY+0x22>
    // 000000000000001e:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[29] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05, 0x00,
        0x00, 0x00, 0x00, 0x49, 0x39, 0x45, 0xf8, 0x75,
        0x07, 0x48, 0x8b, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x49, 0x89, 0x45, 0xf8, 0x5d,
    };
    // 0: &_Py_TrueStruct+0x0
    // 8: &_Py_FalseStruct+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_TrueStruct);
    patch_64(data + 0x8, (uintptr_t)&_Py_FalseStruct);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0x14, (uintptr_t)data + -0x4);
}

void
emit__UNPACK_EX(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNPACK_EX.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 10                   subq    $0x10, %rsp
    // 8: 4c 89 f7                      movq    %r14, %rdi
    // b: 8b 05 00 00 00 00             movl    (%rip), %eax            ## 0x11 <__JIT_ENTRY+0x11>
    // 000000000000000d:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 11: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 15: 0f b6 d8                      movzbl  %al, %ebx
    // 18: 49 8d 54 dd 00                leaq    (%r13,%rbx,8), %rdx
    // 1d: 0f b6 cc                      movzbl  %ah, %ecx
    // 20: 4c 8d 04 ca                   leaq    (%rdx,%rcx,8), %r8
    // 24: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 29: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // 2d: 4c 89 fe                      movq    %r15, %rsi
    // 30: 89 da                         movl    %ebx, %edx
    // 32: 48 89 4d f0                   movq    %rcx, -0x10(%rbp)
    // 36: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x3c <__JIT_ENTRY+0x3c>
    // 0000000000000038:  X86_64_RELOC_GOT     __PyEval_UnpackIterableStackRef@GOTPCREL
    // 3c: 41 89 c6                      movl    %eax, %r14d
    // 3f: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 44: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 4d: 41 8b 07                      movl    (%r15), %eax
    // 50: 85 c0                         testl   %eax, %eax
    // 52: 78 07                         js      0x5b <__JIT_ENTRY+0x5b>
    // 54: ff c8                         decl    %eax
    // 56: 41 89 07                      movl    %eax, (%r15)
    // 59: 74 1b                         je      0x76 <__JIT_ENTRY+0x76>
    // 5b: 45 85 f6                      testl   %r14d, %r14d
    // 5e: 74 24                         je      0x84 <__JIT_ENTRY+0x84>
    // 60: 03 5d f0                      addl    -0x10(%rbp), %ebx
    // 63: 4d 8d 6c dd 00                leaq    (%r13,%rbx,8), %r13
    // 68: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 6c: 48 83 c4 10                   addq    $0x10, %rsp
    // 70: 5d                            popq    %rbp
    // 71: e9 00 00 00 00                jmp     0x76 <__JIT_ENTRY+0x76>
    // 0000000000000072:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 76: 4c 89 ff                      movq    %r15, %rdi
    // 79: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x7f <__JIT_ENTRY+0x7f>
    // 000000000000007b:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 7f: 45 85 f6                      testl   %r14d, %r14d
    // 82: 75 dc                         jne     0x60 <__JIT_ENTRY+0x60>
    // 84: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // 88: 48 83 c4 10                   addq    $0x10, %rsp
    // 8c: 5d                            popq    %rbp
    // 8d: e9 00 00 00 00                jmp     0x92 <__JIT_ENTRY+0x92>
    // 000000000000008e:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[146] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x10,
        0x4c, 0x89, 0xf7, 0x8b, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x4d, 0x8b, 0x7d, 0xf8, 0x0f, 0xb6, 0xd8,
        0x49, 0x8d, 0x54, 0xdd, 0x00, 0x0f, 0xb6, 0xcc,
        0x4c, 0x8d, 0x04, 0xca, 0x4d, 0x89, 0x6c, 0x24,
        0x40, 0x4c, 0x89, 0x75, 0xf8, 0x4c, 0x89, 0xfe,
        0x89, 0xda, 0x48, 0x89, 0x4d, 0xf0, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x41, 0x89, 0xc6, 0x4d,
        0x8b, 0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24,
        0x40, 0x00, 0x00, 0x00, 0x00, 0x41, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x07, 0xff, 0xc8, 0x41, 0x89,
        0x07, 0x74, 0x1b, 0x45, 0x85, 0xf6, 0x74, 0x24,
        0x03, 0x5d, 0xf0, 0x4d, 0x8d, 0x6c, 0xdd, 0x00,
        0x4c, 0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x10,
        0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x89,
        0xff, 0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x45,
        0x85, 0xf6, 0x75, 0xdc, 0x4c, 0x8b, 0x75, 0xf8,
        0x48, 0x83, 0xc4, 0x10, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_UnpackIterableStackRef+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_UnpackIterableStackRef);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xd, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x38, (uintptr_t)data + 0x4);
    patch_32r(code + 0x72, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x7b, (uintptr_t)data + -0x4);
    patch_32r(code + 0x8e, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__UNPACK_SEQUENCE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNPACK_SEQUENCE.o:        file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 4c 8b 3d 00 00 00 00          movq    (%rip), %r15            ## 0xb <__JIT_ENTRY+0xb>
    // 0000000000000007:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // b: 41 0f b7 d7                   movzwl  %r15w, %edx
    // f: 49 8b 5d f8                   movq    -0x8(%r13), %rbx
    // 13: 4d 8d 44 d5 f8                leaq    -0x8(%r13,%rdx,8), %r8
    // 18: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 1d: 4c 89 f7                      movq    %r14, %rdi
    // 20: 48 89 de                      movq    %rbx, %rsi
    // 23: b9 ff ff ff ff                movl    $0xffffffff, %ecx       ## imm = 0xFFFFFFFF
    // 28: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2e <__JIT_ENTRY+0x2e>
    // 000000000000002a:  X86_64_RELOC_GOT     __PyEval_UnpackIterableStackRef@GOTPCREL
    // 2e: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // 33: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // 3c: 8b 0b                         movl    (%rbx), %ecx
    // 3e: 85 c9                         testl   %ecx, %ecx
    // 40: 78 06                         js      0x48 <__JIT_ENTRY+0x48>
    // 42: ff c9                         decl    %ecx
    // 44: 89 0b                         movl    %ecx, (%rbx)
    // 46: 74 13                         je      0x5b <__JIT_ENTRY+0x5b>
    // 48: 85 c0                         testl   %eax, %eax
    // 4a: 74 20                         je      0x6c <__JIT_ENTRY+0x6c>
    // 4c: 41 0f b7 c7                   movzwl  %r15w, %eax
    // 50: 4d 8d 6c c5 f8                leaq    -0x8(%r13,%rax,8), %r13
    // 55: 5d                            popq    %rbp
    // 56: e9 00 00 00 00                jmp     0x5b <__JIT_ENTRY+0x5b>
    // 0000000000000057:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 5b: 48 89 df                      movq    %rbx, %rdi
    // 5e: 89 c3                         movl    %eax, %ebx
    // 60: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x66 <__JIT_ENTRY+0x66>
    // 0000000000000062:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 66: 89 d8                         movl    %ebx, %eax
    // 68: 85 c0                         testl   %eax, %eax
    // 6a: 75 e0                         jne     0x4c <__JIT_ENTRY+0x4c>
    // 6c: 5d                            popq    %rbp
    // 6d: e9 00 00 00 00                jmp     0x72 <__JIT_ENTRY+0x72>
    // 000000000000006e:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[114] = {
        0x55, 0x48, 0x89, 0xe5, 0x4c, 0x8b, 0x3d, 0x00,
        0x00, 0x00, 0x00, 0x41, 0x0f, 0xb7, 0xd7, 0x49,
        0x8b, 0x5d, 0xf8, 0x4d, 0x8d, 0x44, 0xd5, 0xf8,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x4c, 0x89, 0xf7,
        0x48, 0x89, 0xde, 0xb9, 0xff, 0xff, 0xff, 0xff,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b,
        0x6c, 0x24, 0x40, 0x49, 0xc7, 0x44, 0x24, 0x40,
        0x00, 0x00, 0x00, 0x00, 0x8b, 0x0b, 0x85, 0xc9,
        0x78, 0x06, 0xff, 0xc9, 0x89, 0x0b, 0x74, 0x13,
        0x85, 0xc0, 0x74, 0x20, 0x41, 0x0f, 0xb7, 0xc7,
        0x4d, 0x8d, 0x6c, 0xc5, 0xf8, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x48, 0x89, 0xdf, 0x89, 0xc3,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x89, 0xd8,
        0x85, 0xc0, 0x75, 0xe0, 0x5d, 0xe9, 0x00, 0x00,
        0x00, 0x00,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &_PyEval_UnpackIterableStackRef+0x0
    // 10: OPARG
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&_PyEval_UnpackIterableStackRef);
    patch_64(data + 0x10, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x7, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x2a, (uintptr_t)data + 0x4);
    patch_32r(code + 0x57, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x62, (uintptr_t)data + -0x4);
    patch_32r(code + 0x6e, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__UNPACK_SEQUENCE_LIST(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNPACK_SEQUENCE_LIST.o:   file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyList_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 48 8b 5f 10                   movq    0x10(%rdi), %rbx
    // 19: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 20: 48 39 c3                      cmpq    %rax, %rbx
    // 23: 0f 85 00 00 00 00             jne     0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 29: 55                            pushq   %rbp
    // 2a: 48 89 e5                      movq    %rsp, %rbp
    // 2d: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 34: 66 85 c0                      testw   %ax, %ax
    // 37: 74 3c                         je      0x75 <__JIT_ENTRY+0x75>
    // 39: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // 3d: 48 8b 4f 18                   movq    0x18(%rdi), %rcx
    // 41: 48 8d 53 01                   leaq    0x1(%rbx), %rdx
    // 45: eb 19                         jmp     0x60 <__JIT_ENTRY+0x60>
    // 47: 66 0f 1f 84 00 00 00 00 00    nopw    (%rax,%rax)
    // 50: 48 89 30                      movq    %rsi, (%rax)
    // 53: 48 83 c0 08                   addq    $0x8, %rax
    // 57: 48 ff ca                      decq    %rdx
    // 5a: 48 83 fa 01                   cmpq    $0x1, %rdx
    // 5e: 76 15                         jbe     0x75 <__JIT_ENTRY+0x75>
    // 60: 48 8b 74 d1 f0                movq    -0x10(%rcx,%rdx,8), %rsi
    // 65: 44 8b 06                      movl    (%rsi), %r8d
    // 68: 45 85 c0                      testl   %r8d, %r8d
    // 6b: 78 e3                         js      0x50 <__JIT_ENTRY+0x50>
    // 6d: 41 ff c0                      incl    %r8d
    // 70: 44 89 06                      movl    %r8d, (%rsi)
    // 73: eb db                         jmp     0x50 <__JIT_ENTRY+0x50>
    // 75: 8b 07                         movl    (%rdi), %eax
    // 77: 85 c0                         testl   %eax, %eax
    // 79: 78 06                         js      0x81 <__JIT_ENTRY+0x81>
    // 7b: ff c8                         decl    %eax
    // 7d: 89 07                         movl    %eax, (%rdi)
    // 7f: 74 0b                         je      0x8c <__JIT_ENTRY+0x8c>
    // 81: 4d 8d 6c dd f8                leaq    -0x8(%r13,%rbx,8), %r13
    // 86: 5d                            popq    %rbp
    // 87: e9 00 00 00 00                jmp     0x8c <__JIT_ENTRY+0x8c>
    // 0000000000000088:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 8c: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x92 <__JIT_ENTRY+0x92>
    // 000000000000008e:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 92: 4d 8d 6c dd f8                leaq    -0x8(%r13,%rbx,8), %r13
    // 97: 5d                            popq    %rbp
    // 98: e9 00 00 00 00                jmp     0x9d <__JIT_ENTRY+0x9d>
    // 0000000000000099:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[152] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x5f,
        0x10, 0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x39, 0xc3, 0x0f, 0x85, 0x00, 0x00, 0x00,
        0x00, 0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x66, 0x85, 0xc0, 0x74,
        0x3c, 0x49, 0x8d, 0x45, 0xf8, 0x48, 0x8b, 0x4f,
        0x18, 0x48, 0x8d, 0x53, 0x01, 0xeb, 0x19, 0x66,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0x30, 0x48, 0x83, 0xc0, 0x08, 0x48,
        0xff, 0xca, 0x48, 0x83, 0xfa, 0x01, 0x76, 0x15,
        0x48, 0x8b, 0x74, 0xd1, 0xf0, 0x44, 0x8b, 0x06,
        0x45, 0x85, 0xc0, 0x78, 0xe3, 0x41, 0xff, 0xc0,
        0x44, 0x89, 0x06, 0xeb, 0xdb, 0x8b, 0x07, 0x85,
        0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07, 0x74,
        0x0b, 0x4d, 0x8d, 0x6c, 0xdd, 0xf8, 0x5d, 0xe9,
        0x00, 0x00, 0x00, 0x00, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0x4d, 0x8d, 0x6c, 0xdd, 0xf8, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    // 10: &PyList_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    patch_64(data + 0x10, (uintptr_t)&PyList_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0x4);
    patch_32r(code + 0x25, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x30, (uintptr_t)data + 0x4);
    patch_32r(code + 0x88, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x8e, (uintptr_t)data + -0x4);
}

void
emit__UNPACK_SEQUENCE_TUPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNPACK_SEQUENCE_TUPLE.o:  file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyTuple_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 48 8b 5f 10                   movq    0x10(%rdi), %rbx
    // 19: 0f b7 05 00 00 00 00          movzwl  (%rip), %eax            ## 0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 20: 48 39 c3                      cmpq    %rax, %rbx
    // 23: 0f 85 00 00 00 00             jne     0x29 <__JIT_ENTRY+0x29>
    // 0000000000000025:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 29: 55                            pushq   %rbp
    // 2a: 48 89 e5                      movq    %rsp, %rbp
    // 2d: 48 8b 05 00 00 00 00          movq    (%rip), %rax            ## 0x34 <__JIT_ENTRY+0x34>
    // 0000000000000030:  X86_64_RELOC_GOT_LOAD        __JIT_OPARG@GOTPCREL
    // 34: 66 85 c0                      testw   %ax, %ax
    // 37: 74 38                         je      0x71 <__JIT_ENTRY+0x71>
    // 39: 49 8d 45 f8                   leaq    -0x8(%r13), %rax
    // 3d: 48 8d 4b 01                   leaq    0x1(%rbx), %rcx
    // 41: eb 1d                         jmp     0x60 <__JIT_ENTRY+0x60>
    // 43: 66 66 66 66 2e 0f 1f 84 00 00 00 00 00        nopw    %cs:(%rax,%rax)
    // 50: 48 89 10                      movq    %rdx, (%rax)
    // 53: 48 83 c0 08                   addq    $0x8, %rax
    // 57: 48 ff c9                      decq    %rcx
    // 5a: 48 83 f9 01                   cmpq    $0x1, %rcx
    // 5e: 76 11                         jbe     0x71 <__JIT_ENTRY+0x71>
    // 60: 48 8b 54 cf 08                movq    0x8(%rdi,%rcx,8), %rdx
    // 65: 8b 32                         movl    (%rdx), %esi
    // 67: 85 f6                         testl   %esi, %esi
    // 69: 78 e5                         js      0x50 <__JIT_ENTRY+0x50>
    // 6b: ff c6                         incl    %esi
    // 6d: 89 32                         movl    %esi, (%rdx)
    // 6f: eb df                         jmp     0x50 <__JIT_ENTRY+0x50>
    // 71: 8b 07                         movl    (%rdi), %eax
    // 73: 85 c0                         testl   %eax, %eax
    // 75: 78 06                         js      0x7d <__JIT_ENTRY+0x7d>
    // 77: ff c8                         decl    %eax
    // 79: 89 07                         movl    %eax, (%rdi)
    // 7b: 74 0b                         je      0x88 <__JIT_ENTRY+0x88>
    // 7d: 4d 8d 6c dd f8                leaq    -0x8(%r13,%rbx,8), %r13
    // 82: 5d                            popq    %rbp
    // 83: e9 00 00 00 00                jmp     0x88 <__JIT_ENTRY+0x88>
    // 0000000000000084:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 88: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x8e <__JIT_ENTRY+0x8e>
    // 000000000000008a:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 8e: 4d 8d 6c dd f8                leaq    -0x8(%r13,%rbx,8), %r13
    // 93: 5d                            popq    %rbp
    // 94: e9 00 00 00 00                jmp     0x99 <__JIT_ENTRY+0x99>
    // 0000000000000095:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[148] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x48, 0x8b, 0x5f,
        0x10, 0x0f, 0xb7, 0x05, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x39, 0xc3, 0x0f, 0x85, 0x00, 0x00, 0x00,
        0x00, 0x55, 0x48, 0x89, 0xe5, 0x48, 0x8b, 0x05,
        0x00, 0x00, 0x00, 0x00, 0x66, 0x85, 0xc0, 0x74,
        0x38, 0x49, 0x8d, 0x45, 0xf8, 0x48, 0x8d, 0x4b,
        0x01, 0xeb, 0x1d, 0x66, 0x66, 0x66, 0x66, 0x2e,
        0x0f, 0x1f, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x89, 0x10, 0x48, 0x83, 0xc0, 0x08, 0x48,
        0xff, 0xc9, 0x48, 0x83, 0xf9, 0x01, 0x76, 0x11,
        0x48, 0x8b, 0x54, 0xcf, 0x08, 0x8b, 0x32, 0x85,
        0xf6, 0x78, 0xe5, 0xff, 0xc6, 0x89, 0x32, 0xeb,
        0xdf, 0x8b, 0x07, 0x85, 0xc0, 0x78, 0x06, 0xff,
        0xc8, 0x89, 0x07, 0x74, 0x0b, 0x4d, 0x8d, 0x6c,
        0xdd, 0xf8, 0x5d, 0xe9, 0x00, 0x00, 0x00, 0x00,
        0xff, 0x15, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x8d,
        0x6c, 0xdd, 0xf8, 0x5d,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: OPARG
    // 10: &PyTuple_Type+0x0
    const unsigned char data_body[24] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, instruction->oparg);
    patch_64(data + 0x10, (uintptr_t)&PyTuple_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0xc);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x1c, (uintptr_t)data + 0x4);
    patch_32r(code + 0x25, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_x86_64_32rx(code + 0x30, (uintptr_t)data + 0x4);
    patch_32r(code + 0x84, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x8a, (uintptr_t)data + -0x4);
}

void
emit__UNPACK_SEQUENCE_TWO_TUPLE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _UNPACK_SEQUENCE_TWO_TUPLE.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 49 8b 7d f8                   movq    -0x8(%r13), %rdi
    // 4: 48 8b 47 08                   movq    0x8(%rdi), %rax
    // 8: 48 3b 05 00 00 00 00          cmpq    (%rip), %rax            ## 0xf <__JIT_ENTRY+0xf>
    // 000000000000000b:  X86_64_RELOC_GOT     _PyTuple_Type@GOTPCREL
    // f: 0f 85 00 00 00 00             jne     0x15 <__JIT_ENTRY+0x15>
    // 0000000000000011:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 15: 48 83 7f 10 02                cmpq    $0x2, 0x10(%rdi)
    // 1a: 0f 85 00 00 00 00             jne     0x20 <__JIT_ENTRY+0x20>
    // 000000000000001c:  X86_64_RELOC_BRANCH  __JIT_JUMP_TARGET
    // 20: 48 8b 5f 18                   movq    0x18(%rdi), %rbx
    // 24: 8b 03                         movl    (%rbx), %eax
    // 26: 85 c0                         testl   %eax, %eax
    // 28: 78 04                         js      0x2e <__JIT_ENTRY+0x2e>
    // 2a: ff c0                         incl    %eax
    // 2c: 89 03                         movl    %eax, (%rbx)
    // 2e: 4c 8b 7f 20                   movq    0x20(%rdi), %r15
    // 32: 41 8b 07                      movl    (%r15), %eax
    // 35: 85 c0                         testl   %eax, %eax
    // 37: 78 05                         js      0x3e <__JIT_ENTRY+0x3e>
    // 39: ff c0                         incl    %eax
    // 3b: 41 89 07                      movl    %eax, (%r15)
    // 3e: 8b 07                         movl    (%rdi), %eax
    // 40: 85 c0                         testl   %eax, %eax
    // 42: 78 06                         js      0x4a <__JIT_ENTRY+0x4a>
    // 44: ff c8                         decl    %eax
    // 46: 89 07                         movl    %eax, (%rdi)
    // 48: 74 11                         je      0x5b <__JIT_ENTRY+0x5b>
    // 4a: 4d 89 7d f8                   movq    %r15, -0x8(%r13)
    // 4e: 49 89 5d 00                   movq    %rbx, (%r13)
    // 52: 49 83 c5 08                   addq    $0x8, %r13
    // 56: e9 00 00 00 00                jmp     0x5b <__JIT_ENTRY+0x5b>
    // 0000000000000057:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // 5b: 55                            pushq   %rbp
    // 5c: 48 89 e5                      movq    %rsp, %rbp
    // 5f: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x65 <__JIT_ENTRY+0x65>
    // 0000000000000061:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 65: 5d                            popq    %rbp
    // 66: 4d 89 7d f8                   movq    %r15, -0x8(%r13)
    // 6a: 49 89 5d 00                   movq    %rbx, (%r13)
    // 6e: 49 83 c5 08                   addq    $0x8, %r13
    // 72: e9 00 00 00 00                jmp     0x77 <__JIT_ENTRY+0x77>
    // 0000000000000073:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[114] = {
        0x49, 0x8b, 0x7d, 0xf8, 0x48, 0x8b, 0x47, 0x08,
        0x48, 0x3b, 0x05, 0x00, 0x00, 0x00, 0x00, 0x0f,
        0x85, 0x00, 0x00, 0x00, 0x00, 0x48, 0x83, 0x7f,
        0x10, 0x02, 0x0f, 0x85, 0x00, 0x00, 0x00, 0x00,
        0x48, 0x8b, 0x5f, 0x18, 0x8b, 0x03, 0x85, 0xc0,
        0x78, 0x04, 0xff, 0xc0, 0x89, 0x03, 0x4c, 0x8b,
        0x7f, 0x20, 0x41, 0x8b, 0x07, 0x85, 0xc0, 0x78,
        0x05, 0xff, 0xc0, 0x41, 0x89, 0x07, 0x8b, 0x07,
        0x85, 0xc0, 0x78, 0x06, 0xff, 0xc8, 0x89, 0x07,
        0x74, 0x11, 0x4d, 0x89, 0x7d, 0xf8, 0x49, 0x89,
        0x5d, 0x00, 0x49, 0x83, 0xc5, 0x08, 0xe9, 0x00,
        0x00, 0x00, 0x00, 0x55, 0x48, 0x89, 0xe5, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x5d, 0x4d, 0x89,
        0x7d, 0xf8, 0x49, 0x89, 0x5d, 0x00, 0x49, 0x83,
        0xc5, 0x08,
    };
    // 0: &_Py_Dealloc+0x0
    // 8: &PyTuple_Type+0x0
    const unsigned char data_body[16] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x8, (uintptr_t)&PyTuple_Type);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0xb, (uintptr_t)data + 0x4);
    patch_32r(code + 0x11, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x1c, state->instruction_starts[instruction->jump_target] + -0x4);
    patch_32r(code + 0x57, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_x86_64_32rx(code + 0x61, (uintptr_t)data + -0x4);
}

void
emit__WITH_EXCEPT_START(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _WITH_EXCEPT_START.o:      file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 48 83 ec 40                   subq    $0x40, %rsp
    // 8: 4c 89 75 f8                   movq    %r14, -0x8(%rbp)
    // c: 4d 8b 7d f8                   movq    -0x8(%r13), %r15
    // 10: 49 8b 45 d8                   movq    -0x28(%r13), %rax
    // 14: 48 89 45 e8                   movq    %rax, -0x18(%rbp)
    // 18: 4d 8b 75 e0                   movq    -0x20(%r13), %r14
    // 1c: 49 8b 47 08                   movq    0x8(%r15), %rax
    // 20: 48 89 45 f0                   movq    %rax, -0x10(%rbp)
    // 24: 4c 89 ff                      movq    %r15, %rdi
    // 27: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x2d <__JIT_ENTRY+0x2d>
    // 0000000000000029:  X86_64_RELOC_GOT     _PyException_GetTraceback@GOTPCREL
    // 2d: 48 85 c0                      testq   %rax, %rax
    // 30: 74 1a                         je      0x4c <__JIT_ENTRY+0x4c>
    // 32: 48 89 c3                      movq    %rax, %rbx
    // 35: 8b 00                         movl    (%rax), %eax
    // 37: 85 c0                         testl   %eax, %eax
    // 39: 78 18                         js      0x53 <__JIT_ENTRY+0x53>
    // 3b: ff c8                         decl    %eax
    // 3d: 89 03                         movl    %eax, (%rbx)
    // 3f: 75 12                         jne     0x53 <__JIT_ENTRY+0x53>
    // 41: 48 89 df                      movq    %rbx, %rdi
    // 44: ff 15 00 00 00 00             callq   *(%rip)                 ## 0x4a <__JIT_ENTRY+0x4a>
    // 0000000000000046:  X86_64_RELOC_GOT     __Py_Dealloc@GOTPCREL
    // 4a: eb 07                         jmp     0x53 <__JIT_ENTRY+0x53>
    // 4c: 48 8b 1d 00 00 00 00          movq    (%rip), %rbx            ## 0x53 <__JIT_ENTRY+0x53>
    // 000000000000004f:  X86_64_RELOC_GOT_LOAD        __Py_NoneStruct@GOTPCREL
    // 53: 48 c7 45 c0 00 00 00 00       movq    $0x0, -0x40(%rbp)
    // 5b: 4c 89 75 c8                   movq    %r14, -0x38(%rbp)
    // 5f: 48 8d 75 d0                   leaq    -0x30(%rbp), %rsi
    // 63: 48 8b 45 f0                   movq    -0x10(%rbp), %rax
    // 67: 48 89 45 d0                   movq    %rax, -0x30(%rbp)
    // 6b: 4c 89 7d d8                   movq    %r15, -0x28(%rbp)
    // 6f: 48 89 5d e0                   movq    %rbx, -0x20(%rbp)
    // 73: 48 b8 03 00 00 00 00 00 00 80 movabsq $-0x7ffffffffffffffd, %rax ## imm = 0x8000000000000003
    // 7d: 48 8d 50 01                   leaq    0x1(%rax), %rdx
    // 81: 31 c9                         xorl    %ecx, %ecx
    // 83: 4d 85 f6                      testq   %r14, %r14
    // 86: 0f 95 c1                      setne   %cl
    // 89: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 8e: 48 0f 44 d0                   cmoveq  %rax, %rdx
    // 92: c1 e1 03                      shll    $0x3, %ecx
    // 95: 48 29 ce                      subq    %rcx, %rsi
    // 98: 48 8b 7d e8                   movq    -0x18(%rbp), %rdi
    // 9c: 31 c9                         xorl    %ecx, %ecx
    // 9e: ff 15 00 00 00 00             callq   *(%rip)                 ## 0xa4 <__JIT_ENTRY+0xa4>
    // 00000000000000a0:  X86_64_RELOC_GOT     _PyObject_Vectorcall@GOTPCREL
    // a4: 4d 8b 6c 24 40                movq    0x40(%r12), %r13
    // a9: 49 c7 44 24 40 00 00 00 00    movq    $0x0, 0x40(%r12)
    // b2: 48 85 c0                      testq   %rax, %rax
    // b5: 74 16                         je      0xcd <__JIT_ENTRY+0xcd>
    // b7: 49 89 45 00                   movq    %rax, (%r13)
    // bb: 49 83 c5 08                   addq    $0x8, %r13
    // bf: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // c3: 48 83 c4 40                   addq    $0x40, %rsp
    // c7: 5d                            popq    %rbp
    // c8: e9 00 00 00 00                jmp     0xcd <__JIT_ENTRY+0xcd>
    // 00000000000000c9:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    // cd: 4c 8b 75 f8                   movq    -0x8(%rbp), %r14
    // d1: 48 83 c4 40                   addq    $0x40, %rsp
    // d5: 5d                            popq    %rbp
    // d6: e9 00 00 00 00                jmp     0xdb <__JIT_ENTRY+0xdb>
    // 00000000000000d7:  X86_64_RELOC_BRANCH  __JIT_ERROR_TARGET
    const unsigned char code_body[219] = {
        0x55, 0x48, 0x89, 0xe5, 0x48, 0x83, 0xec, 0x40,
        0x4c, 0x89, 0x75, 0xf8, 0x4d, 0x8b, 0x7d, 0xf8,
        0x49, 0x8b, 0x45, 0xd8, 0x48, 0x89, 0x45, 0xe8,
        0x4d, 0x8b, 0x75, 0xe0, 0x49, 0x8b, 0x47, 0x08,
        0x48, 0x89, 0x45, 0xf0, 0x4c, 0x89, 0xff, 0xff,
        0x15, 0x00, 0x00, 0x00, 0x00, 0x48, 0x85, 0xc0,
        0x74, 0x1a, 0x48, 0x89, 0xc3, 0x8b, 0x00, 0x85,
        0xc0, 0x78, 0x18, 0xff, 0xc8, 0x89, 0x03, 0x75,
        0x12, 0x48, 0x89, 0xdf, 0xff, 0x15, 0x00, 0x00,
        0x00, 0x00, 0xeb, 0x07, 0x48, 0x8b, 0x1d, 0x00,
        0x00, 0x00, 0x00, 0x48, 0xc7, 0x45, 0xc0, 0x00,
        0x00, 0x00, 0x00, 0x4c, 0x89, 0x75, 0xc8, 0x48,
        0x8d, 0x75, 0xd0, 0x48, 0x8b, 0x45, 0xf0, 0x48,
        0x89, 0x45, 0xd0, 0x4c, 0x89, 0x7d, 0xd8, 0x48,
        0x89, 0x5d, 0xe0, 0x48, 0xb8, 0x03, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x80, 0x48, 0x8d, 0x50,
        0x01, 0x31, 0xc9, 0x4d, 0x85, 0xf6, 0x0f, 0x95,
        0xc1, 0x4d, 0x89, 0x6c, 0x24, 0x40, 0x48, 0x0f,
        0x44, 0xd0, 0xc1, 0xe1, 0x03, 0x48, 0x29, 0xce,
        0x48, 0x8b, 0x7d, 0xe8, 0x31, 0xc9, 0xff, 0x15,
        0x00, 0x00, 0x00, 0x00, 0x4d, 0x8b, 0x6c, 0x24,
        0x40, 0x49, 0xc7, 0x44, 0x24, 0x40, 0x00, 0x00,
        0x00, 0x00, 0x48, 0x85, 0xc0, 0x74, 0x16, 0x49,
        0x89, 0x45, 0x00, 0x49, 0x83, 0xc5, 0x08, 0x4c,
        0x8b, 0x75, 0xf8, 0x48, 0x83, 0xc4, 0x40, 0x5d,
        0xe9, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8b, 0x75,
        0xf8, 0x48, 0x83, 0xc4, 0x40, 0x5d, 0xe9, 0x00,
        0x00, 0x00, 0x00,
    };
    // 0: &PyObject_Vectorcall+0x0
    // 8: &_Py_NoneStruct+0x0
    // 10: &_Py_Dealloc+0x0
    // 18: &PyException_GetTraceback+0x0
    const unsigned char data_body[32] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, (uintptr_t)&PyObject_Vectorcall);
    patch_64(data + 0x8, (uintptr_t)&_Py_NoneStruct);
    patch_64(data + 0x10, (uintptr_t)&_Py_Dealloc);
    patch_64(data + 0x18, (uintptr_t)&PyException_GetTraceback);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x29, (uintptr_t)data + 0x14);
    patch_x86_64_32rx(code + 0x46, (uintptr_t)data + 0xc);
    patch_x86_64_32rx(code + 0x4f, (uintptr_t)data + 0x4);
    patch_x86_64_32rx(code + 0xa0, (uintptr_t)data + -0x4);
    patch_32r(code + 0xc9, (uintptr_t)code + sizeof(code_body) + -0x4);
    patch_32r(code + 0xd7, state->instruction_starts[instruction->error_target] + -0x4);
}

void
emit__YIELD_VALUE(
    unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
    const _PyUOpInstruction *instruction, jit_state *state)
{
    //
    // _YIELD_VALUE.o:    file format mach-o 64-bit x86-64
    //
    // Disassembly of section __TEXT,__text:
    //
    // 0000000000000000 <__JIT_ENTRY>:
    // 0: 55                            pushq   %rbp
    // 1: 48 89 e5                      movq    %rsp, %rbp
    // 4: 49 8b 4d f8                   movq    -0x8(%r13), %rcx
    // 8: 49 83 44 24 38 02             addq    $0x2, 0x38(%r12)
    // e: 49 83 c5 f8                   addq    $-0x8, %r13
    // 12: 0f b6 05 00 00 00 00          movzbl  (%rip), %eax            ## 0x19 <__JIT_ENTRY+0x19>
    // 0000000000000015:  X86_64_RELOC_GOT     __JIT_OPARG@GOTPCREL
    // 19: 04 fe                         addb    $-0x2, %al
    // 1b: 41 88 44 24 fb                movb    %al, -0x5(%r12)
    // 20: 4d 89 6c 24 40                movq    %r13, 0x40(%r12)
    // 25: 49 8b 44 24 e8                movq    -0x18(%r12), %rax
    // 2a: 49 89 46 78                   movq    %rax, 0x78(%r14)
    // 2e: 49 c7 44 24 e8 00 00 00 00    movq    $0x0, -0x18(%r12)
    // 37: 41 ff 46 2c                   incl    0x2c(%r14)
    // 3b: 49 8b 44 24 08                movq    0x8(%r12), %rax
    // 40: 49 89 46 48                   movq    %rax, 0x48(%r14)
    // 44: 49 c7 44 24 08 00 00 00 00    movq    $0x0, 0x8(%r12)
    // 4d: 4c 8b 68 40                   movq    0x40(%rax), %r13
    // 51: 48 c7 40 40 00 00 00 00       movq    $0x0, 0x40(%rax)
    // 59: 49 89 4d 00                   movq    %rcx, (%r13)
    // 5d: 49 83 c5 08                   addq    $0x8, %r13
    // 61: 49 89 c4                      movq    %rax, %r12
    // 64: 5d                            popq    %rbp
    // 65: e9 00 00 00 00                jmp     0x6a <__JIT_ENTRY+0x6a>
    // 0000000000000066:  X86_64_RELOC_BRANCH  __JIT_CONTINUE
    const unsigned char code_body[101] = {
        0x55, 0x48, 0x89, 0xe5, 0x49, 0x8b, 0x4d, 0xf8,
        0x49, 0x83, 0x44, 0x24, 0x38, 0x02, 0x49, 0x83,
        0xc5, 0xf8, 0x0f, 0xb6, 0x05, 0x00, 0x00, 0x00,
        0x00, 0x04, 0xfe, 0x41, 0x88, 0x44, 0x24, 0xfb,
        0x4d, 0x89, 0x6c, 0x24, 0x40, 0x49, 0x8b, 0x44,
        0x24, 0xe8, 0x49, 0x89, 0x46, 0x78, 0x49, 0xc7,
        0x44, 0x24, 0xe8, 0x00, 0x00, 0x00, 0x00, 0x41,
        0xff, 0x46, 0x2c, 0x49, 0x8b, 0x44, 0x24, 0x08,
        0x49, 0x89, 0x46, 0x48, 0x49, 0xc7, 0x44, 0x24,
        0x08, 0x00, 0x00, 0x00, 0x00, 0x4c, 0x8b, 0x68,
        0x40, 0x48, 0xc7, 0x40, 0x40, 0x00, 0x00, 0x00,
        0x00, 0x49, 0x89, 0x4d, 0x00, 0x49, 0x83, 0xc5,
        0x08, 0x49, 0x89, 0xc4, 0x5d,
    };
    // 0: OPARG
    const unsigned char data_body[8] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    };
    memcpy(data, data_body, sizeof(data_body));
    patch_64(data + 0x0, instruction->oparg);
    memcpy(code, code_body, sizeof(code_body));
    patch_x86_64_32rx(code + 0x15, (uintptr_t)data + -0x4);
}

static_assert(SYMBOL_MASK_WORDS >= 1, "SYMBOL_MASK_WORDS too small");

typedef struct {
    void (*emit)(
        unsigned char *code, unsigned char *data, _PyExecutorObject *executor,
        const _PyUOpInstruction *instruction, jit_state *state);
    size_t code_size;
    size_t data_size;
    symbol_mask trampoline_mask;
} StencilGroup;

static const StencilGroup shim = {emit_shim, 113, 16, {0}};

static const StencilGroup stencil_groups[MAX_UOP_ID + 1] = {
    [_BINARY_OP] = {emit__BINARY_OP, 155, 24, {0}},
    [_BINARY_OP_ADD_FLOAT] = {emit__BINARY_OP_ADD_FLOAT, 53, 8, {0}},
    [_BINARY_OP_ADD_INT] = {emit__BINARY_OP_ADD_INT, 197, 24, {0}},
    [_BINARY_OP_ADD_UNICODE] = {emit__BINARY_OP_ADD_UNICODE, 197, 24, {0}},
    [_BINARY_OP_INPLACE_ADD_UNICODE] = {emit__BINARY_OP_INPLACE_ADD_UNICODE, 235, 32, {0}},
    [_BINARY_OP_MULTIPLY_FLOAT] = {emit__BINARY_OP_MULTIPLY_FLOAT, 53, 8, {0}},
    [_BINARY_OP_MULTIPLY_INT] = {emit__BINARY_OP_MULTIPLY_INT, 197, 24, {0}},
    [_BINARY_OP_SUBTRACT_FLOAT] = {emit__BINARY_OP_SUBTRACT_FLOAT, 53, 8, {0}},
    [_BINARY_OP_SUBTRACT_INT] = {emit__BINARY_OP_SUBTRACT_INT, 197, 24, {0}},
    [_BINARY_SLICE] = {emit__BINARY_SLICE, 200, 24, {0}},
    [_BINARY_SUBSCR] = {emit__BINARY_SUBSCR, 144, 16, {0}},
    [_BINARY_SUBSCR_CHECK_FUNC] = {emit__BINARY_SUBSCR_CHECK_FUNC, 116, 0, {0}},
    [_BINARY_SUBSCR_DICT] = {emit__BINARY_SUBSCR_DICT, 206, 32, {0}},
    [_BINARY_SUBSCR_INIT_CALL] = {emit__BINARY_SUBSCR_INIT_CALL, 177, 0, {0}},
    [_BINARY_SUBSCR_LIST_INT] = {emit__BINARY_SUBSCR_LIST_INT, 203, 40, {0}},
    [_BINARY_SUBSCR_STR_INT] = {emit__BINARY_SUBSCR_STR_INT, 351, 40, {0}},
    [_BINARY_SUBSCR_TUPLE_INT] = {emit__BINARY_SUBSCR_TUPLE_INT, 200, 40, {0}},
    [_BUILD_LIST] = {emit__BUILD_LIST, 75, 16, {0}},
    [_BUILD_MAP] = {emit__BUILD_MAP, 242, 24, {0}},
    [_BUILD_SET] = {emit__BUILD_SET, 383, 32, {0}},
    [_BUILD_SLICE] = {emit__BUILD_SLICE, 260, 24, {0}},
    [_BUILD_STRING] = {emit__BUILD_STRING, 202, 32, {0}},
    [_BUILD_TUPLE] = {emit__BUILD_TUPLE, 75, 16, {0}},
    [_CALL_BUILTIN_CLASS] = {emit__CALL_BUILTIN_CLASS, 314, 16, {0}},
    [_CALL_BUILTIN_FAST] = {emit__CALL_BUILTIN_FAST, 331, 24, {0}},
    [_CALL_BUILTIN_FAST_WITH_KEYWORDS] = {emit__CALL_BUILTIN_FAST_WITH_KEYWORDS, 331, 24, {0}},
    [_CALL_BUILTIN_O] = {emit__CALL_BUILTIN_O, 297, 24, {0}},
    [_CALL_INTRINSIC_1] = {emit__CALL_INTRINSIC_1, 106, 24, {0}},
    [_CALL_INTRINSIC_2] = {emit__CALL_INTRINSIC_2, 161, 24, {0}},
    [_CALL_ISINSTANCE] = {emit__CALL_ISINSTANCE, 333, 40, {0}},
    [_CALL_KW_NON_PY] = {emit__CALL_KW_NON_PY, 338, 24, {0}},
    [_CALL_LEN] = {emit__CALL_LEN, 284, 40, {0}},
    [_CALL_LIST_APPEND] = {emit__CALL_LIST_APPEND, 167, 16, {0}},
    [_CALL_METHOD_DESCRIPTOR_FAST] = {emit__CALL_METHOD_DESCRIPTOR_FAST, 346, 24, {0}},
    [_CALL_METHOD_DESCRIPTOR_FAST_WITH_KEYWORDS] = {emit__CALL_METHOD_DESCRIPTOR_FAST_WITH_KEYWORDS, 362, 24, {0}},
    [_CALL_METHOD_DESCRIPTOR_NOARGS] = {emit__CALL_METHOD_DESCRIPTOR_NOARGS, 311, 24, {0}},
    [_CALL_METHOD_DESCRIPTOR_O] = {emit__CALL_METHOD_DESCRIPTOR_O, 335, 24, {0}},
    [_CALL_NON_PY_GENERAL] = {emit__CALL_NON_PY_GENERAL, 338, 24, {0}},
    [_CALL_STR_1] = {emit__CALL_STR_1, 114, 24, {0}},
    [_CALL_TUPLE_1] = {emit__CALL_TUPLE_1, 114, 24, {0}},
    [_CALL_TYPE_1] = {emit__CALL_TYPE_1, 94, 16, {0}},
    [_CHECK_AND_ALLOCATE_OBJECT] = {emit__CHECK_AND_ALLOCATE_OBJECT, 273, 40, {0}},
    [_CHECK_ATTR_CLASS] = {emit__CHECK_ATTR_CLASS, 47, 8, {0}},
    [_CHECK_ATTR_METHOD_LAZY_DICT] = {emit__CHECK_ATTR_METHOD_LAZY_DICT, 30, 8, {0}},
    [_CHECK_ATTR_MODULE_PUSH_KEYS] = {emit__CHECK_ATTR_MODULE_PUSH_KEYS, 74, 16, {0}},
    [_CHECK_ATTR_WITH_HINT] = {emit__CHECK_ATTR_WITH_HINT, 27, 0, {0}},
    [_CHECK_CALL_BOUND_METHOD_EXACT_ARGS] = {emit__CHECK_CALL_BOUND_METHOD_EXACT_ARGS, 61, 16, {0}},
    [_CHECK_EG_MATCH] = {emit__CHECK_EG_MATCH, 345, 40, {0}},
    [_CHECK_EXC_MATCH] = {emit__CHECK_EXC_MATCH, 178, 40, {0}},
    [_CHECK_FUNCTION] = {emit__CHECK_FUNCTION, 35, 8, {0}},
    [_CHECK_FUNCTION_EXACT_ARGS] = {emit__CHECK_FUNCTION_EXACT_ARGS, 63, 8, {0}},
    [_CHECK_FUNCTION_VERSION] = {emit__CHECK_FUNCTION_VERSION, 65, 24, {0}},
    [_CHECK_FUNCTION_VERSION_INLINE] = {emit__CHECK_FUNCTION_VERSION_INLINE, 37, 16, {0}},
    [_CHECK_FUNCTION_VERSION_KW] = {emit__CHECK_FUNCTION_VERSION_KW, 65, 24, {0}},
    [_CHECK_IS_NOT_PY_CALLABLE] = {emit__CHECK_IS_NOT_PY_CALLABLE, 60, 24, {0}},
    [_CHECK_IS_NOT_PY_CALLABLE_KW] = {emit__CHECK_IS_NOT_PY_CALLABLE_KW, 60, 24, {0}},
    [_CHECK_MANAGED_OBJECT_HAS_VALUES] = {emit__CHECK_MANAGED_OBJECT_HAS_VALUES, 35, 0, {0}},
    [_CHECK_METHOD_VERSION] = {emit__CHECK_METHOD_VERSION, 89, 32, {0}},
    [_CHECK_METHOD_VERSION_KW] = {emit__CHECK_METHOD_VERSION_KW, 95, 32, {0}},
    [_CHECK_PEP_523] = {emit__CHECK_PEP_523, 25, 0, {0}},
    [_CHECK_PERIODIC] = {emit__CHECK_PERIODIC, 58, 8, {0}},
    [_CHECK_PERIODIC_IF_NOT_YIELD_FROM] = {emit__CHECK_PERIODIC_IF_NOT_YIELD_FROM, 73, 16, {0}},
    [_CHECK_STACK_SPACE] = {emit__CHECK_STACK_SPACE, 79, 8, {0}},
    [_CHECK_STACK_SPACE_OPERAND] = {emit__CHECK_STACK_SPACE_OPERAND, 56, 8, {0}},
    [_CHECK_VALIDITY] = {emit__CHECK_VALIDITY, 24, 8, {0}},
    [_CHECK_VALIDITY_AND_SET_IP] = {emit__CHECK_VALIDITY_AND_SET_IP, 36, 16, {0}},
    [_COMPARE_OP] = {emit__COMPARE_OP, 267, 48, {0}},
    [_COMPARE_OP_FLOAT] = {emit__COMPARE_OP_FLOAT, 248, 40, {0}},
    [_COMPARE_OP_INT] = {emit__COMPARE_OP_INT, 316, 40, {0}},
    [_COMPARE_OP_STR] = {emit__COMPARE_OP_STR, 204, 48, {0}},
    [_CONTAINS_OP] = {emit__CONTAINS_OP, 172, 40, {0}},
    [_CONTAINS_OP_DICT] = {emit__CONTAINS_OP_DICT, 183, 48, {0}},
    [_CONTAINS_OP_SET] = {emit__CONTAINS_OP_SET, 210, 56, {0}},
    [_CONVERT_VALUE] = {emit__CONVERT_VALUE, 100, 24, {0}},
    [_COPY] = {emit__COPY, 42, 8, {0}},
    [_COPY_FREE_VARS] = {emit__COPY_FREE_VARS, 166, 8, {0}},
    [_CREATE_INIT_FRAME] = {emit__CREATE_INIT_FRAME, 286, 40, {0}},
    [_DELETE_ATTR] = {emit__DELETE_ATTR, 100, 24, {0}},
    [_DELETE_DEREF] = {emit__DELETE_DEREF, 103, 24, {0}},
    [_DELETE_FAST] = {emit__DELETE_FAST, 132, 120, {0}},
    [_DELETE_GLOBAL] = {emit__DELETE_GLOBAL, 131, 64, {0}},
    [_DELETE_NAME] = {emit__DELETE_NAME, 172, 104, {0}},
    [_DELETE_SUBSCR] = {emit__DELETE_SUBSCR, 135, 16, {0}},
    [_DEOPT] = {emit__DEOPT, 45, 16, {0}},
    [_DICT_MERGE] = {emit__DICT_MERGE, 184, 32, {0}},
    [_DICT_UPDATE] = {emit__DICT_UPDATE, 233, 96, {0}},
    [_DYNAMIC_EXIT] = {emit__DYNAMIC_EXIT, 255, 24, {0}},
    [_END_FOR] = {emit__END_FOR, 39, 8, {0}},
    [_END_SEND] = {emit__END_SEND, 51, 8, {0}},
    [_ERROR_POP_N] = {emit__ERROR_POP_N, 65, 24, {0}},
    [_EXIT_INIT_CHECK] = {emit__EXIT_INIT_CHECK, 79, 72, {0}},
    [_EXIT_TRACE] = {emit__EXIT_TRACE, 454, 32, {0}},
    [_EXPAND_METHOD] = {emit__EXPAND_METHOD, 101, 16, {0}},
    [_EXPAND_METHOD_KW] = {emit__EXPAND_METHOD_KW, 101, 16, {0}},
    [_FATAL_ERROR] = {emit__FATAL_ERROR, 24, 48, {0}},
    [_FORMAT_SIMPLE] = {emit__FORMAT_SIMPLE, 107, 24, {0}},
    [_FORMAT_WITH_SPEC] = {emit__FORMAT_WITH_SPEC, 144, 16, {0}},
    [_FOR_ITER_GEN_FRAME] = {emit__FOR_ITER_GEN_FRAME, 110, 24, {0}},
    [_FOR_ITER_TIER_TWO] = {emit__FOR_ITER_TIER_TWO, 171, 32, {0}},
    [_GET_AITER] = {emit__GET_AITER, 312, 184, {0}},
    [_GET_ANEXT] = {emit__GET_ANEXT, 58, 8, {0}},
    [_GET_AWAITABLE] = {emit__GET_AWAITABLE, 96, 24, {0}},
    [_GET_ITER] = {emit__GET_ITER, 89, 16, {0}},
    [_GET_LEN] = {emit__GET_LEN, 72, 16, {0}},
    [_GET_YIELD_FROM_ITER] = {emit__GET_YIELD_FROM_ITER, 194, 120, {0}},
    [_GUARD_BOTH_FLOAT] = {emit__GUARD_BOTH_FLOAT, 45, 8, {0}},
    [_GUARD_BOTH_INT] = {emit__GUARD_BOTH_INT, 45, 8, {0}},
    [_GUARD_BOTH_UNICODE] = {emit__GUARD_BOTH_UNICODE, 45, 8, {0}},
    [_GUARD_BUILTINS_VERSION_PUSH_KEYS] = {emit__GUARD_BUILTINS_VERSION_PUSH_KEYS, 58, 16, {0}},
    [_GUARD_DORV_NO_DICT] = {emit__GUARD_DORV_NO_DICT, 37, 0, {0}},
    [_GUARD_DORV_VALUES_INST_ATTR_FROM_DICT] = {emit__GUARD_DORV_VALUES_INST_ATTR_FROM_DICT, 35, 0, {0}},
    [_GUARD_GLOBALS_VERSION] = {emit__GUARD_GLOBALS_VERSION, 50, 16, {0}},
    [_GUARD_GLOBALS_VERSION_PUSH_KEYS] = {emit__GUARD_GLOBALS_VERSION_PUSH_KEYS, 58, 16, {0}},
    [_GUARD_IS_FALSE_POP] = {emit__GUARD_IS_FALSE_POP, 28, 8, {0}},
    [_GUARD_IS_NONE_POP] = {emit__GUARD_IS_NONE_POP, 57, 16, {0}},
    [_GUARD_IS_NOT_NONE_POP] = {emit__GUARD_IS_NOT_NONE_POP, 67, 16, {0}},
    [_GUARD_IS_TRUE_POP] = {emit__GUARD_IS_TRUE_POP, 28, 8, {0}},
    [_GUARD_KEYS_VERSION] = {emit__GUARD_KEYS_VERSION, 42, 8, {0}},
    [_GUARD_NOS_FLOAT] = {emit__GUARD_NOS_FLOAT, 28, 8, {0}},
    [_GUARD_NOS_INT] = {emit__GUARD_NOS_INT, 28, 8, {0}},
    [_GUARD_NOT_EXHAUSTED_LIST] = {emit__GUARD_NOT_EXHAUSTED_LIST, 53, 0, {0}},
    [_GUARD_NOT_EXHAUSTED_RANGE] = {emit__GUARD_NOT_EXHAUSTED_RANGE, 27, 0, {0}},
    [_GUARD_NOT_EXHAUSTED_TUPLE] = {emit__GUARD_NOT_EXHAUSTED_TUPLE, 39, 0, {0}},
    [_GUARD_TOS_FLOAT] = {emit__GUARD_TOS_FLOAT, 28, 8, {0}},
    [_GUARD_TOS_INT] = {emit__GUARD_TOS_INT, 28, 8, {0}},
    [_GUARD_TYPE_VERSION] = {emit__GUARD_TYPE_VERSION, 38, 8, {0}},
    [_GUARD_TYPE_VERSION_AND_LOCK] = {emit__GUARD_TYPE_VERSION_AND_LOCK, 38, 8, {0}},
    [_IMPORT_FROM] = {emit__IMPORT_FROM, 81, 16, {0}},
    [_IMPORT_NAME] = {emit__IMPORT_NAME, 170, 24, {0}},
    [_INIT_CALL_BOUND_METHOD_EXACT_ARGS] = {emit__INIT_CALL_BOUND_METHOD_EXACT_ARGS, 101, 16, {0}},
    [_INIT_CALL_PY_EXACT_ARGS] = {emit__INIT_CALL_PY_EXACT_ARGS, 513, 8, {0}},
    [_INIT_CALL_PY_EXACT_ARGS_0] = {emit__INIT_CALL_PY_EXACT_ARGS_0, 196, 0, {0}},
    [_INIT_CALL_PY_EXACT_ARGS_1] = {emit__INIT_CALL_PY_EXACT_ARGS_1, 198, 0, {0}},
    [_INIT_CALL_PY_EXACT_ARGS_2] = {emit__INIT_CALL_PY_EXACT_ARGS_2, 207, 0, {0}},
    [_INIT_CALL_PY_EXACT_ARGS_3] = {emit__INIT_CALL_PY_EXACT_ARGS_3, 216, 0, {0}},
    [_INIT_CALL_PY_EXACT_ARGS_4] = {emit__INIT_CALL_PY_EXACT_ARGS_4, 225, 0, {0}},
    [_INTERNAL_INCREMENT_OPT_COUNTER] = {emit__INTERNAL_INCREMENT_OPT_COUNTER, 17, 0, {0}},
    [_IS_NONE] = {emit__IS_NONE, 72, 32, {0}},
    [_IS_OP] = {emit__IS_OP, 115, 32, {0}},
    [_ITER_CHECK_LIST] = {emit__ITER_CHECK_LIST, 28, 8, {0}},
    [_ITER_CHECK_RANGE] = {emit__ITER_CHECK_RANGE, 28, 8, {0}},
    [_ITER_CHECK_TUPLE] = {emit__ITER_CHECK_TUPLE, 28, 8, {0}},
    [_ITER_NEXT_LIST] = {emit__ITER_NEXT_LIST, 51, 0, {0}},
    [_ITER_NEXT_RANGE] = {emit__ITER_NEXT_RANGE, 58, 8, {0}},
    [_ITER_NEXT_TUPLE] = {emit__ITER_NEXT_TUPLE, 48, 0, {0}},
    [_JUMP_TO_TOP] = {emit__JUMP_TO_TOP, 10, 0, {0}},
    [_LIST_APPEND] = {emit__LIST_APPEND, 89, 16, {0}},
    [_LIST_EXTEND] = {emit__LIST_EXTEND, 267, 112, {0}},
    [_LOAD_ATTR] = {emit__LOAD_ATTR, 244, 32, {0}},
    [_LOAD_ATTR_CLASS_0] = {emit__LOAD_ATTR_CLASS_0, 57, 16, {0}},
    [_LOAD_ATTR_CLASS_1] = {emit__LOAD_ATTR_CLASS_1, 81, 16, {0}},
    [_LOAD_ATTR_INSTANCE_VALUE_0] = {emit__LOAD_ATTR_INSTANCE_VALUE_0, 70, 16, {0}},
    [_LOAD_ATTR_INSTANCE_VALUE_1] = {emit__LOAD_ATTR_INSTANCE_VALUE_1, 94, 16, {0}},
    [_LOAD_ATTR_METHOD_LAZY_DICT] = {emit__LOAD_ATTR_METHOD_LAZY_DICT, 38, 8, {0}},
    [_LOAD_ATTR_METHOD_NO_DICT] = {emit__LOAD_ATTR_METHOD_NO_DICT, 38, 8, {0}},
    [_LOAD_ATTR_METHOD_WITH_VALUES] = {emit__LOAD_ATTR_METHOD_WITH_VALUES, 38, 8, {0}},
    [_LOAD_ATTR_MODULE] = {emit__LOAD_ATTR_MODULE, 117, 24, {0}},
    [_LOAD_ATTR_MODULE_FROM_KEYS] = {emit__LOAD_ATTR_MODULE_FROM_KEYS, 122, 24, {0}},
    [_LOAD_ATTR_NONDESCRIPTOR_NO_DICT] = {emit__LOAD_ATTR_NONDESCRIPTOR_NO_DICT, 48, 16, {0}},
    [_LOAD_ATTR_NONDESCRIPTOR_WITH_VALUES] = {emit__LOAD_ATTR_NONDESCRIPTOR_WITH_VALUES, 48, 16, {0}},
    [_LOAD_ATTR_PROPERTY_FRAME] = {emit__LOAD_ATTR_PROPERTY_FRAME, 245, 8, {0}},
    [_LOAD_ATTR_SLOT_0] = {emit__LOAD_ATTR_SLOT_0, 70, 16, {0}},
    [_LOAD_ATTR_SLOT_1] = {emit__LOAD_ATTR_SLOT_1, 94, 16, {0}},
    [_LOAD_ATTR_WITH_HINT] = {emit__LOAD_ATTR_WITH_HINT, 190, 24, {0}},
    [_LOAD_BUILD_CLASS] = {emit__LOAD_BUILD_CLASS, 140, 64, {0}},
    [_LOAD_COMMON_CONSTANT] = {emit__LOAD_COMMON_CONSTANT, 44, 24, {0}},
    [_LOAD_CONST_IMMORTAL] = {emit__LOAD_CONST_IMMORTAL, 33, 8, {0}},
    [_LOAD_CONST_INLINE] = {emit__LOAD_CONST_INLINE, 30, 8, {0}},
    [_LOAD_CONST_INLINE_BORROW] = {emit__LOAD_CONST_INLINE_BORROW, 20, 8, {0}},
    [_LOAD_CONST_INLINE_BORROW_WITH_NULL] = {emit__LOAD_CONST_INLINE_BORROW_WITH_NULL, 28, 8, {0}},
    [_LOAD_CONST_INLINE_WITH_NULL] = {emit__LOAD_CONST_INLINE_WITH_NULL, 38, 8, {0}},
    [_LOAD_CONST_MORTAL] = {emit__LOAD_CONST_MORTAL, 43, 8, {0}},
    [_LOAD_DEREF] = {emit__LOAD_DEREF, 93, 16, {0}},
    [_LOAD_FAST] = {emit__LOAD_FAST, 35, 8, {0}},
    [_LOAD_FAST_0] = {emit__LOAD_FAST_0, 28, 0, {0}},
    [_LOAD_FAST_1] = {emit__LOAD_FAST_1, 28, 0, {0}},
    [_LOAD_FAST_2] = {emit__LOAD_FAST_2, 28, 0, {0}},
    [_LOAD_FAST_3] = {emit__LOAD_FAST_3, 28, 0, {0}},
    [_LOAD_FAST_4] = {emit__LOAD_FAST_4, 28, 0, {0}},
    [_LOAD_FAST_5] = {emit__LOAD_FAST_5, 28, 0, {0}},
    [_LOAD_FAST_6] = {emit__LOAD_FAST_6, 31, 0, {0}},
    [_LOAD_FAST_7] = {emit__LOAD_FAST_7, 31, 0, {0}},
    [_LOAD_FAST_AND_CLEAR] = {emit__LOAD_FAST_AND_CLEAR, 34, 8, {0}},
    [_LOAD_FAST_CHECK] = {emit__LOAD_FAST_CHECK, 121, 112, {0}},
    [_LOAD_FROM_DICT_OR_DEREF] = {emit__LOAD_FROM_DICT_OR_DEREF, 233, 32, {0}},
    [_LOAD_GLOBAL] = {emit__LOAD_GLOBAL, 116, 16, {0}},
    [_LOAD_GLOBAL_BUILTINS] = {emit__LOAD_GLOBAL_BUILTINS, 103, 16, {0}},
    [_LOAD_GLOBAL_BUILTINS_FROM_KEYS] = {emit__LOAD_GLOBAL_BUILTINS_FROM_KEYS, 104, 16, {0}},
    [_LOAD_GLOBAL_MODULE] = {emit__LOAD_GLOBAL_MODULE, 103, 16, {0}},
    [_LOAD_GLOBAL_MODULE_FROM_KEYS] = {emit__LOAD_GLOBAL_MODULE_FROM_KEYS, 104, 16, {0}},
    [_LOAD_LOCALS] = {emit__LOAD_LOCALS, 88, 32, {0}},
    [_LOAD_NAME] = {emit__LOAD_NAME, 80, 16, {0}},
    [_LOAD_SMALL_INT] = {emit__LOAD_SMALL_INT, 39, 16, {0}},
    [_LOAD_SMALL_INT_0] = {emit__LOAD_SMALL_INT_0, 25, 8, {0}},
    [_LOAD_SMALL_INT_1] = {emit__LOAD_SMALL_INT_1, 25, 8, {0}},
    [_LOAD_SMALL_INT_2] = {emit__LOAD_SMALL_INT_2, 25, 8, {0}},
    [_LOAD_SMALL_INT_3] = {emit__LOAD_SMALL_INT_3, 25, 8, {0}},
    [_LOAD_SPECIAL] = {emit__LOAD_SPECIAL, 212, 40, {0}},
    [_LOAD_SUPER_ATTR_ATTR] = {emit__LOAD_SUPER_ATTR_ATTR, 237, 32, {0}},
    [_LOAD_SUPER_ATTR_METHOD] = {emit__LOAD_SUPER_ATTR_METHOD, 280, 40, {0}},
    [_MAKE_CALLARGS_A_TUPLE] = {emit__MAKE_CALLARGS_A_TUPLE, 238, 40, {0}},
    [_MAKE_CELL] = {emit__MAKE_CELL, 79, 24, {0}},
    [_MAKE_FUNCTION] = {emit__MAKE_FUNCTION, 103, 24, {0}},
    [_MAKE_WARM] = {emit__MAKE_WARM, 44, 8, {0}},
    [_MAP_ADD] = {emit__MAP_ADD, 74, 16, {0}},
    [_MATCH_CLASS] = {emit__MATCH_CLASS, 218, 32, {0}},
    [_MATCH_KEYS] = {emit__MATCH_KEYS, 65, 8, {0}},
    [_MATCH_MAPPING] = {emit__MATCH_MAPPING, 58, 16, {0}},
    [_MATCH_SEQUENCE] = {emit__MATCH_SEQUENCE, 58, 16, {0}},
    [_MAYBE_EXPAND_METHOD] = {emit__MAYBE_EXPAND_METHOD, 129, 24, {0}},
    [_MAYBE_EXPAND_METHOD_KW] = {emit__MAYBE_EXPAND_METHOD_KW, 142, 24, {0}},
    [_NOP] = {emit__NOP, 5, 0, {0}},
    [_POP_EXCEPT] = {emit__POP_EXCEPT, 101, 16, {0}},
    [_POP_TOP] = {emit__POP_TOP, 39, 8, {0}},
    [_POP_TOP_LOAD_CONST_INLINE_BORROW] = {emit__POP_TOP_LOAD_CONST_INLINE_BORROW, 55, 16, {0}},
    [_PUSH_EXC_INFO] = {emit__PUSH_EXC_INFO, 53, 8, {0}},
    [_PUSH_FRAME] = {emit__PUSH_FRAME, 41, 0, {0}},
    [_PUSH_NULL] = {emit__PUSH_NULL, 17, 0, {0}},
    [_PY_FRAME_GENERAL] = {emit__PY_FRAME_GENERAL, 187, 16, {0}},
    [_PY_FRAME_KW] = {emit__PY_FRAME_KW, 236, 24, {0}},
    [_REPLACE_WITH_TRUE] = {emit__REPLACE_WITH_TRUE, 55, 16, {0}},
    [_RESUME_CHECK] = {emit__RESUME_CHECK, 33, 0, {0}},
    [_RETURN_GENERATOR] = {emit__RETURN_GENERATOR, 479, 16, {0}},
    [_RETURN_VALUE] = {emit__RETURN_VALUE, 65, 8, {0}},
    [_SAVE_RETURN_OFFSET] = {emit__SAVE_RETURN_OFFSET, 18, 8, {0}},
    [_SEND_GEN_FRAME] = {emit__SEND_GEN_FRAME, 118, 24, {0}},
    [_SETUP_ANNOTATIONS] = {emit__SETUP_ANNOTATIONS, 275, 104, {0}},
    [_SET_ADD] = {emit__SET_ADD, 102, 24, {0}},
    [_SET_FUNCTION_ATTRIBUTE] = {emit__SET_FUNCTION_ATTRIBUTE, 46, 16, {0}},
    [_SET_IP] = {emit__SET_IP, 17, 8, {0}},
    [_SET_UPDATE] = {emit__SET_UPDATE, 107, 24, {0}},
    [_START_EXECUTOR] = {emit__START_EXECUTOR, 57, 8, {0}},
    [_STORE_ATTR] = {emit__STORE_ATTR, 155, 24, {0}},
    [_STORE_ATTR_INSTANCE_VALUE] = {emit__STORE_ATTR_INSTANCE_VALUE, 139, 16, {0}},
    [_STORE_ATTR_SLOT] = {emit__STORE_ATTR_SLOT, 82, 16, {0}},
    [_STORE_ATTR_WITH_HINT] = {emit__STORE_ATTR_WITH_HINT, 255, 32, {0}},
    [_STORE_DEREF] = {emit__STORE_DEREF, 98, 16, {0}},
    [_STORE_FAST] = {emit__STORE_FAST, 65, 16, {0}},
    [_STORE_FAST_0] = {emit__STORE_FAST_0, 58, 8, {0}},
    [_STORE_FAST_1] = {emit__STORE_FAST_1, 58, 8, {0}},
    [_STORE_FAST_2] = {emit__STORE_FAST_2, 58, 8, {0}},
    [_STORE_FAST_3] = {emit__STORE_FAST_3, 58, 8, {0}},
    [_STORE_FAST_4] = {emit__STORE_FAST_4, 58, 8, {0}},
    [_STORE_FAST_5] = {emit__STORE_FAST_5, 58, 8, {0}},
    [_STORE_FAST_6] = {emit__STORE_FAST_6, 64, 8, {0}},
    [_STORE_FAST_7] = {emit__STORE_FAST_7, 64, 8, {0}},
    [_STORE_GLOBAL] = {emit__STORE_GLOBAL, 105, 24, {0}},
    [_STORE_NAME] = {emit__STORE_NAME, 219, 88, {0}},
    [_STORE_SLICE] = {emit__STORE_SLICE, 230, 24, {0}},
    [_STORE_SUBSCR] = {emit__STORE_SUBSCR, 176, 16, {0}},
    [_STORE_SUBSCR_DICT] = {emit__STORE_SUBSCR_DICT, 99, 24, {0}},
    [_STORE_SUBSCR_LIST_INT] = {emit__STORE_SUBSCR_LIST_INT, 196, 40, {0}},
    [_SWAP] = {emit__SWAP, 35, 8, {0}},
    [_TIER2_RESUME_CHECK] = {emit__TIER2_RESUME_CHECK, 19, 0, {0}},
    [_TO_BOOL] = {emit__TO_BOOL, 111, 32, {0}},
    [_TO_BOOL_BOOL] = {emit__TO_BOOL_BOOL, 28, 8, {0}},
    [_TO_BOOL_INT] = {emit__TO_BOOL_INT, 91, 32, {0}},
    [_TO_BOOL_LIST] = {emit__TO_BOOL_LIST, 86, 32, {0}},
    [_TO_BOOL_NONE] = {emit__TO_BOOL_NONE, 35, 16, {0}},
    [_TO_BOOL_STR] = {emit__TO_BOOL_STR, 97, 40, {0}},
    [_UNARY_INVERT] = {emit__UNARY_INVERT, 89, 16, {0}},
    [_UNARY_NEGATIVE] = {emit__UNARY_NEGATIVE, 89, 16, {0}},
    [_UNARY_NOT] = {emit__UNARY_NOT, 29, 16, {0}},
    [_UNPACK_EX] = {emit__UNPACK_EX, 146, 24, {0}},
    [_UNPACK_SEQUENCE] = {emit__UNPACK_SEQUENCE, 114, 24, {0}},
    [_UNPACK_SEQUENCE_LIST] = {emit__UNPACK_SEQUENCE_LIST, 152, 24, {0}},
    [_UNPACK_SEQUENCE_TUPLE] = {emit__UNPACK_SEQUENCE_TUPLE, 148, 24, {0}},
    [_UNPACK_SEQUENCE_TWO_TUPLE] = {emit__UNPACK_SEQUENCE_TWO_TUPLE, 114, 16, {0}},
    [_WITH_EXCEPT_START] = {emit__WITH_EXCEPT_START, 219, 32, {0}},
    [_YIELD_VALUE] = {emit__YIELD_VALUE, 101, 8, {0}},
};

static const void * const symbols_map[1] = {
    0
};
