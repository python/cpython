.. bpo: 15568
.. date: 7925
.. nonce: 5EtMDi
.. release date: 12-Aug-2012
.. section: Core and Builtins

Fix the return value of ``yield from`` when StopIteration is raised by a
custom iterator.

..

.. bpo: 13119
.. date: 7924
.. nonce: aseW65
.. section: Core and Builtins

`sys.stdout` and `sys.stderr` are now using "\r\n" newline on Windows, as
Python 2.

..

.. bpo: 15534
.. date: 7923
.. nonce: 4Pyohe
.. section: Core and Builtins

Fix the fast-search function for non-ASCII Unicode strings.

..

.. bpo: 15508
.. date: 7922
.. nonce: KU2qVb
.. section: Core and Builtins

Fix the docstring for `__import__()` to have the proper default value of 0
for 'level' and to not mention negative levels since they are not supported.

..

.. bpo: 15425
.. date: 7921
.. nonce: zCIhUA
.. section: Core and Builtins

Eliminated traceback noise from more situations involving importlib.

..

.. bpo: 14578
.. date: 7920
.. nonce: h-xy3r
.. section: Core and Builtins

Support modules registered in the Windows registry again.

..

.. bpo: 15466
.. date: 7919
.. nonce: 1DQAG_
.. section: Core and Builtins

Stop using TYPE_INT64 in marshal, to make importlib.h (and other byte code
files) equal between 32-bit and 64-bit systems.

..

.. bpo: 1692335
.. date: 7918
.. nonce: BrUd_4
.. section: Core and Builtins

Move initial exception args assignment to `BaseException.__new__()` to help
pickling of naive subclasses.

..

.. bpo: 12834
.. date: 7917
.. nonce: 2LoP3_
.. section: Core and Builtins

Fix `PyBuffer_ToContiguous()` for non-contiguous arrays.

..

.. bpo: 15456
.. date: 7916
.. nonce: bOiKDB
.. section: Core and Builtins

Fix code `__sizeof__()` after #12399 change.  Patch by Serhiy Storchaka.

..

.. bpo: 15404
.. date: 7915
.. nonce: KGT7_K
.. section: Core and Builtins

Refleak in PyMethodObject repr.

..

.. bpo: 15394
.. date: 7914
.. nonce: polWKA
.. section: Core and Builtins

An issue in `PyModule_Create()` that caused references to be leaked on some
error paths has been fixed.  Patch by Julia Lawall.

..

.. bpo: 15368
.. date: 7913
.. nonce: l0rbQ4
.. section: Core and Builtins

An issue that caused bytecode generation to be non-deterministic has been
fixed.

..

.. bpo: 15202
.. date: 7912
.. nonce: K02yPx
.. section: Core and Builtins

Consistently use the name "follow_symlinks" for new parameters in os and
shutil functions.

..

.. bpo: 15314
.. date: 7911
.. nonce: T3keLz
.. section: Core and Builtins

``__main__.__loader__`` is now set correctly during interpreter startup.

..

.. bpo: 15111
.. date: 7910
.. nonce: 1YYX9k
.. section: Core and Builtins

When a module imported using 'from import' has an ImportError inside itself,
don't mask that fact behind a generic ImportError for the module itself.

..

.. bpo: 15293
.. date: 7909
.. nonce: V0da2s
.. section: Core and Builtins

Add GC support to the AST base node type.

..

.. bpo: 15291
.. date: 7908
.. nonce: EZLsML
.. section: Core and Builtins

Fix a memory leak where AST nodes where not properly deallocated.

..

.. bpo: 15110
.. date: 7907
.. nonce: bZ0pao
.. section: Core and Builtins

Fix the tracebacks generated by "import xxx" to not show the importlib stack
frames.

..

.. bpo: 16369
.. date: 7906
.. nonce: GtRTux
.. section: Core and Builtins

Global PyTypeObjects not initialized with PyType_Ready(...).

..

.. bpo: 15020
.. date: 7905
.. nonce: 6h6cc-
.. section: Core and Builtins

The program name used to search for Python's path is now "python3" under
Unix, not "python".

..

.. bpo: 15897
.. date: 7904
.. nonce: GQpoBE
.. section: Core and Builtins

zipimport.c doesn't check return value of fseek(). Patch by Felipe Cruz.

..

.. bpo: 15033
.. date: 7903
.. nonce: gKl1Eg
.. section: Core and Builtins

Fix the exit status bug when modules invoked using -m switch, return the
proper failure return value (1). Patch contributed by Jeff Knupp.

..

.. bpo: 15229
.. date: 7902
.. nonce: hUWTFh
.. section: Core and Builtins

An `OSError` subclass whose __init__ doesn't call back OSError.__init__
could produce incomplete instances, leading to crashes when calling str() on
them.

..

.. bpo: 15307
.. date: 7901
.. nonce: mFzbP4
.. section: Core and Builtins

Virtual environments now use symlinks with framework builds on Mac OS X,
like other POSIX builds.

..

.. bpo: 14590
.. date: 7900
.. nonce: RPPwGW
.. section: Library

configparser now correctly strips inline comments when delimiter occurs
earlier without preceding space.

..

.. bpo: 15424
.. date: 7899
.. nonce: w6orRE
.. section: Library

Add a `__sizeof__()` implementation for array objects.  Patch by Ludwig
Hähne.

..

.. bpo: 15576
.. date: 7898
.. nonce: twIC1T
.. section: Library

Allow extension modules to act as a package's __init__ module.

..

.. bpo: 15502
.. date: 7897
.. nonce: GTqgJP
.. section: Library

Have `importlib.invalidate_caches()` work on `sys.meta_path` instead of
`sys.path_importer_cache`.

..

.. bpo: 15163
.. date: 7896
.. nonce: EbXsEd
.. section: Library

Pydoc shouldn't list __loader__ as module data.

..

.. bpo: 15471
.. date: 7895
.. nonce: v2y8Qp
.. section: Library

Do not use mutable objects as defaults for `importlib.__import__()`.

..

.. bpo: 15559
.. date: 7894
.. nonce: VHs94w
.. section: Library

To avoid a problematic failure mode when passed to the bytes constructor,
objects in the ipaddress module no longer implement `__index__()` (they
still implement `__int__()` as appropriate).

..

.. bpo: 15546
.. date: 7893
.. nonce: 7Rbh2v
.. section: Library

Fix handling of pathological input data in the peek() and read1() methods of
the BZ2File, GzipFile and LZMAFile classes.

..

.. bpo: 12655
.. date: 7892
.. nonce: ZAyp7B
.. section: Library

Instead of requiring a custom type, `os.sched_getaffinity()` and
`os.sched_setaffinity()` now use regular sets of integers to represent the
CPUs a process is restricted to.

..

.. bpo: 15538
.. date: 7891
.. nonce: gWWn3s
.. section: Library

Fix compilation of the `socket.getnameinfo()` / `socket.getaddrinfo()`
emulation code.  Patch by Philipp Hagemeister.

..

.. bpo: 15519
.. date: 7890
.. nonce: 2yTG4N
.. section: Library

Properly expose WindowsRegistryFinder in importlib (and use the correct term
for it).  Original patch by Eric Snow.

..

.. bpo: 15502
.. date: 7889
.. nonce: _ap4my
.. section: Library

Bring the importlib ABCs into line with the current state of the import
protocols given PEP 420.  Original patch by Eric Snow.

..

.. bpo: 15499
.. date: 7888
.. nonce: TRAS0u
.. section: Library

Launching a webbrowser in Unix used to sleep for a few seconds. Original
patch by Anton Barkovsky.

..

.. bpo: 15463
.. date: 7887
.. nonce: _sPf0r
.. section: Library

The faulthandler module truncates strings to 500 characters, instead of 100,
to be able to display long file paths.

..

.. bpo: 6056
.. date: 7886
.. nonce: nOnpDY
.. section: Library

Make `multiprocessing` use setblocking(True) on the sockets it uses.
Original patch by J Derek Wilson.

..

.. bpo: 15364
.. date: 7885
.. nonce: OM4nfW
.. section: Library

Fix sysconfig.get_config_var('srcdir') to be an absolute path.

..

.. bpo: 15413
.. date: 7884
.. nonce: mADROy
.. section: Library

`os.times()` had disappeared under Windows.

..

.. bpo: 15402
.. date: 7883
.. nonce: RTpYl_
.. section: Library

An issue in the struct module that caused `sys.getsizeof()` to return
incorrect results for struct.Struct instances has been fixed.  Initial patch
by Serhiy Storchaka.

..

.. bpo: 15232
.. date: 7882
.. nonce: AKjzKL
.. section: Library

When mangle_from is True, `email.Generator` now correctly mangles lines that
start with 'From ' that occur in a MIME preamble or epilogue.

..

.. bpo: 15094
.. date: 7881
.. nonce: _4f99s
.. section: Library

Incorrectly placed #endif in _tkinter.c.  Patch by Serhiy Storchaka.

..

.. bpo: 13922
.. date: 7880
.. nonce: Bv_D0W
.. section: Library

`argparse` no longer incorrectly strips '--'s that appear after the first
one.

..

.. bpo: 12353
.. date: 7879
.. nonce: fYrcGJ
.. section: Library

`argparse` now correctly handles null argument values.

..

.. bpo: 10017
.. date: 7878
.. nonce: CswD6I
.. section: Library

Fix TypeError using pprint on dictionaries with user-defined types as keys
or other unorderable keys. (See also: bpo-14998)

..

.. bpo: 15397
.. date: 7877
.. nonce: xaA9nH
.. section: Library

`inspect.getmodulename()` is now based directly on importlib via a new
`importlib.machinery.all_suffixes()` API.

..

.. bpo: 14635
.. date: 7876
.. nonce: oyc5AR
.. section: Library

`telnetlib` will use poll() rather than select() when possible to avoid
failing due to the select() file descriptor limit.

..

.. bpo: 15180
.. date: 7875
.. nonce: CPeO5l
.. section: Library

Clarify posixpath.join() error message when mixing str & bytes.

..

.. bpo: 15343
.. date: 7874
.. nonce: zT5uuJ
.. section: Library

pkgutil now includes an iter_importer_modules implementation for
importlib.machinery.FileFinder (similar to the way it already handled
zipimport.zipimporter).

..

.. bpo: 15314
.. date: 7873
.. nonce: 1kHyrO
.. section: Library

runpy now sets __main__.__loader__ correctly.

..

.. bpo: 15357
.. date: 7872
.. nonce: fCWRb1
.. section: Library

The import emulation in pkgutil is now deprecated. pkgutil uses importlib
internally rather than the emulation.

..

.. bpo: 15233
.. date: 7871
.. nonce: 8YQW0-
.. section: Library

Python now guarantees that callables registered with the atexit module will
be called in a deterministic order.

..

.. bpo: 15238
.. date: 7870
.. nonce: hBKF6z
.. section: Library

`shutil.copystat()` now copies Linux "extended attributes".

..

.. bpo: 15230
.. date: 7869
.. nonce: hF8Df5
.. section: Library

runpy.run_path now correctly sets __package__ as described in the
documentation.

..

.. bpo: 15315
.. date: 7868
.. nonce: MDcIoC
.. section: Library

Support VS 2010 in distutils cygwincompiler.

..

.. bpo: 15294
.. date: 7867
.. nonce: s_sHkY
.. section: Library

Fix a regression in pkgutil.extend_path()'s handling of nested namespace
packages.

..

.. bpo: 15056
.. date: 7866
.. nonce: _hOdjz
.. section: Library

`imp.cache_from_source()` and `imp.source_from_cache()` raise
NotImplementedError when `sys.implementation.cache_tag` is set to None.

..

.. bpo: 15256
.. date: 7865
.. nonce: j5YTHm
.. section: Library

Grammatical mistake in exception raised by `imp.find_module()`.

..

.. bpo: 5931
.. date: 7864
.. nonce: VKqYde
.. section: Library

`wsgiref` environ variable SERVER_SOFTWARE will specify an implementation
specific term like CPython, Jython instead of generic "Python".

..

.. bpo: 13248
.. date: 7863
.. nonce: N0Q9xt
.. section: Library

Remove obsolete argument "max_buffer_size" of BufferedWriter and
BufferedRWPair, from the io module.

..

.. bpo: 13248
.. date: 7862
.. nonce: _3vbnO
.. section: Library

Remove obsolete argument "version" of `argparse.ArgumentParser`.

..

.. bpo: 14814
.. date: 7861
.. nonce: W1kVVL
.. section: Library

Implement more consistent ordering and sorting behaviour for ipaddress
objects.

..

.. bpo: 14814
.. date: 7860
.. nonce: I6pgMy
.. section: Library

`ipaddress` network objects correctly return NotImplemented when compared to
arbitrary objects instead of raising TypeError.

..

.. bpo: 14990
.. date: 7859
.. nonce: -Zc9sh
.. section: Library

Correctly fail with SyntaxError on invalid encoding declaration.

..

.. bpo: 14814
.. date: 7858
.. nonce: jojpI0
.. section: Library

`ipaddress` now provides more informative error messages when constructing
instances directly (changes permitted during beta due to provisional API
status).

..

.. bpo: 15247
.. date: 7857
.. nonce: LPO5XB
.. section: Library

`io.FileIO` now raises an error when given a file descriptor pointing to a
directory.

..

.. bpo: 15261
.. date: 7856
.. nonce: XiGTFG
.. section: Library

Stop os.stat(fd) crashing on Windows when fd not open.

..

.. bpo: 15166
.. date: 7855
.. nonce: R5xIH3
.. section: Library

Implement `imp.get_tag()` using `sys.implementation.cache_tag`.

..

.. bpo: 15210
.. date: 7854
.. nonce: SOwAHs
.. section: Library

Catch KeyError when `importlib.__init__()` can't find _frozen_importlib in
sys.modules, not ImportError.

..

.. bpo: 15030
.. date: 7853
.. nonce: x8Nujl
.. section: Library

`importlib.abc.PyPycLoader` now supports the new source size header field in
.pyc files.

..

.. bpo: 5346
.. date: 7852
.. nonce: pFwRO0
.. section: Library

Preserve permissions of mbox, MMDF and Babyl mailbox files on flush().

..

.. bpo: 10571
.. date: 7851
.. nonce: X5MB7m
.. section: Library

Fix the "--sign" option of distutils' upload command.  Patch by Jakub Wilk.

..

.. bpo: 9559
.. date: 7850
.. nonce: j_O5FY
.. section: Library

If messages were only added, a new file is no longer created and renamed
over the old file when flush() is called on an mbox, MMDF or Babyl mailbox.

..

.. bpo: 10924
.. date: 7849
.. nonce: hzTAWl
.. section: Library

Fixed `crypt.mksalt()` to use a RNG that is suitable for cryptographic
purpose.

..

.. bpo: 15184
.. date: 7848
.. nonce: _o9qHk
.. section: Library

Ensure consistent results of OS X configuration tailoring for universal
builds by factoring out common OS X-specific customizations from sysconfig,
distutils.sysconfig, distutils.util, and distutils.unixccompiler into a new
module _osx_support.

..

.. bpo: 15610
.. date: 7847
.. nonce: 9i-ogW
.. section: C API

`PyImport_ImportModuleEx()` now uses a 'level' of 0 instead of -1.

..

.. bpo: 15169
.. date: 7846
.. nonce: TiQMCK
.. section: C API

Strip out the C implementation of `imp.source_from_cache()` used by
PyImport_ExecCodeModuleWithPathnames() and used the Python code instead.
Leads to PyImport_ExecCodeModuleObject() to not try to infer the source path
from the bytecode path as PyImport_ExecCodeModuleWithPathnames() does. (See
also: bpo-14599)

..

.. bpo: 6493
.. date: 7845
.. nonce: TsfKuQ
.. section: Library

An issue in ctypes on Windows that caused structure bitfields of type
`ctypes.c_uint32` and width 32 to incorrectly be set has been fixed.

..

.. bpo: 15194
.. date: 7844
.. nonce: X7uUdw
.. section: Library

Update libffi to the 3.0.11 release.

..

.. bpo: 13052
.. date: 7843
.. nonce: uLYm16
.. section: IDLE

Fix IDLE crashing when replace string in Search/Replace dialog ended with
``\``.  Patch by Roger Serwy.

..

.. bpo: 15458
.. date: 7842
.. nonce: yqKQVd
.. section: Tools/Demos

python-config gets a new option --configdir to print the $LIBPL value.

..

.. bpo: 0
.. date: 7841
.. nonce: GMHP1o
.. section: Tools/Demos

Move importlib.test.benchmark to Tools/importbench.

..

.. bpo: 12605
.. date: 7840
.. nonce: GsN07w
.. section: Tools/Demos

The gdb hooks for debugging CPython (within Tools/gdb) have been enhanced to
show information on more C frames relevant to CPython within the "py-bt" and
"py-bt-full" commands:

* C frames that are waiting on the GIL
* C frames that are garbage-collecting
* C frames that are due to the invocation of a PyCFunction

..

.. bpo: 15041
.. date: 7839
.. nonce: nMyhwF
.. section: Documentation

Update "see also" list in tkinter documentation.

..

.. bpo: 15444
.. date: 7838
.. nonce: VpoVrT
.. section: Documentation

Use proper spelling for non-ASCII contributor names.  Patch by Serhiy
Storchaka.

..

.. bpo: 15295
.. date: 7837
.. nonce: 74vVdW
.. section: Documentation

Reorganize and rewrite the documentation on the import system.

..

.. bpo: 15230
.. date: 7836
.. nonce: gSl9Ew
.. section: Documentation

Clearly document some of the limitations of the runpy module and nudge
readers towards importlib when appropriate.

..

.. bpo: 15053
.. date: 7835
.. nonce: Icoig1
.. section: Documentation

Copy Python 3.3 import lock change notice to all relevant functions in imp
instead of just at the top of the relevant section.

..

.. bpo: 15288
.. date: 7834
.. nonce: S9JauN
.. section: Documentation

Link to the term "loader" in notes in pkgutil about how things won't work as
expected in Python 3.3 and mark the requisite functions as "changed" since
they will no longer work with modules directly imported by import itself.

..

.. bpo: 13557
.. date: 7833
.. nonce: hxoRWL
.. section: Documentation

Clarify effect of giving two different namespaces to `exec()` or
`execfile()`.

..

.. bpo: 15250
.. date: 7832
.. nonce: 1UQaan
.. section: Documentation

Document that `filecmp.dircmp()` compares files shallowly. Patch contributed
by Chris Jerdonek.

..

.. bpo: 15442
.. date: 7831
.. nonce: xkvBID
.. section: Documentation

Expose the default list of directories ignored by `filecmp.dircmp()` as a
module attribute, and expand the list to more modern values.

..

.. bpo: 15467
.. date: 7830
.. nonce: 18o7uj
.. section: Tests

Move helpers for `__sizeof__()` tests into test_support.  Patch by Serhiy
Storchaka.

..

.. bpo: 15320
.. date: 7829
.. nonce: D9sGMO
.. section: Tests

Make iterating the list of tests thread-safe when running tests in
multiprocess mode. Patch by Chris Jerdonek.

..

.. bpo: 15168
.. date: 7828
.. nonce: 5Wgbv5
.. section: Tests

Move `importlib.test` to `test.test_importlib`.

..

.. bpo: 15091
.. date: 7827
.. nonce: 66ZPS6
.. section: Tests

Reactivate a test on UNIX which was failing thanks to a forgotten
`importlib.invalidate_caches()` call.

..

.. bpo: 15230
.. date: 7826
.. nonce: WoWqyy
.. section: Tests

Adopted a more systematic approach in the runpy tests.

..

.. bpo: 15300
.. date: 7825
.. nonce: Gh3GXC
.. section: Tests

Ensure the temporary test working directories are in the same parent folder
when running tests in multiprocess mode from a Python build. Patch by Chris
Jerdonek.

..

.. bpo: 15284
.. date: 7824
.. nonce: eNb_mn
.. section: Tests

Skip {send,recv}msg tests in test_socket when IPv6 is not enabled. Patch by
Brian Brazil.

..

.. bpo: 15277
.. date: 7823
.. nonce: EIIXc8
.. section: Tests

Fix a resource leak in support.py when IPv6 is disabled.  Patch by Brian
Brazil.

..

.. bpo: 11715
.. date: 7822
.. nonce: n-NQIf
.. section: Build

Fix multiarch detection without having Debian development tools (dpkg-dev)
installed.

..

.. bpo: 15037
.. date: 7821
.. nonce: SNQtrw
.. section: Build

Build OS X installers with local copy of ncurses 5.9 libraries to avoid
curses.unget_wch bug present in older versions of ncurses such as those
shipped with OS X.

..

.. bpo: 15560
.. date: 7820
.. nonce: VpYY1z
.. section: Build

Fix building _sqlite3 extension on OS X with an SDK.  Also, for OS X
installers, ensure consistent sqlite3 behavior and feature availability by
building a local copy of libsqlite3 rather than depending on the wide range
of versions supplied with various OS X releases.

..

.. bpo: 8847
.. date: 7819
.. nonce: lqI_r8
.. section: Build

Disable COMDAT folding in Windows PGO builds.

..

.. bpo: 14018
.. date: 7818
.. nonce: RHawO_
.. section: Build

Fix OS X Tcl/Tk framework checking when using OS X SDKs.

..

.. bpo: 16256
.. date: 7817
.. nonce: vrx66r
.. section: Build

OS X installer now sets correct permissions for doc directory.

..

.. bpo: 15431
.. date: 7816
.. nonce: veQwgP
.. section: Build

Add _freeze_importlib project to regenerate importlib.h on Windows. Patch by
Kristján Valur Jónsson.

..

.. bpo: 14197
.. date: 7815
.. nonce: Jyukle
.. section: Build

For OS X framework builds, ensure links to the shared library are created
with the proper ABI suffix.

..

.. bpo: 14330
.. date: 7814
.. nonce: DrQcsD
.. section: Build

For cross builds, don't use host python, use host search paths for host
compiler.

..

.. bpo: 15235
.. date: 7813
.. nonce: kDP-3-
.. section: Build

Allow Berkley DB versions up to 5.3 to build the dbm module.

..

.. bpo: 15268
.. date: 7812
.. nonce: xCKPyN
.. section: Build

Search curses.h in /usr/include/ncursesw.
